var vk=Object.defineProperty;var bk=(t,e,n)=>e in t?vk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>bk(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _k(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var xv={exports:{}},qc={},vv={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),kk=Symbol.for("react.fragment"),jk=Symbol.for("react.strict_mode"),Ck=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Ek=Symbol.for("react.forward_ref"),Nk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Mk=Symbol.for("react.lazy"),qp=Symbol.iterator;function Ok(t){return t===null||typeof t!="object"?null:(t=qp&&t[qp]||t["@@iterator"],typeof t=="function"?t:null)}var bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wv=Object.assign,_v={};function Ni(t,e,n){this.props=t,this.context=e,this.refs=_v,this.updater=n||bv}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sv(){}Sv.prototype=Ni.prototype;function Af(t,e,n){this.props=t,this.context=e,this.refs=_v,this.updater=n||bv}var Mf=Af.prototype=new Sv;Mf.constructor=Af;wv(Mf,Ni.prototype);Mf.isPureReactComponent=!0;var Kp=Array.isArray,kv=Object.prototype.hasOwnProperty,Of={current:null},jv={key:!0,ref:!0,__self:!0,__source:!0};function Cv(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kv.call(e,s)&&!jv.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Sa,type:t,key:i,ref:o,props:r,_owner:Of.current}}function Dk(t,e){return{$$typeof:Sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Df(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sa}function Rk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yp=/\/+/g;function Au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rk(""+t.key):e.toString(36)}function Pl(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sa:case Sk:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Au(o,0):s,Kp(r)?(n="",t!=null&&(n=t.replace(Yp,"$&/")+"/"),Pl(r,e,n,"",function(c){return c})):r!=null&&(Df(r)&&(r=Dk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Yp,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Kp(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Au(i,a);o+=Pl(i,e,n,l,r)}else if(l=Ok(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Au(i,a++),o+=Pl(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Va(t,e,n){if(t==null)return t;var s=[],r=0;return Pl(t,s,"","",function(i){return e.call(n,i,r++)}),s}function Lk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},El={transition:null},Ik={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:El,ReactCurrentOwner:Of};function Tv(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Va,forEach:function(t,e,n){Va(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Va(t,function(){e++}),e},toArray:function(t){return Va(t,function(e){return e})||[]},only:function(t){if(!Df(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Ni;ne.Fragment=kk;ne.Profiler=Ck;ne.PureComponent=Af;ne.StrictMode=jk;ne.Suspense=Nk;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;ne.act=Tv;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=wv({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Of.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kv.call(e,l)&&!jv.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Sa,type:t.type,key:r,ref:i,props:s,_owner:o}};ne.createContext=function(t){return t={$$typeof:Pk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tk,_context:t},t.Consumer=t};ne.createElement=Cv;ne.createFactory=function(t){var e=Cv.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Ek,render:t}};ne.isValidElement=Df;ne.lazy=function(t){return{$$typeof:Mk,_payload:{_status:-1,_result:t},_init:Lk}};ne.memo=function(t,e){return{$$typeof:Ak,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=El.transition;El.transition={};try{t()}finally{El.transition=e}};ne.unstable_act=Tv;ne.useCallback=function(t,e){return dt.current.useCallback(t,e)};ne.useContext=function(t){return dt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return dt.current.useEffect(t,e)};ne.useId=function(){return dt.current.useId()};ne.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return dt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};ne.useRef=function(t){return dt.current.useRef(t)};ne.useState=function(t){return dt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return dt.current.useTransition()};ne.version="18.3.1";vv.exports=ne;var S=vv.exports;const Fe=wk(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk=S,Bk=Symbol.for("react.element"),$k=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,zk=Fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uk={key:!0,ref:!0,__self:!0,__source:!0};function Pv(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Vk.call(e,s)&&!Uk.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Bk,type:t,key:i,ref:o,props:r,_owner:zk.current}}qc.Fragment=$k;qc.jsx=Pv;qc.jsxs=Pv;xv.exports=qc;var d=xv.exports,Ev={exports:{}},At={},Nv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var z=D.length;D.push(V);e:for(;0<z;){var ie=z-1>>>1,de=D[ie];if(0<r(de,V))D[ie]=V,D[z]=de,z=ie;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var V=D[0],z=D.pop();if(z!==V){D[0]=z;e:for(var ie=0,de=D.length,kt=de>>>1;ie<kt;){var qe=2*(ie+1)-1,Ot=D[qe],Ke=qe+1,es=D[Ke];if(0>r(Ot,z))Ke<de&&0>r(es,Ot)?(D[ie]=es,D[Ke]=z,ie=Ke):(D[ie]=Ot,D[qe]=z,ie=qe);else if(Ke<de&&0>r(es,z))D[ie]=es,D[Ke]=z,ie=Ke;else break e}}return V}function r(D,V){var z=D.sortIndex-V.sortIndex;return z!==0?z:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var V=n(c);V!==null;){if(V.callback===null)s(c);else if(V.startTime<=D)s(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function w(D){if(v=!1,x(D),!p)if(n(l)!==null)p=!0,q(_);else{var V=n(c);V!==null&&Y(w,V.startTime-D)}}function _(D,V){p=!1,v&&(v=!1,g(T),T=-1),m=!0;var z=f;try{for(x(V),h=n(l);h!==null&&(!(h.expirationTime>V)||D&&!F());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var de=ie(h.expirationTime<=V);V=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&s(l),x(V)}else s(l);h=n(l)}if(h!==null)var kt=!0;else{var qe=n(c);qe!==null&&Y(w,qe.startTime-V),kt=!1}return kt}finally{h=null,f=z,m=!1}}var j=!1,C=null,T=-1,N=5,A=-1;function F(){return!(t.unstable_now()-A<N)}function I(){if(C!==null){var D=t.unstable_now();A=D;var V=!0;try{V=C(!0,D)}finally{V?O():(j=!1,C=null)}}else j=!1}var O;if(typeof y=="function")O=function(){y(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=I,O=function(){H.postMessage(null)}}else O=function(){b(I,0)};function q(D){C=D,j||(j=!0,O())}function Y(D,V){T=b(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,q(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return D()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return V()}finally{f=z}},t.unstable_scheduleCallback=function(D,V,z){var ie=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ie+z:ie):z=ie,D){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=z+de,D={id:u++,callback:V,priorityLevel:D,startTime:z,expirationTime:de,sortIndex:-1},z>ie?(D.sortIndex=z,e(c,D),n(l)===null&&D===n(c)&&(v?(g(T),T=-1):v=!0,Y(w,z-ie))):(D.sortIndex=de,e(l,D),p||m||(p=!0,q(_))),D},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(D){var V=f;return function(){var z=f;f=V;try{return D.apply(this,arguments)}finally{f=z}}}})(Av);Nv.exports=Av;var Wk=Nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=S,Nt=Wk;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mv=new Set,Uo={};function Cr(t,e){mi(t,e),mi(t+"Capture",e)}function mi(t,e){for(Uo[t]=e,t=0;t<e.length;t++)Mv.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ud=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gp={},Xp={};function Kk(t){return Ud.call(Xp,t)?!0:Ud.call(Gp,t)?!1:qk.test(t)?Xp[t]=!0:(Gp[t]=!0,!1)}function Yk(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gk(t,e,n,s){if(e===null||typeof e>"u"||Yk(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rf=/[\-:]([a-z])/g;function Lf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rf,Lf);Qe[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rf,Lf);Qe[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rf,Lf);Qe[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function If(t,e,n,s){var r=Qe.hasOwnProperty(e)?Qe[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gk(e,n,r,s)&&(n=null),s||r===null?Kk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Zn=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,za=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),qd=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),Rv=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=Qp&&t[Qp]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Mu;function co(t){if(Mu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mu=e&&e[1]||""}return`
`+Mu+t}var Ou=!1;function Du(t,e){if(!t||Ou)return"";Ou=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ou=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?co(t):""}function Xk(t){switch(t.tag){case 5:return co(t.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return t=Du(t.type,!1),t;case 11:return t=Du(t.type.render,!1),t;case 1:return t=Du(t.type,!0),t;default:return""}}function Kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zr:return"Fragment";case Vr:return"Portal";case Wd:return"Profiler";case Ff:return"StrictMode";case Hd:return"Suspense";case qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dv:return(t.displayName||"Context")+".Consumer";case Ov:return(t._context.displayName||"Context")+".Provider";case Bf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $f:return e=t.displayName||null,e!==null?e:Kd(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return Kd(t(e))}catch{}}return null}function Qk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kd(e);case 8:return e===Ff?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jk(t){var e=Lv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ua(t){t._valueTracker||(t._valueTracker=Jk(t))}function Iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Lv(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yd(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jp(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fv(t,e){e=e.checked,e!=null&&If(t,"checked",e,!1)}function Gd(t,e){Fv(t,e);var n=Ns(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xd(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xd(t,e,n){(e!=="number"||ec(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uo=Array.isArray;function ri(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Qd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(uo(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function Bv(t,e){var n=Ns(e.value),s=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function tg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $v(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$v(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wa,Vv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zk=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(t){Zk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bo[e]=bo[t]})});function zv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bo.hasOwnProperty(t)&&bo[t]?(""+e).trim():e+"px"}function Uv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=zv(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var ej=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(t,e){if(e){if(ej[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,ii=null,oi=null;function ng(t){if(t=Ca(t)){if(typeof nh!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Qc(e),nh(t.stateNode,t.type,e))}}function Wv(t){ii?oi?oi.push(t):oi=[t]:ii=t}function Hv(){if(ii){var t=ii,e=oi;if(oi=ii=null,ng(t),e)for(t=0;t<e.length;t++)ng(e[t])}}function qv(t,e){return t(e)}function Kv(){}var Ru=!1;function Yv(t,e,n){if(Ru)return t(e,n);Ru=!0;try{return qv(t,e,n)}finally{Ru=!1,(ii!==null||oi!==null)&&(Kv(),Hv())}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var s=Qc(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var sh=!1;if(Hn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{sh=!1}function tj(t,e,n,s,r,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wo=!1,tc=null,nc=!1,rh=null,nj={onError:function(t){wo=!0,tc=t}};function sj(t,e,n,s,r,i,o,a,l){wo=!1,tc=null,tj.apply(nj,arguments)}function rj(t,e,n,s,r,i,o,a,l){if(sj.apply(this,arguments),wo){if(wo){var c=tc;wo=!1,tc=null}else throw Error(M(198));nc||(nc=!0,rh=c)}}function Tr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sg(t){if(Tr(t)!==t)throw Error(M(188))}function ij(t){var e=t.alternate;if(!e){if(e=Tr(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return sg(r),t;if(i===s)return sg(r),e;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Xv(t){return t=ij(t),t!==null?Qv(t):null}function Qv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qv(t);if(e!==null)return e;t=t.sibling}return null}var Jv=Nt.unstable_scheduleCallback,rg=Nt.unstable_cancelCallback,oj=Nt.unstable_shouldYield,aj=Nt.unstable_requestPaint,Ee=Nt.unstable_now,lj=Nt.unstable_getCurrentPriorityLevel,zf=Nt.unstable_ImmediatePriority,Zv=Nt.unstable_UserBlockingPriority,sc=Nt.unstable_NormalPriority,cj=Nt.unstable_LowPriority,eb=Nt.unstable_IdlePriority,Kc=null,Sn=null;function uj(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Kc,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:fj,dj=Math.log,hj=Math.LN2;function fj(t){return t>>>=0,t===0?32:31-(dj(t)/hj|0)|0}var Ha=64,qa=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=ho(a):(i&=o,i!==0&&(s=ho(i)))}else o=n&~r,o!==0?s=ho(o):i!==0&&(s=ho(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-ln(e),r=1<<n,s|=t[n],e&=~r;return s}function mj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ln(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=mj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tb(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function Lu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function gj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ln(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ln(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ue=0;function nb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sb,Wf,rb,ib,ob,oh=!1,Ka=[],ws=null,_s=null,Ss=null,qo=new Map,Ko=new Map,fs=[],yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ig(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function Hi(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ca(e),e!==null&&Wf(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function xj(t,e,n,s,r){switch(e){case"focusin":return ws=Hi(ws,t,e,n,s,r),!0;case"dragenter":return _s=Hi(_s,t,e,n,s,r),!0;case"mouseover":return Ss=Hi(Ss,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return qo.set(i,Hi(qo.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ko.set(i,Hi(Ko.get(i)||null,t,e,n,s,r)),!0}return!1}function ab(t){var e=ir(t.target);if(e!==null){var n=Tr(e);if(n!==null){if(e=n.tag,e===13){if(e=Gv(n),e!==null){t.blockedOn=e,ob(t.priority,function(){rb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);th=s,n.target.dispatchEvent(s),th=null}else return e=Ca(n),e!==null&&Wf(e),t.blockedOn=n,!1;e.shift()}return!0}function og(t,e,n){Nl(t)&&n.delete(e)}function vj(){oh=!1,ws!==null&&Nl(ws)&&(ws=null),_s!==null&&Nl(_s)&&(_s=null),Ss!==null&&Nl(Ss)&&(Ss=null),qo.forEach(og),Ko.forEach(og)}function qi(t,e){t.blockedOn===e&&(t.blockedOn=null,oh||(oh=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,vj)))}function Yo(t){function e(r){return qi(r,t)}if(0<Ka.length){qi(Ka[0],t);for(var n=1;n<Ka.length;n++){var s=Ka[n];s.blockedOn===t&&(s.blockedOn=null)}}for(ws!==null&&qi(ws,t),_s!==null&&qi(_s,t),Ss!==null&&qi(Ss,t),qo.forEach(e),Ko.forEach(e),n=0;n<fs.length;n++)s=fs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)ab(n),n.blockedOn===null&&fs.shift()}var ai=Zn.ReactCurrentBatchConfig,ic=!0;function bj(t,e,n,s){var r=ue,i=ai.transition;ai.transition=null;try{ue=1,Hf(t,e,n,s)}finally{ue=r,ai.transition=i}}function wj(t,e,n,s){var r=ue,i=ai.transition;ai.transition=null;try{ue=4,Hf(t,e,n,s)}finally{ue=r,ai.transition=i}}function Hf(t,e,n,s){if(ic){var r=ah(t,e,n,s);if(r===null)qu(t,e,s,oc,n),ig(t,s);else if(xj(r,t,e,n,s))s.stopPropagation();else if(ig(t,s),e&4&&-1<yj.indexOf(t)){for(;r!==null;){var i=Ca(r);if(i!==null&&sb(i),i=ah(t,e,n,s),i===null&&qu(t,e,s,oc,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else qu(t,e,s,null,n)}}var oc=null;function ah(t,e,n,s){if(oc=null,t=Vf(s),t=ir(t),t!==null)if(e=Tr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oc=t,null}function lb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lj()){case zf:return 1;case Zv:return 4;case sc:case cj:return 16;case eb:return 536870912;default:return 16}default:return 16}}var ys=null,qf=null,Al=null;function cb(){if(Al)return Al;var t,e=qf,n=e.length,s,r="value"in ys?ys.value:ys.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Al=r.slice(t,1<s?1-s:void 0)}function Ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ya(){return!0}function ag(){return!1}function Mt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ya:ag,this.isPropagationStopped=ag,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),e}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Mt(Ai),ja=je({},Ai,{view:0,detail:0}),_j=Mt(ja),Iu,Fu,Ki,Yc=je({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(Iu=t.screenX-Ki.screenX,Fu=t.screenY-Ki.screenY):Fu=Iu=0,Ki=t),Iu)},movementY:function(t){return"movementY"in t?t.movementY:Fu}}),lg=Mt(Yc),Sj=je({},Yc,{dataTransfer:0}),kj=Mt(Sj),jj=je({},ja,{relatedTarget:0}),Bu=Mt(jj),Cj=je({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Tj=Mt(Cj),Pj=je({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ej=Mt(Pj),Nj=je({},Ai,{data:0}),cg=Mt(Nj),Aj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Oj[t])?!!e[t]:!1}function Yf(){return Dj}var Rj=je({},ja,{key:function(t){if(t.key){var e=Aj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yf,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lj=Mt(Rj),Ij=je({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ug=Mt(Ij),Fj=je({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yf}),Bj=Mt(Fj),$j=je({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vj=Mt($j),zj=je({},Yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uj=Mt(zj),Wj=[9,13,27,32],Gf=Hn&&"CompositionEvent"in window,_o=null;Hn&&"documentMode"in document&&(_o=document.documentMode);var Hj=Hn&&"TextEvent"in window&&!_o,ub=Hn&&(!Gf||_o&&8<_o&&11>=_o),dg=" ",hg=!1;function db(t,e){switch(t){case"keyup":return Wj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function qj(t,e){switch(t){case"compositionend":return hb(e);case"keypress":return e.which!==32?null:(hg=!0,dg);case"textInput":return t=e.data,t===dg&&hg?null:t;default:return null}}function Kj(t,e){if(Ur)return t==="compositionend"||!Gf&&db(t,e)?(t=cb(),Al=qf=ys=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ub&&e.locale!=="ko"?null:e.data;default:return null}}var Yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yj[t.type]:e==="textarea"}function fb(t,e,n,s){Wv(s),e=ac(e,"onChange"),0<e.length&&(n=new Kf("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var So=null,Go=null;function Gj(t){kb(t,0)}function Gc(t){var e=qr(t);if(Iv(e))return t}function Xj(t,e){if(t==="change")return e}var mb=!1;if(Hn){var $u;if(Hn){var Vu="oninput"in document;if(!Vu){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Vu=typeof mg.oninput=="function"}$u=Vu}else $u=!1;mb=$u&&(!document.documentMode||9<document.documentMode)}function pg(){So&&(So.detachEvent("onpropertychange",pb),Go=So=null)}function pb(t){if(t.propertyName==="value"&&Gc(Go)){var e=[];fb(e,Go,t,Vf(t)),Yv(Gj,e)}}function Qj(t,e,n){t==="focusin"?(pg(),So=e,Go=n,So.attachEvent("onpropertychange",pb)):t==="focusout"&&pg()}function Jj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(Go)}function Zj(t,e){if(t==="click")return Gc(e)}function e2(t,e){if(t==="input"||t==="change")return Gc(e)}function t2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:t2;function Xo(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Ud.call(e,r)||!un(t[r],e[r]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,e){var n=gg(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gg(n)}}function gb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yb(){for(var t=window,e=ec();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ec(t.document)}return e}function Xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n2(t){var e=yb(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gb(n.ownerDocument.documentElement,n)){if(s!==null&&Xf(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=yg(n,i);var o=yg(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s2=Hn&&"documentMode"in document&&11>=document.documentMode,Wr=null,lh=null,ko=null,ch=!1;function xg(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ch||Wr==null||Wr!==ec(s)||(s=Wr,"selectionStart"in s&&Xf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ko&&Xo(ko,s)||(ko=s,s=ac(lh,"onSelect"),0<s.length&&(e=new Kf("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Wr)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},zu={},xb={};Hn&&(xb=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Xc(t){if(zu[t])return zu[t];if(!Hr[t])return t;var e=Hr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xb)return zu[t]=e[n];return t}var vb=Xc("animationend"),bb=Xc("animationiteration"),wb=Xc("animationstart"),_b=Xc("transitionend"),Sb=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(t,e){Sb.set(t,e),Cr(e,[t])}for(var Uu=0;Uu<vg.length;Uu++){var Wu=vg[Uu],r2=Wu.toLowerCase(),i2=Wu[0].toUpperCase()+Wu.slice(1);Rs(r2,"on"+i2)}Rs(vb,"onAnimationEnd");Rs(bb,"onAnimationIteration");Rs(wb,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(_b,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function bg(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,rj(s,e,void 0,t),t.currentTarget=null}function kb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;bg(r,a,c),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;bg(r,a,c),i=l}}}if(nc)throw t=rh,nc=!1,rh=null,t}function pe(t,e){var n=e[mh];n===void 0&&(n=e[mh]=new Set);var s=t+"__bubble";n.has(s)||(jb(e,t,2,!1),n.add(s))}function Hu(t,e,n){var s=0;e&&(s|=4),jb(n,t,s,e)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[Xa]){t[Xa]=!0,Mv.forEach(function(n){n!=="selectionchange"&&(o2.has(n)||Hu(n,!1,t),Hu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xa]||(e[Xa]=!0,Hu("selectionchange",!1,e))}}function jb(t,e,n,s){switch(lb(e)){case 1:var r=bj;break;case 4:r=wj;break;default:r=Hf}n=r.bind(null,e,n,t),r=void 0,!sh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qu(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ir(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Yv(function(){var c=i,u=Vf(n),h=[];e:{var f=Sb.get(t);if(f!==void 0){var m=Kf,p=t;switch(t){case"keypress":if(Ml(n)===0)break e;case"keydown":case"keyup":m=Lj;break;case"focusin":p="focus",m=Bu;break;case"focusout":p="blur",m=Bu;break;case"beforeblur":case"afterblur":m=Bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bj;break;case vb:case bb:case wb:m=Tj;break;case _b:m=Vj;break;case"scroll":m=_j;break;case"wheel":m=Uj;break;case"copy":case"cut":case"paste":m=Ej;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ug}var v=(e&4)!==0,b=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Ho(y,g),w!=null&&v.push(Jo(y,w,x)))),b)break;y=y.return}0<v.length&&(f=new m(f,p,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==th&&(p=n.relatedTarget||n.fromElement)&&(ir(p)||p[qn]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?ir(p):null,p!==null&&(b=Tr(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(v=lg,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=ug,w="onPointerLeave",g="onPointerEnter",y="pointer"),b=m==null?f:qr(m),x=p==null?f:qr(p),f=new v(w,y+"leave",m,n,u),f.target=b,f.relatedTarget=x,w=null,ir(u)===c&&(v=new v(g,y+"enter",p,n,u),v.target=x,v.relatedTarget=b,w=v),b=w,m&&p)t:{for(v=m,g=p,y=0,x=v;x;x=Nr(x))y++;for(x=0,w=g;w;w=Nr(w))x++;for(;0<y-x;)v=Nr(v),y--;for(;0<x-y;)g=Nr(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Nr(v),g=Nr(g)}v=null}else v=null;m!==null&&wg(h,f,m,v,!1),p!==null&&b!==null&&wg(h,b,p,v,!0)}}e:{if(f=c?qr(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=Xj;else if(fg(f))if(mb)_=e2;else{_=Jj;var j=Qj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Zj);if(_&&(_=_(t,c))){fb(h,_,n,u);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Xd(f,"number",f.value)}switch(j=c?qr(c):window,t){case"focusin":(fg(j)||j.contentEditable==="true")&&(Wr=j,lh=c,ko=null);break;case"focusout":ko=lh=Wr=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,xg(h,n,u);break;case"selectionchange":if(s2)break;case"keydown":case"keyup":xg(h,n,u)}var C;if(Gf)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ur?db(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ub&&n.locale!=="ko"&&(Ur||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ur&&(C=cb()):(ys=u,qf="value"in ys?ys.value:ys.textContent,Ur=!0)),j=ac(c,T),0<j.length&&(T=new cg(T,t,null,n,u),h.push({event:T,listeners:j}),C?T.data=C:(C=hb(n),C!==null&&(T.data=C)))),(C=Hj?qj(t,n):Kj(t,n))&&(c=ac(c,"onBeforeInput"),0<c.length&&(u=new cg("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}kb(h,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ac(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ho(t,n),i!=null&&s.unshift(Jo(t,i,r)),i=Ho(t,e),i!=null&&s.push(Jo(t,i,r))),t=t.return}return s}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wg(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=Ho(n,i),l!=null&&o.unshift(Jo(n,l,a))):r||(l=Ho(n,i),l!=null&&o.push(Jo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var a2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function _g(t){return(typeof t=="string"?t:""+t).replace(a2,`
`).replace(l2,"")}function Qa(t,e,n){if(e=_g(e),_g(t)!==e&&n)throw Error(M(425))}function lc(){}var uh=null,dh=null;function hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(t){return Sg.resolve(null).then(t).catch(d2)}:fh;function d2(t){setTimeout(function(){throw t})}function Ku(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Yo(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Yo(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),bn="__reactFiber$"+Mi,Zo="__reactProps$"+Mi,qn="__reactContainer$"+Mi,mh="__reactEvents$"+Mi,h2="__reactListeners$"+Mi,f2="__reactHandles$"+Mi;function ir(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kg(t);t!==null;){if(n=t[bn])return n;t=kg(t)}return e}t=n,n=t.parentNode}return null}function Ca(t){return t=t[bn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Qc(t){return t[Zo]||null}var ph=[],Kr=-1;function Ls(t){return{current:t}}function ye(t){0>Kr||(t.current=ph[Kr],ph[Kr]=null,Kr--)}function me(t,e){Kr++,ph[Kr]=t.current,t.current=e}var As={},rt=Ls(As),wt=Ls(!1),vr=As;function pi(t,e){var n=t.type.contextTypes;if(!n)return As;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function _t(t){return t=t.childContextTypes,t!=null}function cc(){ye(wt),ye(rt)}function jg(t,e,n){if(rt.current!==As)throw Error(M(168));me(rt,e),me(wt,n)}function Cb(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(M(108,Qk(t)||"Unknown",r));return je({},n,s)}function uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||As,vr=rt.current,me(rt,t),me(wt,wt.current),!0}function Cg(t,e,n){var s=t.stateNode;if(!s)throw Error(M(169));n?(t=Cb(t,e,vr),s.__reactInternalMemoizedMergedChildContext=t,ye(wt),ye(rt),me(rt,t)):ye(wt),me(wt,n)}var Fn=null,Jc=!1,Yu=!1;function Tb(t){Fn===null?Fn=[t]:Fn.push(t)}function m2(t){Jc=!0,Tb(t)}function Is(){if(!Yu&&Fn!==null){Yu=!0;var t=0,e=ue;try{var n=Fn;for(ue=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Fn=null,Jc=!1}catch(r){throw Fn!==null&&(Fn=Fn.slice(t+1)),Jv(zf,Is),r}finally{ue=e,Yu=!1}}return null}var Yr=[],Gr=0,dc=null,hc=0,Ft=[],Bt=0,br=null,$n=1,Vn="";function Xs(t,e){Yr[Gr++]=hc,Yr[Gr++]=dc,dc=t,hc=e}function Pb(t,e,n){Ft[Bt++]=$n,Ft[Bt++]=Vn,Ft[Bt++]=br,br=t;var s=$n;t=Vn;var r=32-ln(s)-1;s&=~(1<<r),n+=1;var i=32-ln(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,$n=1<<32-ln(e)+r|n<<r|s,Vn=i+t}else $n=1<<i|n<<r|s,Vn=t}function Qf(t){t.return!==null&&(Xs(t,1),Pb(t,1,0))}function Jf(t){for(;t===dc;)dc=Yr[--Gr],Yr[Gr]=null,hc=Yr[--Gr],Yr[Gr]=null;for(;t===br;)br=Ft[--Bt],Ft[Bt]=null,Vn=Ft[--Bt],Ft[Bt]=null,$n=Ft[--Bt],Ft[Bt]=null}var Et=null,Ct=null,ve=!1,sn=null;function Eb(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,Ct=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,Ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=br!==null?{id:$n,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Et=t,Ct=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(ve){var e=Ct;if(e){var n=e;if(!Tg(t,e)){if(gh(t))throw Error(M(418));e=ks(n.nextSibling);var s=Et;e&&Tg(t,e)?Eb(s,n):(t.flags=t.flags&-4097|2,ve=!1,Et=t)}}else{if(gh(t))throw Error(M(418));t.flags=t.flags&-4097|2,ve=!1,Et=t}}}function Pg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function Ja(t){if(t!==Et)return!1;if(!ve)return Pg(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hh(t.type,t.memoizedProps)),e&&(e=Ct)){if(gh(t))throw Nb(),Error(M(418));for(;e;)Eb(t,e),e=ks(e.nextSibling)}if(Pg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=Et?ks(t.stateNode.nextSibling):null;return!0}function Nb(){for(var t=Ct;t;)t=ks(t.nextSibling)}function gi(){Ct=Et=null,ve=!1}function Zf(t){sn===null?sn=[t]:sn.push(t)}var p2=Zn.ReactCurrentBatchConfig;function Yi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eg(t){var e=t._init;return e(t._payload)}function Ab(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function s(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=Ps(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,x,w){return y===null||y.tag!==6?(y=td(x,g.mode,w),y.return=g,y):(y=r(y,x),y.return=g,y)}function l(g,y,x,w){var _=x.type;return _===zr?u(g,y,x.props.children,w,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===us&&Eg(_)===y.type)?(w=r(y,x.props),w.ref=Yi(g,y,x),w.return=g,w):(w=Bl(x.type,x.key,x.props,null,g.mode,w),w.ref=Yi(g,y,x),w.return=g,w)}function c(g,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=nd(x,g.mode,w),y.return=g,y):(y=r(y,x.children||[]),y.return=g,y)}function u(g,y,x,w,_){return y===null||y.tag!==7?(y=pr(x,g.mode,w,_),y.return=g,y):(y=r(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=td(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case za:return x=Bl(y.type,y.key,y.props,null,g.mode,x),x.ref=Yi(g,null,y),x.return=g,x;case Vr:return y=nd(y,g.mode,x),y.return=g,y;case us:var w=y._init;return h(g,w(y._payload),x)}if(uo(y)||Ui(y))return y=pr(y,g.mode,x,null),y.return=g,y;Za(g,y)}return null}function f(g,y,x,w){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(g,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case za:return x.key===_?l(g,y,x,w):null;case Vr:return x.key===_?c(g,y,x,w):null;case us:return _=x._init,f(g,y,_(x._payload),w)}if(uo(x)||Ui(x))return _!==null?null:u(g,y,x,w,null);Za(g,x)}return null}function m(g,y,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case za:return g=g.get(w.key===null?x:w.key)||null,l(y,g,w,_);case Vr:return g=g.get(w.key===null?x:w.key)||null,c(y,g,w,_);case us:var j=w._init;return m(g,y,x,j(w._payload),_)}if(uo(w)||Ui(w))return g=g.get(x)||null,u(y,g,w,_,null);Za(y,w)}return null}function p(g,y,x,w){for(var _=null,j=null,C=y,T=y=0,N=null;C!==null&&T<x.length;T++){C.index>T?(N=C,C=null):N=C.sibling;var A=f(g,C,x[T],w);if(A===null){C===null&&(C=N);break}t&&C&&A.alternate===null&&e(g,C),y=i(A,y,T),j===null?_=A:j.sibling=A,j=A,C=N}if(T===x.length)return n(g,C),ve&&Xs(g,T),_;if(C===null){for(;T<x.length;T++)C=h(g,x[T],w),C!==null&&(y=i(C,y,T),j===null?_=C:j.sibling=C,j=C);return ve&&Xs(g,T),_}for(C=s(g,C);T<x.length;T++)N=m(C,g,T,x[T],w),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?T:N.key),y=i(N,y,T),j===null?_=N:j.sibling=N,j=N);return t&&C.forEach(function(F){return e(g,F)}),ve&&Xs(g,T),_}function v(g,y,x,w){var _=Ui(x);if(typeof _!="function")throw Error(M(150));if(x=_.call(x),x==null)throw Error(M(151));for(var j=_=null,C=y,T=y=0,N=null,A=x.next();C!==null&&!A.done;T++,A=x.next()){C.index>T?(N=C,C=null):N=C.sibling;var F=f(g,C,A.value,w);if(F===null){C===null&&(C=N);break}t&&C&&F.alternate===null&&e(g,C),y=i(F,y,T),j===null?_=F:j.sibling=F,j=F,C=N}if(A.done)return n(g,C),ve&&Xs(g,T),_;if(C===null){for(;!A.done;T++,A=x.next())A=h(g,A.value,w),A!==null&&(y=i(A,y,T),j===null?_=A:j.sibling=A,j=A);return ve&&Xs(g,T),_}for(C=s(g,C);!A.done;T++,A=x.next())A=m(C,g,T,A.value,w),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),y=i(A,y,T),j===null?_=A:j.sibling=A,j=A);return t&&C.forEach(function(I){return e(g,I)}),ve&&Xs(g,T),_}function b(g,y,x,w){if(typeof x=="object"&&x!==null&&x.type===zr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case za:e:{for(var _=x.key,j=y;j!==null;){if(j.key===_){if(_=x.type,_===zr){if(j.tag===7){n(g,j.sibling),y=r(j,x.props.children),y.return=g,g=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===us&&Eg(_)===j.type){n(g,j.sibling),y=r(j,x.props),y.ref=Yi(g,j,x),y.return=g,g=y;break e}n(g,j);break}else e(g,j);j=j.sibling}x.type===zr?(y=pr(x.props.children,g.mode,w,x.key),y.return=g,g=y):(w=Bl(x.type,x.key,x.props,null,g.mode,w),w.ref=Yi(g,y,x),w.return=g,g=w)}return o(g);case Vr:e:{for(j=x.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(g,y.sibling),y=r(y,x.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=nd(x,g.mode,w),y.return=g,g=y}return o(g);case us:return j=x._init,b(g,y,j(x._payload),w)}if(uo(x))return p(g,y,x,w);if(Ui(x))return v(g,y,x,w);Za(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(g,y.sibling),y=r(y,x),y.return=g,g=y):(n(g,y),y=td(x,g.mode,w),y.return=g,g=y),o(g)):n(g,y)}return b}var yi=Ab(!0),Mb=Ab(!1),fc=Ls(null),mc=null,Xr=null,em=null;function tm(){em=Xr=mc=null}function nm(t){var e=fc.current;ye(fc),t._currentValue=e}function xh(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function li(t,e){mc=t,em=Xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(em!==t)if(t={context:t,memoizedValue:e,next:null},Xr===null){if(mc===null)throw Error(M(308));Xr=t,mc.dependencies={lanes:0,firstContext:t}}else Xr=Xr.next=t;return e}var or=null;function sm(t){or===null?or=[t]:or.push(t)}function Ob(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,sm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Kn(t,s)}function Kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Db(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,se&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Kn(t,n)}return r=s.interleaved,r===null?(e.next=e,sm(s)):(e.next=r.next,r.next=e),s.interleaved=e,Kn(t,n)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Uf(t,n)}}function Ng(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pc(t,e,n,s){var r=t.updateQueue;ds=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(f=e,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=je({},h,f);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);_r|=o,t.lanes=o,t.memoizedState=h}}function Ag(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(M(191,r));r.call(s)}}}var Ta={},kn=Ls(Ta),ea=Ls(Ta),ta=Ls(Ta);function ar(t){if(t===Ta)throw Error(M(174));return t}function im(t,e){switch(me(ta,e),me(ea,t),me(kn,Ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jd(e,t)}ye(kn),me(kn,e)}function xi(){ye(kn),ye(ea),ye(ta)}function Rb(t){ar(ta.current);var e=ar(kn.current),n=Jd(e,t.type);e!==n&&(me(ea,t),me(kn,n))}function om(t){ea.current===t&&(ye(kn),ye(ea))}var _e=Ls(0);function gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gu=[];function am(){for(var t=0;t<Gu.length;t++)Gu[t]._workInProgressVersionPrimary=null;Gu.length=0}var Dl=Zn.ReactCurrentDispatcher,Xu=Zn.ReactCurrentBatchConfig,wr=0,ke=null,Be=null,Ue=null,yc=!1,jo=!1,na=0,g2=0;function Je(){throw Error(M(321))}function lm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function cm(t,e,n,s,r,i){if(wr=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dl.current=t===null||t.memoizedState===null?b2:w2,t=n(s,r),jo){i=0;do{if(jo=!1,na=0,25<=i)throw Error(M(301));i+=1,Ue=Be=null,e.updateQueue=null,Dl.current=_2,t=n(s,r)}while(jo)}if(Dl.current=xc,e=Be!==null&&Be.next!==null,wr=0,Ue=Be=ke=null,yc=!1,e)throw Error(M(300));return t}function um(){var t=na!==0;return na=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ke.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Kt(){if(Be===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Ue===null?ke.memoizedState:Ue.next;if(e!==null)Ue=e,Be=t;else{if(t===null)throw Error(M(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ue===null?ke.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function sa(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=Kt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=Be,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((wr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ke.lanes|=u,_r|=u}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=a,un(s,e.memoizedState)||(vt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ke.lanes|=i,_r|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ju(t){var e=Kt(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);un(i,e.memoizedState)||(vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Lb(){}function Ib(t,e){var n=ke,s=Kt(),r=e(),i=!un(s.memoizedState,r);if(i&&(s.memoizedState=r,vt=!0),s=s.queue,dm($b.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ra(9,Bb.bind(null,n,s,r,e),void 0,null),We===null)throw Error(M(349));wr&30||Fb(n,e,r)}return r}function Fb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bb(t,e,n,s){e.value=n,e.getSnapshot=s,Vb(e)&&zb(t)}function $b(t,e,n){return n(function(){Vb(e)&&zb(t)})}function Vb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function zb(t){var e=Kn(t,1);e!==null&&cn(e,t,1,-1)}function Mg(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},e.queue=t,t=t.dispatch=v2.bind(null,ke,t),[e.memoizedState,t]}function ra(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Ub(){return Kt().memoizedState}function Rl(t,e,n,s){var r=gn();ke.flags|=t,r.memoizedState=ra(1|e,n,void 0,s===void 0?null:s)}function Zc(t,e,n,s){var r=Kt();s=s===void 0?null:s;var i=void 0;if(Be!==null){var o=Be.memoizedState;if(i=o.destroy,s!==null&&lm(s,o.deps)){r.memoizedState=ra(e,n,i,s);return}}ke.flags|=t,r.memoizedState=ra(1|e,n,i,s)}function Og(t,e){return Rl(8390656,8,t,e)}function dm(t,e){return Zc(2048,8,t,e)}function Wb(t,e){return Zc(4,2,t,e)}function Hb(t,e){return Zc(4,4,t,e)}function qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kb(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4,4,qb.bind(null,e,t),n)}function hm(){}function Yb(t,e){var n=Kt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&lm(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Gb(t,e){var n=Kt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&lm(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Xb(t,e,n){return wr&21?(un(n,e)||(n=tb(),ke.lanes|=n,_r|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=n)}function y2(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var s=Xu.transition;Xu.transition={};try{t(!1),e()}finally{ue=n,Xu.transition=s}}function Qb(){return Kt().memoizedState}function x2(t,e,n){var s=Ts(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Jb(t))Zb(e,n);else if(n=Ob(t,e,n,s),n!==null){var r=ct();cn(n,t,s,r),ew(n,e,s)}}function v2(t,e,n){var s=Ts(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jb(t))Zb(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,un(a,o)){var l=e.interleaved;l===null?(r.next=r,sm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Ob(t,e,r,s),n!==null&&(r=ct(),cn(n,t,s,r),ew(n,e,s))}}function Jb(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Zb(t,e){jo=yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ew(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Uf(t,n)}}var xc={readContext:qt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},b2={readContext:qt,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:Og,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rl(4194308,4,qb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rl(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=gn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=x2.bind(null,ke,t),[s.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:hm,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=y2.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ke,r=gn();if(ve){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),We===null)throw Error(M(349));wr&30||Fb(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Og($b.bind(null,s,i,t),[t]),s.flags|=2048,ra(9,Bb.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=gn(),e=We.identifierPrefix;if(ve){var n=Vn,s=$n;n=(s&~(1<<32-ln(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w2={readContext:qt,useCallback:Yb,useContext:qt,useEffect:dm,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Hb,useMemo:Gb,useReducer:Qu,useRef:Ub,useState:function(){return Qu(sa)},useDebugValue:hm,useDeferredValue:function(t){var e=Kt();return Xb(e,Be.memoizedState,t)},useTransition:function(){var t=Qu(sa)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:Ib,useId:Qb,unstable_isNewReconciler:!1},_2={readContext:qt,useCallback:Yb,useContext:qt,useEffect:dm,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Hb,useMemo:Gb,useReducer:Ju,useRef:Ub,useState:function(){return Ju(sa)},useDebugValue:hm,useDeferredValue:function(t){var e=Kt();return Be===null?e.memoizedState=t:Xb(e,Be.memoizedState,t)},useTransition:function(){var t=Ju(sa)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:Ib,useId:Qb,unstable_isNewReconciler:!1};function en(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vh(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eu={isMounted:function(t){return(t=t._reactInternals)?Tr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=ct(),r=Ts(t),i=zn(s,r);i.payload=e,n!=null&&(i.callback=n),e=js(t,i,r),e!==null&&(cn(e,t,r,s),Ol(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=ct(),r=Ts(t),i=zn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=js(t,i,r),e!==null&&(cn(e,t,r,s),Ol(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),s=Ts(t),r=zn(n,s);r.tag=2,e!=null&&(r.callback=e),e=js(t,r,s),e!==null&&(cn(e,t,s,n),Ol(e,t,s))}};function Dg(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xo(n,s)||!Xo(r,i):!0}function tw(t,e,n){var s=!1,r=As,i=e.contextType;return typeof i=="object"&&i!==null?i=qt(i):(r=_t(e)?vr:rt.current,s=e.contextTypes,i=(s=s!=null)?pi(t,r):As),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eu,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rg(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function bh(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},rm(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=qt(i):(i=_t(e)?vr:rt.current,r.context=pi(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vh(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&eu.enqueueReplaceState(r,r.state,null),pc(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function vi(t,e){try{var n="",s=e;do n+=Xk(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Zu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S2=typeof WeakMap=="function"?WeakMap:Map;function nw(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){bc||(bc=!0,Ah=s),wh(t,e)},n}function sw(t,e,n){n=zn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){wh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wh(t,e),typeof s!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lg(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new S2;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=I2.bind(null,t,e,n),e.then(t,t))}function Ig(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fg(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,js(n,e,1))),n.lanes|=1),t)}var k2=Zn.ReactCurrentOwner,vt=!1;function ot(t,e,n,s){e.child=t===null?Mb(e,null,n,s):yi(e,t.child,n,s)}function Bg(t,e,n,s,r){n=n.render;var i=e.ref;return li(e,r),s=cm(t,e,n,s,i,r),n=um(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Yn(t,e,r)):(ve&&n&&Qf(e),e.flags|=1,ot(t,e,s,r),e.child)}function $g(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!bm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rw(t,e,i,s,r)):(t=Bl(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(o,s)&&t.ref===e.ref)return Yn(t,e,r)}return e.flags|=1,t=Ps(i,s),t.ref=e.ref,t.return=e,e.child=t}function rw(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Xo(i,s)&&t.ref===e.ref)if(vt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(vt=!0);else return e.lanes=t.lanes,Yn(t,e,r)}return _h(t,e,n,s,r)}function iw(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Jr,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Jr,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,me(Jr,jt),jt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,me(Jr,jt),jt|=s;return ot(t,e,r,n),e.child}function ow(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,n,s,r){var i=_t(n)?vr:rt.current;return i=pi(e,i),li(e,r),n=cm(t,e,n,s,i,r),s=um(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Yn(t,e,r)):(ve&&s&&Qf(e),e.flags|=1,ot(t,e,n,r),e.child)}function Vg(t,e,n,s,r){if(_t(n)){var i=!0;uc(e)}else i=!1;if(li(e,r),e.stateNode===null)Ll(t,e),tw(e,n,s),bh(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qt(c):(c=_t(n)?vr:rt.current,c=pi(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&Rg(e,o,s,c),ds=!1;var f=e.memoizedState;o.state=f,pc(e,s,o,r),l=e.memoizedState,a!==s||f!==l||wt.current||ds?(typeof u=="function"&&(vh(e,n,u,s),l=e.memoizedState),(a=ds||Dg(e,n,a,s,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Db(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=_t(n)?vr:rt.current,l=pi(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Rg(e,o,s,l),ds=!1,f=e.memoizedState,o.state=f,pc(e,s,o,r);var p=e.memoizedState;a!==h||f!==p||wt.current||ds?(typeof m=="function"&&(vh(e,n,m,s),p=e.memoizedState),(c=ds||Dg(e,n,c,s,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Sh(t,e,n,s,i,r)}function Sh(t,e,n,s,r,i){ow(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Cg(e,n,!1),Yn(t,e,i);s=e.stateNode,k2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=yi(e,t.child,null,i),e.child=yi(e,null,a,i)):ot(t,e,a,i),e.memoizedState=s.state,r&&Cg(e,n,!0),e.child}function aw(t){var e=t.stateNode;e.pendingContext?jg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jg(t,e.context,!1),im(t,e.containerInfo)}function zg(t,e,n,s,r){return gi(),Zf(r),e.flags|=256,ot(t,e,n,s),e.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function lw(t,e,n){var s=e.pendingProps,r=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),me(_e,r&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=su(o,s,0,null),t=pr(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jh(n),e.memoizedState=kh,t):fm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return j2(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Ps(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Ps(a,i):(i=pr(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=kh,s}return i=t.child,t=i.sibling,s=Ps(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function fm(t,e){return e=su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function el(t,e,n,s){return s!==null&&Zf(s),yi(e,t.child,null,n),t=fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j2(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Zu(Error(M(422))),el(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=su({mode:"visible",children:s.children},r,0,null),i=pr(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&yi(e,t.child,null,o),e.child.memoizedState=jh(o),e.memoizedState=kh,i);if(!(e.mode&1))return el(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(M(419)),s=Zu(i,s,void 0),el(t,e,o,s)}if(a=(o&t.childLanes)!==0,vt||a){if(s=We,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Kn(t,r),cn(s,t,r,-1))}return vm(),s=Zu(Error(M(421))),el(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=F2.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Ct=ks(r.nextSibling),Et=e,ve=!0,sn=null,t!==null&&(Ft[Bt++]=$n,Ft[Bt++]=Vn,Ft[Bt++]=br,$n=t.id,Vn=t.overflow,br=e),e=fm(e,s.children),e.flags|=4096,e)}function Ug(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),xh(t.return,e,n)}function ed(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function cw(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(ot(t,e,s.children,n),s=_e.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,n,e);else if(t.tag===19)Ug(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(me(_e,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&gc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ed(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&gc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ed(e,!0,n,null,i);break;case"together":ed(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C2(t,e,n){switch(e.tag){case 3:aw(e),gi();break;case 5:Rb(e);break;case 1:_t(e.type)&&uc(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;me(fc,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(me(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?lw(t,e,n):(me(_e,_e.current&1),t=Yn(t,e,n),t!==null?t.sibling:null);me(_e,_e.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return cw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),me(_e,_e.current),s)break;return null;case 22:case 23:return e.lanes=0,iw(t,e,n)}return Yn(t,e,n)}var uw,Ch,dw,hw;uw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ch=function(){};dw=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ar(kn.current);var i=null;switch(n){case"input":r=Yd(t,r),s=Yd(t,s),i=[];break;case"select":r=je({},r,{value:void 0}),s=je({},s,{value:void 0}),i=[];break;case"textarea":r=Qd(t,r),s=Qd(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=lc)}Zd(n,s);var o;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hw=function(t,e,n,s){n!==s&&(e.flags|=4)};function Gi(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function T2(t,e,n){var s=e.pendingProps;switch(Jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return _t(e.type)&&cc(),Ze(e),null;case 3:return s=e.stateNode,xi(),ye(wt),ye(rt),am(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Dh(sn),sn=null))),Ch(t,e),Ze(e),null;case 5:om(e);var r=ar(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)dw(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(M(166));return Ze(e),null}if(t=ar(kn.current),Ja(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[bn]=e,s[Zo]=i,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(r=0;r<fo.length;r++)pe(fo[r],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":Jp(s,i),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pe("invalid",s);break;case"textarea":eg(s,i),pe("invalid",s)}Zd(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qa(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qa(s.textContent,a,t),r=["children",""+a]):Uo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",s)}switch(n){case"input":Ua(s),Zp(s,i,!0);break;case"textarea":Ua(s),tg(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=lc)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$v(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[bn]=e,t[Zo]=s,uw(t,e,!1,!1),e.stateNode=t;e:{switch(o=eh(n,s),n){case"dialog":pe("cancel",t),pe("close",t),r=s;break;case"iframe":case"object":case"embed":pe("load",t),r=s;break;case"video":case"audio":for(r=0;r<fo.length;r++)pe(fo[r],t);r=s;break;case"source":pe("error",t),r=s;break;case"img":case"image":case"link":pe("error",t),pe("load",t),r=s;break;case"details":pe("toggle",t),r=s;break;case"input":Jp(t,s),r=Yd(t,s),pe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=je({},s,{value:void 0}),pe("invalid",t);break;case"textarea":eg(t,s),r=Qd(t,s),pe("invalid",t);break;default:r=s}Zd(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Uv(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vv(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wo(t,l):typeof l=="number"&&Wo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",t):l!=null&&If(t,i,l,o))}switch(n){case"input":Ua(t),Zp(t,s,!1);break;case"textarea":Ua(t),tg(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ns(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?ri(t,!!s.multiple,i,!1):s.defaultValue!=null&&ri(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=lc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)hw(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(M(166));if(n=ar(ta.current),ar(kn.current),Ja(e)){if(s=e.stateNode,n=e.memoizedProps,s[bn]=e,(i=s.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:Qa(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[bn]=e,e.stateNode=s}return Ze(e),null;case 13:if(ye(_e),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Ct!==null&&e.mode&1&&!(e.flags&128))Nb(),gi(),e.flags|=98560,i=!1;else if(i=Ja(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[bn]=e}else gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),i=!1}else sn!==null&&(Dh(sn),sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Ve===0&&(Ve=3):vm())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return xi(),Ch(t,e),t===null&&Qo(e.stateNode.containerInfo),Ze(e),null;case 10:return nm(e.type._context),Ze(e),null;case 17:return _t(e.type)&&cc(),Ze(e),null;case 19:if(ye(_e),i=e.memoizedState,i===null)return Ze(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Gi(i,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gc(t),o!==null){for(e.flags|=128,Gi(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>bi&&(e.flags|=128,s=!0,Gi(i,!1),e.lanes=4194304)}else{if(!s)if(t=gc(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ve)return Ze(e),null}else 2*Ee()-i.renderingStartTime>bi&&n!==1073741824&&(e.flags|=128,s=!0,Gi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=_e.current,me(_e,s?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return xm(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?jt&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function P2(t,e){switch(Jf(e),e.tag){case 1:return _t(e.type)&&cc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xi(),ye(wt),ye(rt),am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return om(e),null;case 13:if(ye(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(_e),null;case 4:return xi(),null;case 10:return nm(e.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var tl=!1,tt=!1,E2=typeof WeakSet=="function"?WeakSet:Set,$=null;function Qr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Te(t,e,s)}else n.current=null}function Th(t,e,n){try{n()}catch(s){Te(t,e,s)}}var Wg=!1;function N2(t,e){if(uh=ic,t=yb(),Xf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===r&&(a=o),f===i&&++u===s&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dh={focusedElem:t,selectionRange:n},ic=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:en(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){Te(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return p=Wg,Wg=!1,p}function Co(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Th(e,n,i)}r=r.next}while(r!==s)}}function tu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Ph(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fw(t){var e=t.alternate;e!==null&&(t.alternate=null,fw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[Zo],delete e[mh],delete e[h2],delete e[f2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mw(t){return t.tag===5||t.tag===3||t.tag===4}function Hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lc));else if(s!==4&&(t=t.child,t!==null))for(Eh(t,e,n),t=t.sibling;t!==null;)Eh(t,e,n),t=t.sibling}function Nh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Nh(t,e,n),t=t.sibling;t!==null;)Nh(t,e,n),t=t.sibling}var Ye=null,tn=!1;function ns(t,e,n){for(n=n.child;n!==null;)pw(t,e,n),n=n.sibling}function pw(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Kc,n)}catch{}switch(n.tag){case 5:tt||Qr(n,e);case 6:var s=Ye,r=tn;Ye=null,ns(t,e,n),Ye=s,tn=r,Ye!==null&&(tn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(tn?(t=Ye,n=n.stateNode,t.nodeType===8?Ku(t.parentNode,n):t.nodeType===1&&Ku(t,n),Yo(t)):Ku(Ye,n.stateNode));break;case 4:s=Ye,r=tn,Ye=n.stateNode.containerInfo,tn=!0,ns(t,e,n),Ye=s,tn=r;break;case 0:case 11:case 14:case 15:if(!tt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Th(n,e,o),r=r.next}while(r!==s)}ns(t,e,n);break;case 1:if(!tt&&(Qr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Te(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(tt=(s=tt)||n.memoizedState!==null,ns(t,e,n),tt=s):ns(t,e,n);break;default:ns(t,e,n)}}function qg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E2),e.forEach(function(s){var r=B2.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,tn=!1;break e;case 3:Ye=a.stateNode.containerInfo,tn=!0;break e;case 4:Ye=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(Ye===null)throw Error(M(160));pw(i,o,r),Ye=null,tn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Te(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gw(e,t),e=e.sibling}function gw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),fn(t),s&4){try{Co(3,t,t.return),tu(3,t)}catch(v){Te(t,t.return,v)}try{Co(5,t,t.return)}catch(v){Te(t,t.return,v)}}break;case 1:Qt(e,t),fn(t),s&512&&n!==null&&Qr(n,n.return);break;case 5:if(Qt(e,t),fn(t),s&512&&n!==null&&Qr(n,n.return),t.flags&32){var r=t.stateNode;try{Wo(r,"")}catch(v){Te(t,t.return,v)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fv(r,i),eh(a,o);var c=eh(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Uv(r,h):u==="dangerouslySetInnerHTML"?Vv(r,h):u==="children"?Wo(r,h):If(r,u,h,c)}switch(a){case"input":Gd(r,i);break;case"textarea":Bv(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ri(r,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ri(r,!!i.multiple,i.defaultValue,!0):ri(r,!!i.multiple,i.multiple?[]:"",!1))}r[Zo]=i}catch(v){Te(t,t.return,v)}}break;case 6:if(Qt(e,t),fn(t),s&4){if(t.stateNode===null)throw Error(M(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(v){Te(t,t.return,v)}}break;case 3:if(Qt(e,t),fn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(e.containerInfo)}catch(v){Te(t,t.return,v)}break;case 4:Qt(e,t),fn(t);break;case 13:Qt(e,t),fn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(gm=Ee())),s&4&&qg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(c=tt)||u,Qt(e,t),tt=c):Qt(e,t),fn(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:Co(4,f,f.return);break;case 1:Qr(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Te(s,n,v)}}break;case 5:Qr(f,f.return);break;case 22:if(f.memoizedState!==null){Yg(h);continue}}m!==null?(m.return=f,$=m):Yg(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zv("display",o))}catch(v){Te(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Te(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(e,t),fn(t),s&4&&qg(t);break;case 21:break;default:Qt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mw(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Wo(r,""),s.flags&=-33);var i=Hg(t);Nh(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Hg(t);Eh(t,a,o);break;default:throw Error(M(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A2(t,e,n){$=t,yw(t)}function yw(t,e,n){for(var s=(t.mode&1)!==0;$!==null;){var r=$,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||tl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||tt;a=tl;var c=tt;if(tl=o,(tt=l)&&!c)for($=r;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Gg(r):l!==null?(l.return=o,$=l):Gg(r);for(;i!==null;)$=i,yw(i),i=i.sibling;$=r,tl=a,tt=c}Kg(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,$=i):Kg(t)}}function Kg(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||tu(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!tt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ag(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ag(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}tt||e.flags&512&&Ph(e)}catch(f){Te(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Yg(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Gg(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tu(4,e)}catch(l){Te(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Te(e,r,l)}}var i=e.return;try{Ph(e)}catch(l){Te(e,i,l)}break;case 5:var o=e.return;try{Ph(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var M2=Math.ceil,vc=Zn.ReactCurrentDispatcher,mm=Zn.ReactCurrentOwner,Ut=Zn.ReactCurrentBatchConfig,se=0,We=null,Re=null,Xe=0,jt=0,Jr=Ls(0),Ve=0,ia=null,_r=0,nu=0,pm=0,To=null,gt=null,gm=0,bi=1/0,Ln=null,bc=!1,Ah=null,Cs=null,nl=!1,xs=null,wc=0,Po=0,Mh=null,Il=-1,Fl=0;function ct(){return se&6?Ee():Il!==-1?Il:Il=Ee()}function Ts(t){return t.mode&1?se&2&&Xe!==0?Xe&-Xe:p2.transition!==null?(Fl===0&&(Fl=tb()),Fl):(t=ue,t!==0||(t=window.event,t=t===void 0?16:lb(t.type)),t):1}function cn(t,e,n,s){if(50<Po)throw Po=0,Mh=null,Error(M(185));ka(t,n,s),(!(se&2)||t!==We)&&(t===We&&(!(se&2)&&(nu|=n),Ve===4&&ms(t,Xe)),St(t,s),n===1&&se===0&&!(e.mode&1)&&(bi=Ee()+500,Jc&&Is()))}function St(t,e){var n=t.callbackNode;pj(t,e);var s=rc(t,t===We?Xe:0);if(s===0)n!==null&&rg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&rg(n),e===1)t.tag===0?m2(Xg.bind(null,t)):Tb(Xg.bind(null,t)),u2(function(){!(se&6)&&Is()}),n=null;else{switch(nb(s)){case 1:n=zf;break;case 4:n=Zv;break;case 16:n=sc;break;case 536870912:n=eb;break;default:n=sc}n=jw(n,xw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xw(t,e){if(Il=-1,Fl=0,se&6)throw Error(M(327));var n=t.callbackNode;if(ci()&&t.callbackNode!==n)return null;var s=rc(t,t===We?Xe:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=_c(t,s);else{e=s;var r=se;se|=2;var i=bw();(We!==t||Xe!==e)&&(Ln=null,bi=Ee()+500,mr(t,e));do try{R2();break}catch(a){vw(t,a)}while(!0);tm(),vc.current=i,se=r,Re!==null?e=0:(We=null,Xe=0,e=Ve)}if(e!==0){if(e===2&&(r=ih(t),r!==0&&(s=r,e=Oh(t,r))),e===1)throw n=ia,mr(t,0),ms(t,s),St(t,Ee()),n;if(e===6)ms(t,s);else{if(r=t.current.alternate,!(s&30)&&!O2(r)&&(e=_c(t,s),e===2&&(i=ih(t),i!==0&&(s=i,e=Oh(t,i))),e===1))throw n=ia,mr(t,0),ms(t,s),St(t,Ee()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(M(345));case 2:Qs(t,gt,Ln);break;case 3:if(ms(t,s),(s&130023424)===s&&(e=gm+500-Ee(),10<e)){if(rc(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){ct(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=fh(Qs.bind(null,t,gt,Ln),e);break}Qs(t,gt,Ln);break;case 4:if(ms(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-ln(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*M2(s/1960))-s,10<s){t.timeoutHandle=fh(Qs.bind(null,t,gt,Ln),s);break}Qs(t,gt,Ln);break;case 5:Qs(t,gt,Ln);break;default:throw Error(M(329))}}}return St(t,Ee()),t.callbackNode===n?xw.bind(null,t):null}function Oh(t,e){var n=To;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=_c(t,e),t!==2&&(e=gt,gt=n,e!==null&&Dh(e)),t}function Dh(t){gt===null?gt=t:gt.push.apply(gt,t)}function O2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!un(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~pm,e&=~nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),s=1<<n;t[n]=-1,e&=~s}}function Xg(t){if(se&6)throw Error(M(327));ci();var e=rc(t,0);if(!(e&1))return St(t,Ee()),null;var n=_c(t,e);if(t.tag!==0&&n===2){var s=ih(t);s!==0&&(e=s,n=Oh(t,s))}if(n===1)throw n=ia,mr(t,0),ms(t,e),St(t,Ee()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qs(t,gt,Ln),St(t,Ee()),null}function ym(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(bi=Ee()+500,Jc&&Is())}}function Sr(t){xs!==null&&xs.tag===0&&!(se&6)&&ci();var e=se;se|=1;var n=Ut.transition,s=ue;try{if(Ut.transition=null,ue=1,t)return t()}finally{ue=s,Ut.transition=n,se=e,!(se&6)&&Is()}}function xm(){jt=Jr.current,ye(Jr)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c2(n)),Re!==null)for(n=Re.return;n!==null;){var s=n;switch(Jf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cc();break;case 3:xi(),ye(wt),ye(rt),am();break;case 5:om(s);break;case 4:xi();break;case 13:ye(_e);break;case 19:ye(_e);break;case 10:nm(s.type._context);break;case 22:case 23:xm()}n=n.return}if(We=t,Re=t=Ps(t.current,null),Xe=jt=e,Ve=0,ia=null,pm=nu=_r=0,gt=To=null,or!==null){for(e=0;e<or.length;e++)if(n=or[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}or=null}return t}function vw(t,e){do{var n=Re;try{if(tm(),Dl.current=xc,yc){for(var s=ke.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}yc=!1}if(wr=0,Ue=Be=ke=null,jo=!1,na=0,mm.current=null,n===null||n.return===null){Ve=1,ia=e,Re=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Ig(o);if(m!==null){m.flags&=-257,Fg(m,o,a,i,e),m.mode&1&&Lg(i,c,e),e=m,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Lg(i,c,e),vm();break e}l=Error(M(426))}}else if(ve&&a.mode&1){var b=Ig(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fg(b,o,a,i,e),Zf(vi(l,a));break e}}i=l=vi(l,a),Ve!==4&&(Ve=2),To===null?To=[i]:To.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=nw(i,l,e);Ng(i,g);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cs===null||!Cs.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=sw(i,a,e);Ng(i,w);break e}}i=i.return}while(i!==null)}_w(n)}catch(_){e=_,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function bw(){var t=vc.current;return vc.current=xc,t===null?xc:t}function vm(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),We===null||!(_r&268435455)&&!(nu&268435455)||ms(We,Xe)}function _c(t,e){var n=se;se|=2;var s=bw();(We!==t||Xe!==e)&&(Ln=null,mr(t,e));do try{D2();break}catch(r){vw(t,r)}while(!0);if(tm(),se=n,vc.current=s,Re!==null)throw Error(M(261));return We=null,Xe=0,Ve}function D2(){for(;Re!==null;)ww(Re)}function R2(){for(;Re!==null&&!oj();)ww(Re)}function ww(t){var e=kw(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?_w(t):Re=e,mm.current=null}function _w(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P2(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Re=null;return}}else if(n=T2(n,e,jt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Ve===0&&(Ve=5)}function Qs(t,e,n){var s=ue,r=Ut.transition;try{Ut.transition=null,ue=1,L2(t,e,n,s)}finally{Ut.transition=r,ue=s}return null}function L2(t,e,n,s){do ci();while(xs!==null);if(se&6)throw Error(M(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gj(t,i),t===We&&(Re=We=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,jw(sc,function(){return ci(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=ue;ue=1;var a=se;se|=4,mm.current=null,N2(t,n),gw(n,t),n2(dh),ic=!!uh,dh=uh=null,t.current=n,A2(n),aj(),se=a,ue=o,Ut.transition=i}else t.current=n;if(nl&&(nl=!1,xs=t,wc=r),i=t.pendingLanes,i===0&&(Cs=null),uj(n.stateNode),St(t,Ee()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(bc)throw bc=!1,t=Ah,Ah=null,t;return wc&1&&t.tag!==0&&ci(),i=t.pendingLanes,i&1?t===Mh?Po++:(Po=0,Mh=t):Po=0,Is(),null}function ci(){if(xs!==null){var t=nb(wc),e=Ut.transition,n=ue;try{if(Ut.transition=null,ue=16>t?16:t,xs===null)var s=!1;else{if(t=xs,xs=null,wc=0,se&6)throw Error(M(331));var r=se;for(se|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Co(8,u,i)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,m=u.return;if(fw(u),u===c){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var y=t.current;for($=y;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=y;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tu(9,a)}}catch(_){Te(a,a.return,_)}if(a===o){$=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,$=w;break e}$=a.return}}if(se=r,Is(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Kc,t)}catch{}s=!0}return s}finally{ue=n,Ut.transition=e}}return!1}function Qg(t,e,n){e=vi(n,e),e=nw(t,e,1),t=js(t,e,1),e=ct(),t!==null&&(ka(t,1,e),St(t,e))}function Te(t,e,n){if(t.tag===3)Qg(t,t,n);else for(;e!==null;){if(e.tag===3){Qg(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cs===null||!Cs.has(s))){t=vi(n,t),t=sw(e,t,1),e=js(e,t,1),t=ct(),e!==null&&(ka(e,1,t),St(e,t));break}}e=e.return}}function I2(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>Ee()-gm?mr(t,0):pm|=n),St(t,e)}function Sw(t,e){e===0&&(t.mode&1?(e=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):e=1);var n=ct();t=Kn(t,e),t!==null&&(ka(t,e,n),St(t,n))}function F2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sw(t,n)}function B2(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(e),Sw(t,n)}var kw;kw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vt=!1,C2(t,e,n);vt=!!(t.flags&131072)}else vt=!1,ve&&e.flags&1048576&&Pb(e,hc,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ll(t,e),t=e.pendingProps;var r=pi(e,rt.current);li(e,n),r=cm(null,e,s,t,r,n);var i=um();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(s)?(i=!0,uc(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,rm(e),r.updater=eu,e.stateNode=r,r._reactInternals=e,bh(e,s,t,n),e=Sh(null,e,s,!0,i,n)):(e.tag=0,ve&&i&&Qf(e),ot(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ll(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=V2(s),t=en(s,t),r){case 0:e=_h(null,e,s,t,n);break e;case 1:e=Vg(null,e,s,t,n);break e;case 11:e=Bg(null,e,s,t,n);break e;case 14:e=$g(null,e,s,en(s.type,t),n);break e}throw Error(M(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:en(s,r),_h(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:en(s,r),Vg(t,e,s,r,n);case 3:e:{if(aw(e),t===null)throw Error(M(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Db(t,e),pc(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=vi(Error(M(423)),e),e=zg(t,e,s,n,r);break e}else if(s!==r){r=vi(Error(M(424)),e),e=zg(t,e,s,n,r);break e}else for(Ct=ks(e.stateNode.containerInfo.firstChild),Et=e,ve=!0,sn=null,n=Mb(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),s===r){e=Yn(t,e,n);break e}ot(t,e,s,n)}e=e.child}return e;case 5:return Rb(e),t===null&&yh(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,hh(s,r)?o=null:i!==null&&hh(s,i)&&(e.flags|=32),ow(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&yh(e),null;case 13:return lw(t,e,n);case 4:return im(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=yi(e,null,s,n):ot(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:en(s,r),Bg(t,e,s,r,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,me(fc,s._currentValue),s._currentValue=o,i!==null)if(un(i.value,o)){if(i.children===r.children&&!wt.current){e=Yn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=zn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,li(e,n),r=qt(r),s=s(r),e.flags|=1,ot(t,e,s,n),e.child;case 14:return s=e.type,r=en(s,e.pendingProps),r=en(s.type,r),$g(t,e,s,r,n);case 15:return rw(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:en(s,r),Ll(t,e),e.tag=1,_t(s)?(t=!0,uc(e)):t=!1,li(e,n),tw(e,s,r),bh(e,s,r,n),Sh(null,e,s,!0,t,n);case 19:return cw(t,e,n);case 22:return iw(t,e,n)}throw Error(M(156,e.tag))};function jw(t,e){return Jv(t,e)}function $2(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,s){return new $2(t,e,n,s)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V2(t){if(typeof t=="function")return bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bf)return 11;if(t===$f)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bl(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")bm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zr:return pr(n.children,r,i,e);case Ff:o=8,r|=8;break;case Wd:return t=Vt(12,n,e,r|2),t.elementType=Wd,t.lanes=i,t;case Hd:return t=Vt(13,n,e,r),t.elementType=Hd,t.lanes=i,t;case qd:return t=Vt(19,n,e,r),t.elementType=qd,t.lanes=i,t;case Rv:return su(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ov:o=10;break e;case Dv:o=9;break e;case Bf:o=11;break e;case $f:o=14;break e;case us:o=16,s=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Vt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function pr(t,e,n,s){return t=Vt(7,t,s,e),t.lanes=n,t}function su(t,e,n,s){return t=Vt(22,t,s,e),t.elementType=Rv,t.lanes=n,t.stateNode={isHidden:!1},t}function td(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function nd(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z2(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lu(0),this.expirationTimes=Lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function wm(t,e,n,s,r,i,o,a,l){return t=new z2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(i),t}function U2(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Cw(t){if(!t)return As;t=t._reactInternals;e:{if(Tr(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(_t(n))return Cb(t,n,e)}return e}function Tw(t,e,n,s,r,i,o,a,l){return t=wm(n,s,!0,t,r,i,o,a,l),t.context=Cw(null),n=t.current,s=ct(),r=Ts(n),i=zn(s,r),i.callback=e??null,js(n,i,r),t.current.lanes=r,ka(t,r,s),St(t,s),t}function ru(t,e,n,s){var r=e.current,i=ct(),o=Ts(r);return n=Cw(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=js(r,e,o),t!==null&&(cn(t,r,o,i),Ol(t,r,o)),o}function Sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _m(t,e){Jg(t,e),(t=t.alternate)&&Jg(t,e)}function W2(){return null}var Pw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}iu.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));ru(t,e,null,null)};iu.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sr(function(){ru(null,t,null,null)}),e[qn]=null}};function iu(t){this._internalRoot=t}iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ib();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fs.length&&e!==0&&e<fs[n].priority;n++);fs.splice(n,0,t),n===0&&ab(t)}};function km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function H2(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=Sc(o);i.call(c)}}var o=Tw(e,s,t,0,null,!1,!1,"",Zg);return t._reactRootContainer=o,t[qn]=o.current,Qo(t.nodeType===8?t.parentNode:t),Sr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=Sc(l);a.call(c)}}var l=wm(t,0,!1,null,null,!1,!1,"",Zg);return t._reactRootContainer=l,t[qn]=l.current,Qo(t.nodeType===8?t.parentNode:t),Sr(function(){ru(e,l,n,s)}),l}function au(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Sc(o);a.call(l)}}ru(e,o,t,r)}else o=H2(n,e,t,r,s);return Sc(o)}sb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ho(e.pendingLanes);n!==0&&(Uf(e,n|1),St(e,Ee()),!(se&6)&&(bi=Ee()+500,Is()))}break;case 13:Sr(function(){var s=Kn(t,1);if(s!==null){var r=ct();cn(s,t,1,r)}}),_m(t,1)}};Wf=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var n=ct();cn(e,t,134217728,n)}_m(t,134217728)}};rb=function(t){if(t.tag===13){var e=Ts(t),n=Kn(t,e);if(n!==null){var s=ct();cn(n,t,e,s)}_m(t,e)}};ib=function(){return ue};ob=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};nh=function(t,e,n){switch(e){case"input":if(Gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Qc(s);if(!r)throw Error(M(90));Iv(s),Gd(s,r)}}}break;case"textarea":Bv(t,n);break;case"select":e=n.value,e!=null&&ri(t,!!n.multiple,e,!1)}};qv=ym;Kv=Sr;var q2={usingClientEntryPoint:!1,Events:[Ca,qr,Qc,Wv,Hv,ym]},Xi={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K2={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xv(t),t===null?null:t.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||W2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Kc=sl.inject(K2),Sn=sl}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(e))throw Error(M(200));return U2(t,e,null,n)};At.createRoot=function(t,e){if(!km(t))throw Error(M(299));var n=!1,s="",r=Pw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=wm(t,1,!1,null,null,n,!1,s,r),t[qn]=e.current,Qo(t.nodeType===8?t.parentNode:t),new Sm(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Xv(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return Sr(t)};At.hydrate=function(t,e,n){if(!ou(e))throw Error(M(200));return au(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!km(t))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Pw;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Tw(e,null,t,1,n??null,r,!1,i,o),t[qn]=e.current,Qo(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new iu(e)};At.render=function(t,e,n){if(!ou(e))throw Error(M(200));return au(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!ou(t))throw Error(M(40));return t._reactRootContainer?(Sr(function(){au(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};At.unstable_batchedUpdates=ym;At.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ou(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return au(t,e,n,!1,s)};At.version="18.3.1-next-f1338f8080-20240426";function Ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ew)}catch(t){console.error(t)}}Ew(),Ev.exports=At;var Y2=Ev.exports,Nw,e0=Y2;Nw=e0.createRoot,e0.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0="popstate";function G2(t={}){function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return Rh("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:oa(r)}return Q2(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X2(){return Math.random().toString(36).substring(2,10)}function n0(t,e){return{usr:t.state,key:t.key,idx:e}}function Rh(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oi(e):e,state:n,key:e&&e.key||s||X2()}}function oa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Q2(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=u(),g=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:g})}function f(b,g){a="PUSH";let y=Rh(v.location,b,g);c=u()+1;let x=n0(y,c),w=v.createHref(y);try{o.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(w)}i&&l&&l({action:a,location:v.location,delta:1})}function m(b,g){a="REPLACE";let y=Rh(v.location,b,g);c=u();let x=n0(y,c),w=v.createHref(y);o.replaceState(x,"",w),i&&l&&l({action:a,location:v.location,delta:0})}function p(b){return J2(b)}let v={get action(){return a},get location(){return t(r,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(t0,h),l=b,()=>{r.removeEventListener(t0,h),l=null}},createHref(b){return e(r,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(b){return o.go(b)}};return v}function J2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),we(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:oa(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Aw(t,e,n="/"){return Z2(t,e,n,!1)}function Z2(t,e,n,s){let r=typeof e=="string"?Oi(e):e,i=Gn(r.pathname||"/",n);if(i==null)return null;let o=Mw(t);eC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=dC(i);a=cC(o[l],c,s)}return a}function Mw(t,e=[],n=[],s="",r=!1){let i=(o,a,l=r,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&l)return;we(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let h=Un([s,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(we(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Mw(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:aC(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of Ow(o.path))i(o,a,!0,c)}),e}function Ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Ow(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tC=/^:[\w-]+$/,nC=3,sC=2,rC=1,iC=10,oC=-2,s0=t=>t==="*";function aC(t,e){let n=t.split("/"),s=n.length;return n.some(s0)&&(s+=oC),e&&(s+=sC),n.filter(r=>!s0(r)).reduce((r,i)=>r+(tC.test(i)?nC:i===""?rC:iC),s)}function lC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function cC(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!s[s.length-1].route.index&&(h=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Un([i,h.pathname]),pathnameBase:pC(Un([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Un([i,h.pathnameBase]))}return o}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=uC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((c,{paramName:u,isOptional:h},f)=>{if(u==="*"){let p=a[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function uC(t,e=!1,n=!0){dn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function dC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function hC(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Oi(t):t;return{pathname:n?n.startsWith("/")?n:fC(n,e):e,search:gC(s),hash:yC(r)}}function fC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function sd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jm(t){let e=mC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cm(t,e,n,s=!1){let r;typeof t=="string"?r=Oi(t):(r={...t},we(!r.pathname||!r.pathname.includes("?"),sd("?","pathname","search",r)),we(!r.pathname||!r.pathname.includes("#"),sd("#","pathname","hash",r)),we(!r.search||!r.search.includes("#"),sd("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=hC(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Un=t=>t.join("/").replace(/\/\/+/g,"/"),pC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Dw=["POST","PUT","PATCH","DELETE"];new Set(Dw);var vC=["GET",...Dw];new Set(vC);var Di=S.createContext(null);Di.displayName="DataRouter";var lu=S.createContext(null);lu.displayName="DataRouterState";S.createContext(!1);var Rw=S.createContext({isTransitioning:!1});Rw.displayName="ViewTransition";var bC=S.createContext(new Map);bC.displayName="Fetchers";var wC=S.createContext(null);wC.displayName="Await";var hn=S.createContext(null);hn.displayName="Navigation";var Pa=S.createContext(null);Pa.displayName="Location";var Nn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var Tm=S.createContext(null);Tm.displayName="RouteError";function _C(t,{relative:e}={}){we(Ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(hn),{hash:r,pathname:i,search:o}=Ea(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Un([n,i])),s.createHref({pathname:a,search:o,hash:r})}function Ri(){return S.useContext(Pa)!=null}function Fs(){return we(Ri(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Pa).location}var Lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iw(t){S.useContext(hn).static||S.useLayoutEffect(t)}function cu(){let{isDataRoute:t}=S.useContext(Nn);return t?RC():SC()}function SC(){we(Ri(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Di),{basename:e,navigator:n}=S.useContext(hn),{matches:s}=S.useContext(Nn),{pathname:r}=Fs(),i=JSON.stringify(jm(s)),o=S.useRef(!1);return Iw(()=>{o.current=!0}),S.useCallback((l,c={})=>{if(dn(o.current,Lw),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Cm(l,JSON.parse(i),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Un([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,r,t])}S.createContext(null);function Ea(t,{relative:e}={}){let{matches:n}=S.useContext(Nn),{pathname:s}=Fs(),r=JSON.stringify(jm(n));return S.useMemo(()=>Cm(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function kC(t,e){return Fw(t,e)}function Fw(t,e,n,s,r){var y;we(Ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(hn),{matches:o}=S.useContext(Nn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";Bw(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Fs(),m;if(e){let x=typeof e=="string"?Oi(e):e;we(u==="/"||((y=x.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),m=x}else m=f;let p=m.pathname||"/",v=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Aw(t,{pathname:v});dn(h||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),dn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=EC(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Un([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Un([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,s,r);return e&&g?S.createElement(Pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function jC(){let t=DC(),e=xC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,o)}var CC=S.createElement(jC,null),TC=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Nn.Provider,{value:this.props.routeContext},S.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PC({routeContext:t,match:e,children:n}){let s=S.useContext(Di);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Nn.Provider,{value:t},n)}function EC(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);we(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=n,m=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,h)=>{let f,m=!1,p=null,v=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||CC,a&&(l<0&&h===0?(Bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):l===h&&(m=!0,v=u.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),g=()=>{let y;return f?y=p:m?y=v:u.route.Component?y=S.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=c,S.createElement(PC,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?S.createElement(TC,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:s}):g()},null)}function Pm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NC(t){let e=S.useContext(Di);return we(e,Pm(t)),e}function AC(t){let e=S.useContext(lu);return we(e,Pm(t)),e}function MC(t){let e=S.useContext(Nn);return we(e,Pm(t)),e}function Em(t){let e=MC(t),n=e.matches[e.matches.length-1];return we(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OC(){return Em("useRouteId")}function DC(){var s;let t=S.useContext(Tm),e=AC("useRouteError"),n=Em("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function RC(){let{router:t}=NC("useNavigate"),e=Em("useNavigate"),n=S.useRef(!1);return Iw(()=>{n.current=!0}),S.useCallback(async(r,i={})=>{dn(n.current,Lw),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var r0={};function Bw(t,e,n){!e&&!r0[t]&&(r0[t]=!0,dn(!1,n))}S.memo(LC);function LC({routes:t,future:e,state:n,unstable_onError:s}){return Fw(t,void 0,n,s,e)}function IC({to:t,replace:e,state:n,relative:s}){we(Ri(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=S.useContext(hn);dn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Nn),{pathname:o}=Fs(),a=cu(),l=Cm(t,jm(i),o,s==="path"),c=JSON.stringify(l);return S.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:s})},[a,c,s,e,n]),null}function os(t){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FC({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){we(!Ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:r,static:i,future:{}}),[o,r,i]);typeof n=="string"&&(n=Oi(n));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:f="default"}=n,m=S.useMemo(()=>{let p=Gn(l,o);return p==null?null:{location:{pathname:p,search:c,hash:u,state:h,key:f},navigationType:s}},[o,l,c,u,h,f,s]);return dn(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:S.createElement(hn.Provider,{value:a},S.createElement(Pa.Provider,{children:e,value:m}))}function BC({children:t,location:e}){return kC(Lh(t),e)}function Lh(t,e=[]){let n=[];return S.Children.forEach(t,(s,r)=>{if(!S.isValidElement(s))return;let i=[...e,r];if(s.type===S.Fragment){n.push.apply(n,Lh(s.props.children,i));return}we(s.type===os,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Lh(s.props.children,i)),n.push(o)}),n}var $l="get",Vl="application/x-www-form-urlencoded";function uu(t){return t!=null&&typeof t.tagName=="string"}function $C(t){return uu(t)&&t.tagName.toLowerCase()==="button"}function VC(t){return uu(t)&&t.tagName.toLowerCase()==="form"}function zC(t){return uu(t)&&t.tagName.toLowerCase()==="input"}function UC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WC(t,e){return t.button===0&&(!e||e==="_self")&&!UC(t)}var rl=null;function HC(){if(rl===null)try{new FormData(document.createElement("form"),0),rl=!1}catch{rl=!0}return rl}var qC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(t){return t!=null&&!qC.has(t)?(dn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vl}"`),null):t}function KC(t,e){let n,s,r,i,o;if(VC(t)){let a=t.getAttribute("action");s=a?Gn(a,e):null,n=t.getAttribute("method")||$l,r=rd(t.getAttribute("enctype"))||Vl,i=new FormData(t)}else if($C(t)||zC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(s=l?Gn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||$l,r=rd(t.getAttribute("formenctype"))||rd(a.getAttribute("enctype"))||Vl,i=new FormData(a,t),!HC()){let{name:c,type:u,value:h}=t;if(u==="image"){let f=c?`${c}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else c&&i.append(c,h)}}else{if(uu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$l,s=null,r=Vl,o=t}return i&&r==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YC(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Gn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function GC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QC(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let o=await GC(i,n);return o.links?o.links():[]}return[]}));return tT(s.flat(1).filter(XC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function i0(t,e,n,s,r,i){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?e.filter((l,c)=>{var h;let u=s.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function JC(t,e,{includeHydrateFallback:n}={}){return ZC(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function ZC(t){return[...new Set(t)]}function eT(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function tT(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(eT(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}function $w(){let t=S.useContext(Di);return Nm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nT(){let t=S.useContext(lu);return Nm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Am=S.createContext(void 0);Am.displayName="FrameworkContext";function Vw(){let t=S.useContext(Am);return Nm(t,"You must render this element inside a <HydratedRouter> element"),t}function sT(t,e){let n=S.useContext(Am),[s,r]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=g=>{g.forEach(y=>{o(y.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),S.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let m=()=>{r(!0)},p=()=>{r(!1),o(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:Qi(a,m),onBlur:Qi(l,p),onMouseEnter:Qi(c,m),onMouseLeave:Qi(u,p),onTouchStart:Qi(h,m)}]:[!1,f,{}]}function Qi(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rT({page:t,...e}){let{router:n}=$w(),s=S.useMemo(()=>Aw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(oT,{page:t,matches:s,...e}):null}function iT(t){let{manifest:e,routeModules:n}=Vw(),[s,r]=S.useState([]);return S.useEffect(()=>{let i=!1;return QC(t,e,n).then(o=>{i||r(o)}),()=>{i=!0}},[t,e,n]),s}function oT({page:t,matches:e,...n}){let s=Fs(),{manifest:r,routeModules:i}=Vw(),{basename:o}=$w(),{loaderData:a,matches:l}=nT(),c=S.useMemo(()=>i0(t,e,l,r,s,"data"),[t,e,l,r,s]),u=S.useMemo(()=>i0(t,e,l,r,s,"assets"),[t,e,l,r,s]),h=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let p=new Set,v=!1;if(e.forEach(g=>{var x;let y=r.routes[g.route.id];!y||!y.hasLoader||(!c.some(w=>w.route.id===g.route.id)&&g.route.id in a&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?v=!0:p.add(g.route.id))}),p.size===0)return[];let b=YC(t,o,"data");return v&&p.size>0&&b.searchParams.set("_routes",e.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[o,a,s,r,c,e,t,i]),f=S.useMemo(()=>JC(u,r),[u,r]),m=iT(u);return S.createElement(S.Fragment,null,h.map(p=>S.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>S.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:v})=>S.createElement("link",{key:p,nonce:n.nonce,...v})))}function aT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.8.2")}catch{}function lT({basename:t,children:e,window:n}){let s=S.useRef();s.current==null&&(s.current=G2({window:n,v5Compat:!0}));let r=s.current,[i,o]=S.useState({action:r.action,location:r.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>r.listen(a),[r,a]),S.createElement(FC,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h,...f},m){let{basename:p}=S.useContext(hn),v=typeof c=="string"&&Uw.test(c),b,g=!1;if(typeof c=="string"&&v&&(b=c,zw))try{let N=new URL(window.location.href),A=c.startsWith("//")?new URL(N.protocol+c):new URL(c),F=Gn(A.pathname,p);A.origin===N.origin&&F!=null?c=F+A.search+A.hash:g=!0}catch{dn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=_C(c,{relative:r}),[x,w,_]=sT(s,f),j=hT(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:h});function C(N){e&&e(N),N.defaultPrevented||j(N)}let T=S.createElement("a",{...f,..._,href:b||y,onClick:g||i?e:C,ref:aT(m,w),target:l,"data-discover":!v&&n==="render"?"true":void 0});return x&&!v?S.createElement(S.Fragment,null,T,S.createElement(rT,{page:y})):T});Tt.displayName="Link";var cT=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:o,viewTransition:a,children:l,...c},u){let h=Ea(o,{relative:c.relative}),f=Fs(),m=S.useContext(lu),{navigator:p,basename:v}=S.useContext(hn),b=m!=null&&yT(h)&&a===!0,g=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&v&&(x=Gn(x,v)||x);const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=y===g||!r&&y.startsWith(g)&&y.charAt(w)==="/",j=x!=null&&(x===g||!r&&x.startsWith(g)&&x.charAt(g.length)==="/"),C={isActive:_,isPending:j,isTransitioning:b},T=_?e:void 0,N;typeof s=="function"?N=s(C):N=[s,_?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(C):i;return S.createElement(Tt,{...c,"aria-current":T,className:N,ref:u,style:A,to:o,viewTransition:a},typeof l=="function"?l(C):l)});cT.displayName="NavLink";var uT=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:o=$l,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...f},m)=>{let p=pT(),v=gT(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Uw.test(a),y=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let w=x.nativeEvent.submitter,_=(w==null?void 0:w.getAttribute("formmethod"))||o;p(w||x.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:r,state:i,relative:c,preventScrollReset:u,viewTransition:h})};return S.createElement("form",{ref:m,method:b,action:v,onSubmit:s?l:y,...f,"data-discover":!g&&t==="render"?"true":void 0})});uT.displayName="Form";function dT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(t){let e=S.useContext(Di);return we(e,dT(t)),e}function hT(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:o}={}){let a=cu(),l=Fs(),c=Ea(t,{relative:i});return S.useCallback(u=>{if(WC(u,e)){u.preventDefault();let h=n!==void 0?n:oa(l)===oa(c);a(t,{replace:h,state:s,preventScrollReset:r,relative:i,viewTransition:o})}},[l,a,c,n,s,e,t,r,i,o])}var fT=0,mT=()=>`__${String(++fT)}__`;function pT(){let{router:t}=Ww("useSubmit"),{basename:e}=S.useContext(hn),n=OC();return S.useCallback(async(s,r={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=KC(s,e);if(r.navigate===!1){let u=r.fetcherKey||mT();await t.fetch(u,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function gT(t,{relative:e}={}){let{basename:n}=S.useContext(hn),s=S.useContext(Nn);we(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Ea(t||".",{relative:e})},o=Fs();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Un([n,i.pathname])),oa(i)}function yT(t,{relative:e}={}){let n=S.useContext(Rw);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ww("useViewTransitionState"),r=Ea(t,{relative:e});if(!n.isTransitioning)return!1;let i=Gn(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Gn(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kc(r.pathname,o)!=null||kc(r.pathname,i)!=null}const Hw={currentStep:1,selectedServices:[],customer:null,pet:null,selectedDate:null,selectedTime:null,totalPrice:0,extraCharges:{fleas:!1,tangled:!1,aggressive:!1,fleaCharge:0,tangledCharge:0,aggressiveCharge:0},termsAccepted:!1};function xT(t,e){switch(e.type){case"SET_STEP":return{...t,currentStep:e.payload};case"SET_SERVICES":const n=e.payload.reduce((r,i)=>r+i.price,0);return{...t,selectedServices:e.payload,totalPrice:n};case"SET_CUSTOMER":return{...t,customer:e.payload};case"SET_PET":return{...t,pet:e.payload};case"SET_DATE":return{...t,selectedDate:e.payload};case"SET_TIME":return{...t,selectedTime:e.payload};case"CALCULATE_TOTAL":const s=t.selectedServices.reduce((r,i)=>r+i.price,0);return{...t,totalPrice:s};case"SET_EXTRA_CHARGES":return{...t,extraCharges:{fleas:e.payload.fleas,tangled:e.payload.tangled,aggressive:e.payload.aggressive,fleaCharge:e.payload.fleaCharge,tangledCharge:e.payload.tangledCharge,aggressiveCharge:e.payload.aggressiveCharge},totalPrice:e.payload.totalPrice||t.totalPrice};case"SET_TERMS_ACCEPTED":return{...t,termsAccepted:e.payload};case"RESET_BOOKING":return Hw;default:return t}}const qw=S.createContext(void 0);function vT({children:t}){const[e,n]=S.useReducer(xT,Hw);return d.jsx(qw.Provider,{value:{state:e,dispatch:n},children:t})}function Li(){const t=S.useContext(qw);if(t===void 0)throw new Error("useBooking must be used within a BookingProvider");return t}const bT={workingHours:{start:"08:00",end:"18:00"},workingDays:[1,2,3,4,5,6],serviceInterval:30,lunchBreak:{start:"12:30",end:"13:30"}},Kw=S.createContext(void 0);function wT({children:t}){const[e,n]=S.useState([{id:"1",customer:{name:"Maria Silva",phone:"(12) 99999-1111",email:"maria@email.com",cpf:"123.456.789-00"},pet:{name:"Rex",breed:"Labrador",size:"large"},services:[{id:"1",name:"Bath",duration:60,price:35},{id:"3",name:"Machine Grooming",duration:45,price:40}],date:new Date,time:"09:00",totalPrice:75,status:"confirmed",createdAt:new Date,extraCharges:{fleas:!1,tangled:!1,aggressive:!1,fleaCharge:0,tangledCharge:0,aggressiveCharge:0},termsAccepted:!0},{id:"2",customer:{name:"João Santos",phone:"(12) 99999-2222",email:"joao@email.com",cpf:"987.654.321-00"},pet:{name:"Bella",breed:"Poodle",size:"medium"},services:[{id:"1",name:"Bath",duration:60,price:35},{id:"2",name:"Sanitary Trim",duration:30,price:25}],date:new Date,time:"14:00",totalPrice:60,status:"pending",createdAt:new Date,extraCharges:{fleas:!1,tangled:!1,aggressive:!1,fleaCharge:0,tangledCharge:0,aggressiveCharge:0},termsAccepted:!0}]),[s,r]=S.useState([]),[i,o]=S.useState(bT),a=m=>{n(p=>[...p,m])},l=(m,p)=>{n(v=>v.map(b=>b.id===m?{...b,...p}:b))},c=m=>{n(p=>p.filter(v=>v.id!==m))},u=m=>{r(p=>[...p,m])},h=m=>{r(p=>p.filter(v=>v!==m))},f=m=>{o(p=>({...p,...m}))};return d.jsx(Kw.Provider,{value:{bookings:e,blockedSlots:s,settings:i,addBooking:a,updateBooking:l,deleteBooking:c,blockTimeSlot:u,unblockTimeSlot:h,updateSettings:f},children:t})}function Bs(){const t=S.useContext(Kw);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t}const _T="modulepreload",ST=function(t){return"/"+t},o0={},Na=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=ST(l),l in o0)return;o0[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":_T,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},kT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Na(async()=>{const{default:s}=await Promise.resolve().then(()=>Ii);return{default:s}},[]).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Mm extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class jT extends Mm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a0 extends Mm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class l0 extends Mm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ih;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ih||(Ih={}));var CT=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class TT{constructor(e,{headers:n={},customFetch:s,region:r=Ih.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=kT(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return CT(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(v=>{throw new jT(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new a0(h);if(!h.ok)throw new l0(h);let m=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield h.json():m==="application/octet-stream"?p=yield h.blob():m==="text/event-stream"?p=h:m==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(r){return{data:null,error:r,response:r instanceof l0||r instanceof a0?r.context:void 0}}})}}var yt={},Om={},du={},Aa={},hu={},fu={},PT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=PT();const ET=wi.fetch,Yw=wi.fetch.bind(wi),Gw=wi.Headers,NT=wi.Request,AT=wi.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gw,Request:NT,Response:AT,default:Yw,fetch:ET},Symbol.toStringTag,{value:"Module"})),MT=_k(Ii);var mu={};Object.defineProperty(mu,"__esModule",{value:!0});let OT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};mu.default=OT;var Xw=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fu,"__esModule",{value:!0});const DT=Xw(MT),RT=Xw(mu);let LT=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=DT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,h=null,f=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=y:h=JSON.parse(y))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,p="OK")}catch{i.status===404&&b===""?(m=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new RT.default(u)}return{error:u,data:h,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};fu.default=LT;var IT=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hu,"__esModule",{value:!0});const FT=IT(fu);let BT=class extends FT.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};hu.default=BT;var $T=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Aa,"__esModule",{value:!0});const VT=$T(hu);let zT=class extends VT.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Aa.default=zT;var UT=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(du,"__esModule",{value:!0});const Ji=UT(Aa);let WT=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Ji.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ji.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ji.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ji.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ji.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};du.default=WT;var Qw=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Om,"__esModule",{value:!0});const HT=Qw(du),qT=Qw(Aa);let KT=class Jw{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new HT.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new qT.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Om.default=KT;var Fi=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const Zw=Fi(Om);yt.PostgrestClient=Zw.default;const e_=Fi(du);yt.PostgrestQueryBuilder=e_.default;const t_=Fi(Aa);yt.PostgrestFilterBuilder=t_.default;const n_=Fi(hu);yt.PostgrestTransformBuilder=n_.default;const s_=Fi(fu);yt.PostgrestBuilder=s_.default;const r_=Fi(mu);yt.PostgrestError=r_.default;var YT=yt.default={PostgrestClient:Zw.default,PostgrestQueryBuilder:e_.default,PostgrestFilterBuilder:t_.default,PostgrestTransformBuilder:n_.default,PostgrestBuilder:s_.default,PostgrestError:r_.default};const{PostgrestClient:GT,PostgrestQueryBuilder:f3,PostgrestFilterBuilder:m3,PostgrestTransformBuilder:p3,PostgrestBuilder:g3,PostgrestError:y3}=YT;class XT{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const QT="2.15.5",JT=`realtime-js/${QT}`,ZT="1.0.0",Fh=1e4,eP=1e3,tP=100;var Eo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Eo||(Eo={}));var Le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Le||(Le={}));var nn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nn||(nn={}));var Bh;(function(t){t.websocket="websocket"})(Bh||(Bh={}));var sr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sr||(sr={}));class nP{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class i_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(fe||(fe={}));const c0=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=sP(o,t,e,r),i),{})},sP=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?o_(i,o):$h(o)},o_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return aP(e,n)}switch(t){case fe.bool:return rP(e);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return iP(e);case fe.json:case fe.jsonb:return oP(e);case fe.timestamp:return lP(e);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return $h(e);default:return $h(e)}},$h=t=>t,rP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},aP=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>o_(e,a))}return t},lP=t=>typeof t=="string"?t.replace(" ","T"):t,a_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class id{constructor(e,n,s={},r=Fh){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var u0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(u0||(u0={}));class No{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=No.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=No.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),p=u.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);p.length>0&&(a[c]=p),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(d0||(d0={}));var Ao;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ao||(Ao={}));var In;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class Dm{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new id(this,nn.join,this.params,this.timeout),this.rejoinTimer=new i_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new No(this),this.broadcastEndpointURL=a_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Ao.PRESENCE]&&this.bindings[Ao.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(In.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(In.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){e==null||e(In.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<b;y++){const x=v[y],{filter:{event:w,schema:_,table:j,filter:C}}=x,T=m&&m[y];if(T&&T.event===w&&T.schema===_&&T.table===j&&T.filter===C)g.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=Le.errored,e==null||e(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(In.SUBSCRIBED);return}}).receive("error",m=>{this.state=Le.errored,e==null||e(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Le.joined&&e===Ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new id(this,nn.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new id(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=nn;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var p,v,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,v,b,g,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:v,table:b,commit_timestamp:g,type:y,errors:x}=p;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(f,s)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Dm.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=c0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=c0(e.columns,e.old_record)),n}}const od=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cP=[1e3,2e3,5e3,1e4],uP=1e4,dP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hP{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=od,this.ref=0,this.reconnectTimer=null,this.logger=od,this.conn=null,this.sendBuffer=[],this.serializer=new nP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>Na(async()=>{const{default:a}=await Promise.resolve().then(()=>Ii);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bh.websocket}`,this.httpEndpoint=a_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZT}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Eo.connecting:return sr.Connecting;case Eo.open:return sr.Open;case Eo.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new Dm(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(r,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([dP],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:JT};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(nn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new i_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,i,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Fh,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:il.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:od,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>cP[h-1]||uP,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Rm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fP extends Rm{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vh extends Rm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var mP=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const l_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Na(async()=>{const{default:s}=await Promise.resolve().then(()=>Ii);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},pP=()=>mP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Na(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),zh=t=>{if(Array.isArray(t))return t.map(n=>zh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=zh(s)}),e},gP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Pr=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const ad=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yP=(t,e,n)=>Pr(void 0,void 0,void 0,function*(){const s=yield pP();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new fP(ad(r),i,o))}).catch(r=>{e(new Vh(ad(r),r))}):e(new Vh(ad(t),t))}),xP=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?r:(gP(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Ma(t,e,n,s,r,i){return Pr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,xP(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>yP(l,a,s))})})}function jc(t,e,n,s){return Pr(this,void 0,void 0,function*(){return Ma(t,"GET",e,n,s)})}function yn(t,e,n,s,r){return Pr(this,void 0,void 0,function*(){return Ma(t,"POST",e,s,r,n)})}function Uh(t,e,n,s,r){return Pr(this,void 0,void 0,function*(){return Ma(t,"PUT",e,s,r,n)})}function vP(t,e,n,s){return Pr(this,void 0,void 0,function*(){return Ma(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function c_(t,e,n,s,r){return Pr(this,void 0,void 0,function*(){return Ma(t,"DELETE",e,s,r,n)})}var it=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const bP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wP{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=l_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return it(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},h0),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield(e=="PUT"?Uh:yn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}upload(e,n,s){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:h0.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Uh(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield yn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}update(e,n,s){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return it(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}copy(e,n,s){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield yn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return it(this,void 0,void 0,function*(){try{const r=yield yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}download(e,n){return it(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield jc(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}})}info(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield jc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}exists(e){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield vP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s)&&s instanceof Vh){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return it(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}list(e,n,s){return it(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},bP),n),{prefix:e||""});return{data:yield yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listV2(e,n){return it(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _P="2.12.1",SP={"X-Client-Info":`storage-js/${_P}`};var Ar=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class kP{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},SP),n),this.fetch=l_(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ar(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ar(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ar(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ar(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}class jP extends kP{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new wP(this.url,this.headers,e,this.fetch)}}const CP="2.57.4";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const TP={"X-Client-Info":`supabase-js-${mo}/${CP}`},PP={headers:TP},EP={schema:"public"},NP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AP={};var MP=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const OP=t=>{let e;return t?e=t:typeof fetch>"u"?e=Yw:e=fetch,(...n)=>e(...n)},DP=()=>typeof Headers>"u"?Gw:Headers,RP=(t,e,n)=>{const s=OP(n),r=DP();return(i,o)=>MP(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var LP=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function IP(t){return t.endsWith("/")?t:t+"/"}function FP(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>LP(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function BP(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u_="2.71.1",Br=30*1e3,Wh=3,ld=Wh*Br,$P="http://localhost:9999",VP="supabase.auth.token",zP={"X-Client-Info":`gotrue-js/${u_}`},Hh="X-Supabase-Api-Version",d_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WP=10*60*1e3;class Lm extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HP extends Lm{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function qP(t){return J(t)&&t.name==="AuthApiError"}class h_ extends Lm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $s extends Lm{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class as extends $s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KP(t){return J(t)&&t.name==="AuthSessionMissingError"}class ol extends $s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends $s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ll extends $s{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YP(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class f0 extends $s{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qh extends $s{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cd(t){return J(t)&&t.name==="AuthRetryableFetchError"}class m0 extends $s{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Kh extends $s{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p0=` 	
\r=`.split(""),GP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<p0.length;e+=1)t[p0[e].charCodeAt(0)]=-2;for(let e=0;e<Cc.length;e+=1)t[Cc[e].charCodeAt(0)]=e;return t})();function g0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Cc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Cc[s]),e.queuedBits-=6}}function f_(t,e,n){const s=GP[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function y0(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{JP(o,s,n)};for(let o=0;o<t.length;o+=1)f_(t.charCodeAt(o),r,i);return e.join("")}function XP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function QP(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}XP(s,e)}}function JP(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ZP(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)f_(t.charCodeAt(r),n,s);return new Uint8Array(e)}function eE(t){const e=[];return QP(t,n=>e.push(n)),new Uint8Array(e)}function tE(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>g0(r,n,s)),g0(null,n,s),e.join("")}function nE(t){return Math.round(Date.now()/1e3)+t}function sE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Jt=()=>typeof window<"u"&&typeof document<"u",Ws={tested:!1,writable:!1},m_=()=>{if(!Jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function rE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const p_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Na(async()=>{const{default:s}=await Promise.resolve().then(()=>Ii);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},iE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$r=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ss=async(t,e)=>{await t.removeItem(e)};class pu{constructor(){this.promise=new pu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pu.promiseConstructor=Promise;function ud(t){const e=t.split(".");if(e.length!==3)throw new Kh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!UP.test(e[s]))throw new Kh("JWT not in base64url format");return{header:JSON.parse(y0(e[0])),payload:JSON.parse(y0(e[1])),signature:ZP(e[2]),raw:{header:e[0],payload:e[1]}}}async function oE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aE(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function lE(t){return("0"+t.toString(16)).substr(-2)}function cE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,lE).join("")}async function uE(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function dE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(t,e,n=!1){const s=cE();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await $r(t,`${e}-code-verifier`,r);const i=await dE(s);return[i,s===i?"plain":"s256"]}const hE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fE(t){const e=t.headers.get(Hh);if(!e||!e.match(hE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Or(t){if(!gE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x0(t){return JSON.parse(JSON.stringify(t))}var yE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xE=[502,503,504];async function v0(t){var e;if(!iE(t))throw new qh(Js(t),0);if(xE.includes(t.status))throw new qh(Js(t),t.status);let n;try{n=await t.json()}catch(i){throw new h_(Js(i),i)}let s;const r=fE(t);if(r&&r.getTime()>=d_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new m0(Js(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new as}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new m0(Js(n),t.status,n.weak_password.reasons);throw new HP(Js(n),t.status||500,s)}const vE=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function ee(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Hh]||(i[Hh]=d_["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await bE(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function bE(t,e,n,s,r,i){const o=vE(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new qh(Js(l),0)}if(a.ok||await v0(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await v0(l)}}function On(t){var e;let n=null;kE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nE(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function b0(t){const e=On(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ps(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wE(t){return{data:t,error:null}}function _E(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=yE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function SE(t){return t}function kE(t){return t.access_token&&t.refresh_token&&t.expires_in}const hd=["global","local","others"];var jE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class CE{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=p_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=hd[0]){if(hd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hd.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ps})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=jE(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_E,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ps})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:SE});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Or(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ps})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Or(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ps})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Or(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ps})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Or(e.userId);try{const{data:n,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Or(e.userId),Or(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}function w0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function TE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dr={debug:!!(globalThis&&m_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PE extends g_{}async function EE(t,e,n){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}TE();const NE={url:$P,storageKey:VP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _0(t,e,n){return await n()}const Rr={};class aa{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=aa.nextInstanceID,aa.nextInstanceID+=1,this.instanceID>0&&Jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},NE),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new CE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=p_(r.fetch),this.lock=r.lock||_0,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Jt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EE:this.lock=_0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:m_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=w0(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=w0(this.memoryStorage)),Jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${u_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=rE(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Jt()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YP(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new h_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:On}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Mr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:On})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:On})}else throw new al("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:b0})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:b0})}else throw new al("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ol}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,r,i,o,a,l,c,u,h,f,m;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:b,wallet:g,statement:y,options:x}=e;let w;if(Jt())if(typeof g=="object")w=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(r=(s=x==null?void 0:x.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(p),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:b,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:tE(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:On});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ol}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:On});if(await ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ol}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:On}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ol}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Mr(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new al("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:On});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Mr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wE})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new as;const{error:r}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new al("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Hs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=dd()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ps}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ps})})}catch(n){if(J(n))return KP(n)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new as;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Mr(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ps});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new as;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=ud(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new as;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Jt())throw new ll("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ll(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new f0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f0("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ll("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const m=f-u;m*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(s){if(J(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(qP(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=sE(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Mr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Jt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(J(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await aE(async r=>(r>0&&await oE(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(r,i)=>{const o=200*Math.pow(2,r);return i&&cd(i)&&Date.now()+o-s<Br})}catch(s){if(this._debug(n,"error",s),J(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Jt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Hs(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await $r(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:dd()}else if(r&&!r.user&&!r.user){const o=await Hs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await ss(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,r)):r.user=dd()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ld;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ld}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),cd(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new pu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new as;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),J(i)){const o={session:null,error:i};return cd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await $r(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=x0(r);await $r(this.storage,this.storageKey,i)}else{const r=x0(n);await $r(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await ss(this.storage,this.storageKey+"-code-verifier"),await ss(this.storage,this.storageKey+"-user"),this.userStorage&&await ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Br}ms, refresh threshold is ${Wh} ticks`),r<=Wh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof g_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ud(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+WP>r)return s;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};s=m.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=ud(s);n!=null&&n.allowExpired||mE(i.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:r,signature:o},error:null}}const u=pE(r.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,eE(`${a}.${l}`)))throw new Kh("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}}aa.nextInstanceID=0;const AE=aa;class ME extends AE{constructor(e){super(e)}}var OE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class DE{constructor(e,n,s){var r,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=BP(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:EP,realtime:AP,auth:Object.assign(Object.assign({},NP),{storageKey:l}),global:PP},u=FP(s??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=RP(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new GT(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new jP(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new TT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return OE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ME({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RE=(t,e,n)=>new DE(t,e,n);function LE(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}LE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IE="https://yqyxzvdeyxvynemkffjy.supabase.co",FE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxeXh6dmRleXh2eW5lbWtmZmp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1MzY3MjQsImV4cCI6MjA3MzExMjcyNH0.HAu_axx2r0Gl834JIA6157-lyy6_X1cvLxT6_fQxUGU",rr=RE(IE,FE),y_=S.createContext(void 0);function BE({children:t}){const[e,n]=S.useState(null),[s,r]=S.useState(null),[i,o]=S.useState(!0);S.useEffect(()=>{rr.auth.getSession().then(({data:{session:p}})=>{r(p),n((p==null?void 0:p.user)??null),o(!1)});const{data:{subscription:m}}=rr.auth.onAuthStateChange((p,v)=>{r(v),n((v==null?void 0:v.user)??null),o(!1)});return()=>m.unsubscribe()},[]);const a=async(m,p)=>{const{error:v}=await rr.auth.signUp({email:m,password:p,options:{emailRedirectTo:void 0}});return{error:v}},l=async(m,p)=>{const{error:v}=await rr.auth.signInWithPassword({email:m,password:p});return{error:v}},c=async()=>{await rr.auth.signOut()},u=(m,p)=>{const v={username:"admin",password:"parquepets2024"};return m===v.username&&p===v.password?(localStorage.setItem("adminAuth","true"),!0):!1},h=()=>{localStorage.removeItem("adminAuth")},f=!!e||localStorage.getItem("adminAuth")==="true";return d.jsx(y_.Provider,{value:{user:e,session:s,loading:i,signUp:a,signIn:l,signOut:c,isAuthenticated:f,login:u,logout:h},children:t})}function Vs(){const t=S.useContext(y_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=S.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>S.createElement("svg",{ref:u,...$E,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${VE(t)}`,a].join(" "),...c},[...e.map(([h,f])=>S.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Z("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tN({title:t,showAdminButton:e,onAdminClick:n,isAdminView:s}){const{logout:r,isAuthenticated:i}=Vs(),o=()=>{r()};return d.jsxs("header",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 shadow-xl relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 opacity-10",children:[d.jsx("div",{className:"absolute top-4 left-10 w-8 h-8 bg-white rounded-full animate-pulse"}),d.jsx("div",{className:"absolute top-8 right-20 w-6 h-6 bg-white rounded-full animate-bounce"}),d.jsx("div",{className:"absolute bottom-6 left-1/4 w-4 h-4 bg-white rounded-full animate-ping"}),d.jsx("div",{className:"absolute bottom-4 right-1/3 w-5 h-5 bg-white rounded-full animate-pulse"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 w-3 h-3 bg-white rounded-full animate-bounce"})]}),d.jsx("div",{className:"w-full px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[d.jsx("div",{className:"flex items-center space-x-3",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg md:text-2xl lg:text-3xl font-bold text-white drop-shadow-lg",children:"PetBookin"}),d.jsx("p",{className:"text-sm md:text-base text-blue-100 font-medium",children:t})]})}),d.jsxs("div",{className:"flex items-center space-x-3",children:[e&&d.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm text-white px-3 md:px-4 py-2 rounded-xl hover:bg-white/30 transition-all duration-300 border border-white/30 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s?d.jsx(ut,{className:"w-4 h-4"}):d.jsx($m,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:s?"View Bookings":"Admin"})]}),i&&s&&d.jsxs("button",{onClick:o,className:"flex items-center space-x-2 bg-red-500/80 backdrop-blur-sm text-white px-3 md:px-4 py-2 rounded-xl hover:bg-red-600/90 transition-all duration-300 border border-red-300/30 shadow-lg hover:shadow-xl transform hover:scale-105",children:[d.jsx(k_,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})]})}function nN({currentStep:t,totalSteps:e,stepTitles:n}){return d.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 p-4 md:p-6 shadow-lg border-b-4 border-gradient-to-r from-orange-200 to-pink-200 w-full",children:d.jsx("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:Array.from({length:e},(s,r)=>{const i=r+1,o=i<t,a=i===t;return d.jsxs(Fe.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":a?"bg-gradient-to-r from-orange-400 to-pink-400 text-white shadow-orange-200 animate-pulse":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-500"}`,children:o?d.jsx(hs,{className:"w-3 h-3 md:w-5 md:h-5"}):d.jsx("span",{className:"text-xs md:text-sm font-medium",children:i})}),d.jsx("span",{className:"text-xs mt-1 md:mt-2 text-center text-gray-700 max-w-16 md:max-w-20 font-medium",children:n[r]})]}),r<e-1&&d.jsx("div",{className:`flex-1 h-1 mx-1 md:mx-2 transition-colors duration-300 rounded-full ${o?"bg-gradient-to-r from-green-400 to-green-500":"bg-gray-200"}`})]},i)})})})}const T_=S.createContext({});function sN(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vm=typeof window<"u",rN=Vm?S.useLayoutEffect:S.useEffect,zm=S.createContext(null);function Um(t,e){t.indexOf(e)===-1&&t.push(e)}function Wm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qn=(t,e,n)=>n>e?e:n<t?t:n;let Ec=()=>{};const Jn={},P_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function E_(t){return typeof t=="object"&&t!==null}const N_=t=>/^0[^.\s]+$/u.test(t);function Hm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wt=t=>t,iN=(t,e)=>n=>e(t(n)),Oa=(...t)=>t.reduce(iN),ca=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class qm{constructor(){this.subscriptions=[]}add(e){return Um(this.subscriptions,e),()=>Wm(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=t=>t*1e3,Cn=t=>t/1e3;function A_(t,e){return e?t*(1e3/e):0}const M_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oN=1e-7,aN=12;function lN(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=M_(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>oN&&++a<aN);return o}function Da(t,e,n,s){if(t===e&&n===s)return Wt;const r=i=>lN(i,0,1,t,n);return i=>i===0||i===1?i:M_(r(i),e,s)}const O_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,D_=t=>e=>1-t(1-e),R_=Da(.33,1.53,.69,.99),Km=D_(R_),L_=O_(Km),I_=t=>(t*=2)<1?.5*Km(t):.5*(2-Math.pow(2,-10*(t-1))),Ym=t=>1-Math.sin(Math.acos(t)),F_=D_(Ym),B_=O_(Ym),cN=Da(.42,0,1,1),uN=Da(0,0,.58,1),$_=Da(.42,0,.58,1),dN=t=>Array.isArray(t)&&typeof t[0]!="number",V_=t=>Array.isArray(t)&&typeof t[0]=="number",j0={linear:Wt,easeIn:cN,easeInOut:$_,easeOut:uN,circIn:Ym,circInOut:B_,circOut:F_,backIn:Km,backInOut:L_,backOut:R_,anticipate:I_},hN=t=>typeof t=="string",C0=t=>{if(V_(t)){Ec(t.length===4);const[e,n,s,r]=t;return Da(e,n,s,r)}else if(hN(t))return Ec(j0[t]!==void 0),j0[t];return t},ul=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],T0={value:null,addProjectionMetrics:null};function fN(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(u.schedule(h),t()),l++,h(a)}const u={schedule:(h,f=!1,m=!1)=>{const v=m&&r?n:s;return f&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(a=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),e&&T0.value&&T0.value.frameloop[e].push(l),l=0,n.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const mN=40;function z_(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ul.reduce((x,w)=>(x[w]=fN(i,e?w:void 0),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:f,render:m,postRender:p}=o,v=()=>{const x=Jn.useManualTiming?r.timestamp:performance.now();n=!1,Jn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(x-r.timestamp,mN),1)),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),f.process(r),m.process(r),p.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(v))},b=()=>{n=!0,s=!0,r.isProcessing||t(v)};return{schedule:ul.reduce((x,w)=>{const _=o[w];return x[w]=(j,C=!1,T=!1)=>(n||b(),_.schedule(j,C,T)),x},{}),cancel:x=>{for(let w=0;w<ul.length;w++)o[ul[w]].cancel(x)},state:r,steps:o}}const{schedule:be,cancel:Ms,state:Ge,steps:fd}=z_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0);let zl;function pN(){zl=void 0}const bt={now:()=>(zl===void 0&&bt.set(Ge.isProcessing||Jn.useManualTiming?Ge.timestamp:performance.now()),zl),set:t=>{zl=t,queueMicrotask(pN)}},U_=t=>e=>typeof e=="string"&&e.startsWith(t),Gm=U_("--"),gN=U_("var(--"),Xm=t=>gN(t)?yN.test(t.split("/*")[0].trim()):!1,yN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ua={...Bi,transform:t=>Qn(0,1,t)},dl={...Bi,default:1},Mo=t=>Math.round(t*1e5)/1e5,Qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xN(t){return t==null}const vN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jm=(t,e)=>n=>!!(typeof n=="string"&&vN.test(n)&&n.startsWith(t)||e&&!xN(n)&&Object.prototype.hasOwnProperty.call(n,e)),W_=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match(Qm);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bN=t=>Qn(0,255,t),md={...Bi,transform:t=>Math.round(bN(t))},lr={test:Jm("rgb","red"),parse:W_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+md.transform(t)+", "+md.transform(e)+", "+md.transform(n)+", "+Mo(ua.transform(s))+")"};function wN(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Gh={test:Jm("#"),parse:wN,transform:lr.transform},Ra=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ls=Ra("deg"),Tn=Ra("%"),G=Ra("px"),_N=Ra("vh"),SN=Ra("vw"),P0={...Tn,parse:t=>Tn.parse(t)/100,transform:t=>Tn.transform(t*100)},Zr={test:Jm("hsl","hue"),parse:W_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Tn.transform(Mo(e))+", "+Tn.transform(Mo(n))+", "+Mo(ua.transform(s))+")"},Oe={test:t=>lr.test(t)||Gh.test(t)||Zr.test(t),parse:t=>lr.test(t)?lr.parse(t):Zr.test(t)?Zr.parse(t):Gh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?lr.transform(t):Zr.transform(t),getAnimatableNone:t=>{const e=Oe.parse(t);return e.alpha=0,Oe.transform(e)}},kN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Qm))==null?void 0:e.length)||0)+(((n=t.match(kN))==null?void 0:n.length)||0)>0}const H_="number",q_="color",CN="var",TN="var(",E0="${}",PN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function da(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(PN,l=>(Oe.test(l)?(s.color.push(i),r.push(q_),n.push(Oe.parse(l))):l.startsWith(TN)?(s.var.push(i),r.push(CN),n.push(l)):(s.number.push(i),r.push(H_),n.push(parseFloat(l))),++i,E0)).split(E0);return{values:n,split:a,indexes:s,types:r}}function K_(t){return da(t).values}function Y_(t){const{split:e,types:n}=da(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===H_?i+=Mo(r[o]):a===q_?i+=Oe.transform(r[o]):i+=r[o]}return i}}const EN=t=>typeof t=="number"?0:Oe.test(t)?Oe.getAnimatableNone(t):t;function NN(t){const e=K_(t);return Y_(t)(e.map(EN))}const Os={test:jN,parse:K_,createTransformer:Y_,getAnimatableNone:NN};function pd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AN({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=pd(l,a,t+1/3),i=pd(l,a,t),o=pd(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Nc(t,e){return n=>n>0?e:t}const Se=(t,e,n)=>t+(e-t)*n,gd=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},MN=[Gh,lr,Zr],ON=t=>MN.find(e=>e.test(t));function N0(t){const e=ON(t);if(!e)return!1;let n=e.parse(t);return e===Zr&&(n=AN(n)),n}const A0=(t,e)=>{const n=N0(t),s=N0(e);if(!n||!s)return Nc(t,e);const r={...n};return i=>(r.red=gd(n.red,s.red,i),r.green=gd(n.green,s.green,i),r.blue=gd(n.blue,s.blue,i),r.alpha=Se(n.alpha,s.alpha,i),lr.transform(r))},Xh=new Set(["none","hidden"]);function DN(t,e){return Xh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RN(t,e){return n=>Se(t,e,n)}function Zm(t){return typeof t=="number"?RN:typeof t=="string"?Xm(t)?Nc:Oe.test(t)?A0:FN:Array.isArray(t)?G_:typeof t=="object"?Oe.test(t)?A0:LN:Nc}function G_(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>Zm(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function LN(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Zm(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function IN(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const FN=(t,e)=>{const n=Os.createTransformer(e),s=da(t),r=da(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Xh.has(t)&&!r.values.length||Xh.has(e)&&!s.values.length?DN(t,e):Oa(G_(IN(s,r),r.values),n):Nc(t,e)};function X_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Se(t,e,n):Zm(t)(t,e)}const BN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>be.update(e,n),stop:()=>Ms(e),now:()=>Ge.isProcessing?Ge.timestamp:bt.now()}},Q_=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ac=2e4;function ep(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ac;)e+=n,s=t.next(e);return e>=Ac?1/0:e}function $N(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(ep(s),Ac);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Cn(r)}}const VN=5;function J_(t,e,n){const s=Math.max(e-VN,0);return A_(n-t(s),e-s)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yd=.001;function zN({duration:t=Ce.duration,bounce:e=Ce.bounce,velocity:n=Ce.velocity,mass:s=Ce.mass}){let r,i,o=1-e;o=Qn(Ce.minDamping,Ce.maxDamping,o),t=Qn(Ce.minDuration,Ce.maxDuration,Cn(t)),o<1?(r=c=>{const u=c*o,h=u*t,f=u-n,m=Qh(c,o),p=Math.exp(-h);return yd-f/m*p},i=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-h),v=Qh(Math.pow(c,2),o);return(-r(c)+yd>0?-1:1)*((f-m)*p)/v}):(r=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-yd+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=WN(r,i,a);if(t=jn(t),isNaN(l))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:t};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:o*2*Math.sqrt(s*c),duration:t}}}const UN=12;function WN(t,e,n){let s=n;for(let r=1;r<UN;r++)s=s-t(s)/e(s);return s}function Qh(t,e){return t*Math.sqrt(1-e*e)}const HN=["duration","bounce"],qN=["stiffness","damping","mass"];function M0(t,e){return e.some(n=>t[n]!==void 0)}function KN(t){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...t};if(!M0(t,qN)&&M0(t,HN))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Qn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ce.mass,stiffness:r,damping:i}}else{const n=zN(t);e={...e,...n,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function Mc(t=Ce.visualDuration,e=Ce.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=KN({...n,velocity:-Cn(n.velocity||0)}),p=f||0,v=c/(2*Math.sqrt(l*u)),b=o-i,g=Cn(Math.sqrt(l/u)),y=Math.abs(b)<5;s||(s=y?Ce.restSpeed.granular:Ce.restSpeed.default),r||(r=y?Ce.restDelta.granular:Ce.restDelta.default);let x;if(v<1){const _=Qh(g,v);x=j=>{const C=Math.exp(-v*g*j);return o-C*((p+v*g*b)/_*Math.sin(_*j)+b*Math.cos(_*j))}}else if(v===1)x=_=>o-Math.exp(-g*_)*(b+(p+g*b)*_);else{const _=g*Math.sqrt(v*v-1);x=j=>{const C=Math.exp(-v*g*j),T=Math.min(_*j,300);return o-C*((p+v*g*b)*Math.sinh(T)+_*b*Math.cosh(T))/_}}const w={calculatedDuration:m&&h||null,next:_=>{const j=x(_);if(m)a.done=_>=h;else{let C=_===0?p:0;v<1&&(C=_===0?jn(p):J_(x,_,j));const T=Math.abs(C)<=s,N=Math.abs(o-j)<=r;a.done=T&&N}return a.value=a.done?o:j,a},toString:()=>{const _=Math.min(ep(w),Ac),j=Q_(C=>w.next(_*C).value,_,30);return _+"ms "+j},toTransition:()=>{}};return w}Mc.applyToOptions=t=>{const e=$N(t,100,Mc);return t.ease=e.ease,t.duration=jn(e.duration),t.type="keyframes",t};function Jh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const b=h+v,g=o===void 0?b:o(b);g!==b&&(v=g-h);const y=T=>-v*Math.exp(-T/s),x=T=>g+y(T),w=T=>{const N=y(T),A=x(T);f.done=Math.abs(N)<=c,f.value=f.done?g:A};let _,j;const C=T=>{m(f.value)&&(_=T,j=Mc({keyframes:[f.value,p(f.value)],velocity:J_(x,T,f.value),damping:r,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let N=!1;return!j&&_===void 0&&(N=!0,w(T),C(T)),_!==void 0&&T>=_?j.next(T-_):(!N&&w(T),f)}}}function YN(t,e,n){const s=[],r=n||Jn.mix||X_,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Wt:e;a=Oa(l,a)}s.push(a)}return s}function GN(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Ec(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=YN(e,s,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=ca(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Qn(t[0],t[i-1],u)):c}function XN(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=ca(0,e,s);t.push(Se(n,1,r))}}function QN(t){const e=[0];return XN(e,t.length-1),e}function JN(t,e){return t.map(n=>n*e)}function ZN(t,e){return t.map(()=>e||$_).splice(0,t.length-1)}function Oo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=dN(s)?s.map(C0):C0(s),i={done:!1,value:e[0]},o=JN(n&&n.length===e.length?n:QN(e),t),a=GN(o,e,{ease:Array.isArray(r)?r:ZN(e,r)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const eA=t=>t!==null;function tp(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(eA),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const tA={decay:Jh,inertia:Jh,tween:Oo,keyframes:Oo,spring:Mc};function Z_(t){typeof t.type=="string"&&(t.type=tA[t.type])}class np{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nA=t=>t/100;class sp extends np{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==bt.now()&&this.tick(bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z_(e);const{type:n=Oo,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Oo;l!==Oo&&typeof a[0]!="number"&&(this.mixKeyframes=Oa(nA,X_(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ep(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let x=this.currentTime,w=s;if(h){const T=Math.min(this.currentTime,r)/a;let N=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(f==="reverse"?(A=1-A,m&&(A-=m/a)):f==="mirror"&&(w=o)),x=Qn(0,1,A)*a}const _=y?{done:!1,value:u[0]}:w.next(x);i&&(_.value=i(_.value));let{done:j}=_;!y&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&p!==Jh&&(_.value=tp(u,this.options,b,this.speed)),v&&v(_.value),C&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Cn(this.calculatedDuration)}get time(){return Cn(this.currentTime)}set time(e){var n;e=jn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cn(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=BN,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function sA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cr=t=>t*180/Math.PI,Zh=t=>{const e=cr(Math.atan2(t[1],t[0]));return ef(e)},rA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zh,rotateZ:Zh,skewX:t=>cr(Math.atan(t[1])),skewY:t=>cr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ef=t=>(t=t%360,t<0&&(t+=360),t),O0=Zh,D0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),R0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:D0,scaleY:R0,scale:t=>(D0(t)+R0(t))/2,rotateX:t=>ef(cr(Math.atan2(t[6],t[5]))),rotateY:t=>ef(cr(Math.atan2(-t[2],t[0]))),rotateZ:O0,rotate:O0,skewX:t=>cr(Math.atan(t[4])),skewY:t=>cr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tf(t){return t.includes("scale")?1:0}function nf(t,e){if(!t||t==="none")return tf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=iA,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=rA,r=a}if(!r)return tf(e);const i=s[e],o=r[1].split(",").map(aA);return typeof i=="function"?i(o):o[i]}const oA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return nf(n,e)};function aA(t){return parseFloat(t.trim())}const $i=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set($i),L0=t=>t===Bi||t===G,lA=new Set(["x","y","z"]),cA=$i.filter(t=>!lA.has(t));function uA(t){const e=[];return cA.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const gr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nf(e,"x"),y:(t,{transform:e})=>nf(e,"y")};gr.translateX=gr.x;gr.translateY=gr.y;const yr=new Set;let sf=!1,rf=!1,of=!1;function e1(){if(rf){const t=Array.from(yr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=uA(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))==null||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}rf=!1,sf=!1,yr.forEach(t=>t.complete(of)),yr.clear()}function t1(){yr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rf=!0)})}function dA(){of=!0,t1(),e1(),of=!1}class rp{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yr.add(this),sf||(sf=!0,be.read(t1),be.resolveKeyframes(e1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}sA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yr.delete(this)}cancel(){this.state==="scheduled"&&(yr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hA=t=>t.startsWith("--");function fA(t,e,n){hA(e)?t.style.setProperty(e,n):t.style[e]=n}const mA=Hm(()=>window.ScrollTimeline!==void 0),pA={};function gA(t,e){const n=Hm(t);return()=>pA[e]??n()}const n1=gA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),po=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,I0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:po([0,.65,.55,1]),circOut:po([.55,0,1,.45]),backIn:po([.31,.01,.66,-.59]),backOut:po([.33,1.53,.69,.99])};function s1(t,e){if(t)return typeof t=="function"?n1()?Q_(t,e):"ease-out":V_(t)?po(t):Array.isArray(t)?t.map(n=>s1(n,e)||I0.easeOut):I0[t]}function yA(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const h=s1(a,r);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function r1(t){return typeof t=="function"&&"applyToOptions"in t}function xA({type:t,...e}){return r1(t)&&n1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vA extends np{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ec(typeof e.type!="string");const c=xA(e);this.animation=yA(n,s,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=tp(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):fA(n,s,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Cn(Number(e))}get time(){return Cn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mA()?(this.animation.timeline=e,Wt):n(this)}}const i1={anticipate:I_,backInOut:L_,circInOut:B_};function bA(t){return t in i1}function wA(t){typeof t.ease=="string"&&bA(t.ease)&&(t.ease=i1[t.ease])}const F0=10;class _A extends vA{constructor(e){wA(e),Z_(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new sp({...o,autoplay:!1}),l=jn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-F0).value,a.sample(l).value,F0),a.stop()}}const B0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Os.test(t)||t==="0")&&!t.startsWith("url("));function SA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kA(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=B0(r,e),a=B0(i,e);return!o||!a?!1:SA(t)||(n==="spring"||r1(n))&&s}function af(t){t.duration=0,t.type}const jA=new Set(["opacity","clipPath","filter","transform"]),CA=Hm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TA(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return CA()&&n&&jA.has(n)&&(n!=="transform"||!c)&&!l&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const PA=40;class EA extends np{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){var p;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=bt.now();const f={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||rp;this.keyframeResolver=new m(a,(v,b,g)=>this.onKeyframesResolved(v,b,f,!g),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=s;this.resolvedAt=bt.now(),kA(e,i,o,a)||((Jn.instantAnimations||!l)&&(u==null||u(tp(e,s,n))),e[0]=e[e.length-1],af(s),s.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>PA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},m=!c&&TA(f)?new _A({...f,element:f.motionValue.owner.current}):new sp(f);m.finished.then(()=>this.notifyFinished()).catch(Wt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dA()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const NA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AA(t){const e=NA.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function o1(t,e,n=1){const[s,r]=AA(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return P_(o)?parseFloat(o):o}return Xm(r)?o1(r,e,n+1):r}function ip(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const a1=new Set(["width","height","top","left","right","bottom",...$i]),MA={test:t=>t==="auto",parse:t=>t},l1=t=>e=>e.test(t),c1=[Bi,G,Tn,ls,SN,_N,MA],$0=t=>c1.find(l1(t));function OA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||N_(t):!0}const DA=new Set(["brightness","contrast","saturate","opacity"]);function RA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Qm)||[];if(!s)return t;const r=n.replace(s,"");let i=DA.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const LA=/\b([a-z-]*)\(.*?\)/gu,lf={...Os,getAnimatableNone:t=>{const e=t.match(LA);return e?e.map(RA).join(" "):t}},V0={...Bi,transform:Math.round},IA={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:dl,scaleX:dl,scaleY:dl,scaleZ:dl,skew:ls,skewX:ls,skewY:ls,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:ua,originX:P0,originY:P0,originZ:G},op={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G,...IA,zIndex:V0,fillOpacity:ua,strokeOpacity:ua,numOctaves:V0},FA={...op,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:lf,WebkitFilter:lf},u1=t=>FA[t];function d1(t,e){let n=u1(t);return n!==lf&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BA=new Set(["auto","none","0"]);function $A(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!BA.has(i)&&da(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=d1(n,r)}class VA extends rp{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Xm(c))){const u=o1(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!a1.has(s)||e.length!==2)return;const[r,i]=e,o=$0(r),a=$0(i);if(o!==a)if(L0(o)&&L0(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else gr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||OA(e[r]))&&s.push(r);s.length&&$A(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=gr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function zA(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const h1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function UA(t){return E_(t)&&"offsetHeight"in t}const z0=30,WA=t=>!isNaN(parseFloat(t));class HA{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const r=bt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qm);const s=this.events[e].add(n);return e==="change"?()=>{s(),be.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z0);return A_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _i(t,e){return new HA(t,e)}const{schedule:ap,cancel:x3}=z_(queueMicrotask,!1),Zt={x:!1,y:!1};function f1(){return Zt.x||Zt.y}function qA(t){return t==="x"||t==="y"?Zt[t]?null:(Zt[t]=!0,()=>{Zt[t]=!1}):Zt.x||Zt.y?null:(Zt.x=Zt.y=!0,()=>{Zt.x=Zt.y=!1})}function m1(t,e){const n=zA(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function U0(t){return!(t.pointerType==="touch"||f1())}function KA(t,e,n={}){const[s,r,i]=m1(t,n),o=a=>{if(!U0(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{U0(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const p1=(t,e)=>e?t===e?!0:p1(t,e.parentElement):!1,lp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GA(t){return YA.has(t.tagName)||t.tabIndex!==-1}const Ul=new WeakSet;function W0(t){return e=>{e.key==="Enter"&&t(e)}}function xd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XA=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=W0(()=>{if(Ul.has(n))return;xd(n,"down");const r=W0(()=>{xd(n,"up")}),i=()=>xd(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function H0(t){return lp(t)&&!f1()}function QA(t,e,n={}){const[s,r,i]=m1(t,n),o=a=>{const l=a.currentTarget;if(!H0(a))return;Ul.add(l);const c=e(l,a),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ul.has(l)&&Ul.delete(l),H0(m)&&typeof c=="function"&&c(m,{success:p})},h=m=>{u(m,l===window||l===document||n.useGlobalTarget||p1(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),UA(a)&&(a.addEventListener("focus",c=>XA(c,r)),!GA(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function g1(t){return E_(t)&&"ownerSVGElement"in t}function JA(t){return g1(t)&&t.tagName==="svg"}const nt=t=>!!(t&&t.getVelocity),ZA=[...c1,Oe,Os],eM=t=>ZA.find(l1(t)),y1=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tM(t=!0){const e=S.useContext(zm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=S.useId();S.useEffect(()=>{if(t)return r(i)},[t]);const o=S.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const x1=S.createContext({strict:!1}),q0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Si={};for(const t in q0)Si[t]={isEnabled:e=>q0[t].some(n=>!!e[n])};function nM(t){for(const e in t)Si[e]={...Si[e],...t[e]}}const sM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sM.has(t)}let v1=t=>!Oc(t);function rM(t){typeof t=="function"&&(v1=e=>e.startsWith("on")?!Oc(e):t(e))}try{rM(require("@emotion/is-prop-valid").default)}catch{}function iM(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(v1(r)||n===!0&&Oc(r)||!e&&!Oc(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const gu=S.createContext({});function yu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ha(t){return typeof t=="string"||Array.isArray(t)}const cp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],up=["initial",...cp];function xu(t){return yu(t.animate)||up.some(e=>ha(t[e]))}function b1(t){return!!(xu(t)||t.variants)}function oM(t,e){if(xu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ha(n)?n:void 0,animate:ha(s)?s:void 0}}return t.inherit!==!1?e:{}}function aM(t){const{initial:e,animate:n}=oM(t,S.useContext(gu));return S.useMemo(()=>({initial:e,animate:n}),[K0(e),K0(n)])}function K0(t){return Array.isArray(t)?t.join(" "):t}const fa={};function lM(t){for(const e in t)fa[e]=t[e],Gm(e)&&(fa[e].isCSSVariable=!0)}function w1(t,{layout:e,layoutId:n}){return Vi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fa[t]||t==="opacity")}const cM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uM=$i.length;function dM(t,e,n){let s="",r=!0;for(let i=0;i<uM;i++){const o=$i[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=h1(a,op[o]);if(!l){r=!1;const u=cM[o]||o;s+=`${u}(${c}) `}n&&(e[o]=c)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function dp(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Vi.has(l)){o=!0;continue}else if(Gm(l)){r[l]=c;continue}else{const u=h1(c,op[l]);l.startsWith("origin")?(a=!0,i[l]=u):s[l]=u}}if(e.transform||(o||n?s.transform=dM(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;s.transformOrigin=`${l} ${c} ${u}`}}const hp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _1(t,e,n){for(const s in e)!nt(e[s])&&!w1(s,n)&&(t[s]=e[s])}function hM({transformTemplate:t},e){return S.useMemo(()=>{const n=hp();return dp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fM(t,e){const n=t.style||{},s={};return _1(s,n,t),Object.assign(s,hM(t,e)),s}function mM(t,e){const n={},s=fM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const pM={offset:"stroke-dashoffset",array:"stroke-dasharray"},gM={offset:"strokeDashoffset",array:"strokeDasharray"};function yM(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?pM:gM;t[i.offset]=G.transform(-s);const o=G.transform(e),a=G.transform(n);t[i.array]=`${o} ${a}`}function S1(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(dp(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&yM(h,r,i,o,!1)}const k1=()=>({...hp(),attrs:{}}),j1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xM(t,e,n,s){const r=S.useMemo(()=>{const i=k1();return S1(i,e,j1(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_1(i,t.style,t),r.style={...i,...r.style}}return r}const vM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fp(t){return typeof t!="string"||t.includes("-")?!1:!!(vM.indexOf(t)>-1||/[A-Z]/u.test(t))}function bM(t,e,n,{latestValues:s},r,i=!1){const a=(fp(t)?xM:mM)(e,s,r,t),l=iM(e,typeof t=="string",i),c=t!==S.Fragment?{...l,...a,ref:n}:{},{children:u}=e,h=S.useMemo(()=>nt(u)?u.get():u,[u]);return S.createElement(t,{...c,children:h})}function Y0(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function mp(t,e,n,s){if(typeof e=="function"){const[r,i]=Y0(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Y0(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Wl(t){return nt(t)?t.get():t}function wM({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:_M(n,s,r,t),renderState:e()}}function _M(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=Wl(i[f]);let{initial:o,animate:a}=t;const l=xu(t),c=b1(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!yu(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=mp(t,f[m]);if(p){const{transitionEnd:v,transition:b,...g}=p;for(const y in g){let x=g[y];if(Array.isArray(x)){const w=u?x.length-1:0;x=x[w]}x!==null&&(r[y]=x)}for(const y in v)r[y]=v[y]}}}return r}const C1=t=>(e,n)=>{const s=S.useContext(gu),r=S.useContext(zm),i=()=>wM(t,e,s,r);return n?i():sN(i)};function pp(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(nt(s[o])||e.style&&nt(e.style[o])||w1(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const SM=C1({scrapeMotionValuesFromProps:pp,createRenderState:hp});function T1(t,e,n){const s=pp(t,e,n);for(const r in t)if(nt(t[r])||nt(e[r])){const i=$i.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const kM=C1({scrapeMotionValuesFromProps:T1,createRenderState:k1}),jM=Symbol.for("motionComponentSymbol");function ei(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CM(t,e,n){return S.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ei(n)&&(n.current=s))},[e])}const gp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TM="framerAppearId",P1="data-"+gp(TM),E1=S.createContext({});function PM(t,e,n,s,r){var v,b;const{visualElement:i}=S.useContext(gu),o=S.useContext(x1),a=S.useContext(zm),l=S.useContext(y1).reducedMotion,c=S.useRef(null);s=s||o.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=S.useContext(E1);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&EM(c.current,n,r,h);const f=S.useRef(!1);S.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const m=n[P1],p=S.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return rN(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function EM(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:N1(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&ei(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}function N1(t){if(t)return t.options.allowProjection!==!1?t.projection:N1(t.parent)}function vd(t,{forwardMotionProps:e=!1}={},n,s){n&&nM(n);const r=fp(t)?kM:SM;function i(a,l){let c;const u={...S.useContext(y1),...a,layoutId:NM(a)},{isStatic:h}=u,f=aM(a),m=r(a,h);if(!h&&Vm){AM();const p=MM(u);c=p.MeasureLayout,f.visualElement=PM(t,m,u,s,p.ProjectionNode)}return d.jsxs(gu.Provider,{value:f,children:[c&&f.visualElement?d.jsx(c,{visualElement:f.visualElement,...u}):null,bM(t,a,CM(m,f.visualElement,l),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(i);return o[jM]=t,o}function NM({layoutId:t}){const e=S.useContext(T_).id;return e&&t!==void 0?e+"-"+t:t}function AM(t,e){S.useContext(x1).strict}function MM(t){const{drag:e,layout:n}=Si;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function OM(t,e){if(typeof Proxy>"u")return vd;const n=new Map,s=(i,o)=>vd(i,o,t,e),r=(i,o)=>s(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,vd(o,void 0,t,e)),n.get(o))})}function A1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function DM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bd(t){return t===void 0||t===1}function cf({scale:t,scaleX:e,scaleY:n}){return!bd(t)||!bd(e)||!bd(n)}function Zs(t){return cf(t)||M1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function M1(t){return G0(t.x)||G0(t.y)}function G0(t){return t&&t!=="0%"}function Dc(t,e,n){const s=t-n,r=e*s;return n+r}function X0(t,e,n,s,r){return r!==void 0&&(t=Dc(t,r,s)),Dc(t,n,s)+e}function uf(t,e=0,n=1,s,r){t.min=X0(t.min,e,n,s,r),t.max=X0(t.max,e,n,s,r)}function O1(t,{x:e,y:n}){uf(t.x,e.translate,e.scale,e.originPoint),uf(t.y,n.translate,n.scale,n.originPoint)}const Q0=.999999999999,J0=1.0000000000001;function LM(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ni(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,O1(t,o)),s&&Zs(i.latestValues)&&ni(t,i.latestValues))}e.x<J0&&e.x>Q0&&(e.x=1),e.y<J0&&e.y>Q0&&(e.y=1)}function ti(t,e){t.min=t.min+e,t.max=t.max+e}function Z0(t,e,n,s,r=.5){const i=Se(t.min,t.max,r);uf(t,e,n,i,s)}function ni(t,e){Z0(t.x,e.x,e.scaleX,e.scale,e.originX),Z0(t.y,e.y,e.scaleY,e.scale,e.originY)}function D1(t,e){return A1(RM(t.getBoundingClientRect(),e))}function IM(t,e,n){const s=D1(t,n),{scroll:r}=e;return r&&(ti(s.x,r.offset.x),ti(s.y,r.offset.y)),s}const ey=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:ey(),y:ey()}),ty=()=>({min:0,max:0}),Pe=()=>({x:ty(),y:ty()}),df={current:null},R1={current:!1};function FM(){if(R1.current=!0,!!Vm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>df.current=t.matches;t.addEventListener("change",e),e()}else df.current=!1}const BM=new WeakMap;function $M(t,e,n){for(const s in e){const r=e[s],i=n[s];if(nt(r))t.addValue(s,r);else if(nt(i))t.addValue(s,_i(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,_i(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ny=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VM{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=bt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,be.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=xu(n),this.isVariantNode=b1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&nt(m)&&m.set(l[f])}}mount(e){var n;this.current=e,BM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),R1.current||FM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:df.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vi.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&be.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Si){const n=Si[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ny.length;s++){const r=ny[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=$M(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_i(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(P_(s)||N_(s))?s=parseFloat(s):!eM(s)&&Os.test(n)&&(s=d1(e,n)),this.setBaseTarget(e,nt(s)?s.get():s)),nt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=mp(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!nt(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ap.render(this.render)}}class L1 extends VM{constructor(){super(...arguments),this.KeyframeResolver=VA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function I1(t,{style:e,vars:n},s,r){const i=t.style;let o;for(o in e)i[o]=e[o];r==null||r.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function zM(t){return window.getComputedStyle(t)}class UM extends L1{constructor(){super(...arguments),this.type="html",this.renderInstance=I1}readValueFromInstance(e,n){var s;if(Vi.has(n))return(s=this.projection)!=null&&s.isProjecting?tf(n):oA(e,n);{const r=zM(e),i=(Gm(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D1(e,n)}build(e,n,s){dp(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return pp(e,n,s)}}const F1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WM(t,e,n,s){I1(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(F1.has(r)?r:gp(r),e.attrs[r])}class HM extends L1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vi.has(n)){const s=u1(n);return s&&s.default||0}return n=F1.has(n)?n:gp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return T1(e,n,s)}build(e,n,s){S1(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){WM(e,n,s,r)}mount(e){this.isSVGTag=j1(e.tagName),super.mount(e)}}const qM=(t,e)=>fp(t)?new HM(e):new UM(e,{allowProjection:t!==S.Fragment});function ui(t,e,n){const s=t.getProps();return mp(s,e,n!==void 0?n:s.custom,t)}const hf=t=>Array.isArray(t);function KM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_i(n))}function YM(t){return hf(t)?t[t.length-1]||0:t}function GM(t,e){const n=ui(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=YM(i[o]);KM(t,o,a)}}function XM(t){return!!(nt(t)&&t.add)}function ff(t,e){const n=t.getValue("willChange");if(XM(n))return n.add(e);if(!n&&Jn.WillChange){const s=new Jn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function B1(t){return t.props[P1]}const QM=t=>t!==null;function JM(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(QM),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const ZM={type:"spring",stiffness:500,damping:25,restSpeed:10},eO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tO={type:"keyframes",duration:.8},nO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sO=(t,{keyframes:e})=>e.length>2?tO:Vi.has(t)?t.startsWith("scale")?eO(e[1]):ZM:nO;function rO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const yp=(t,e,n,s={},r,i)=>o=>{const a=ip(s,t)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c=c-jn(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};rO(a)||Object.assign(u,sO(t,u)),u.duration&&(u.duration=jn(u.duration)),u.repeatDelay&&(u.repeatDelay=jn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(af(u),u.delay===0&&(h=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(h=!0,af(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=JM(u.keyframes,a);if(f!==void 0){be.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new sp(u):new EA(u)};function iO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $1(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const l=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&iO(c,u))continue;const m={delay:n,...ip(i||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=B1(t);if(g){const y=window.MotionHandoffAnimation(g,u,be);y!==null&&(m.startTime=y,v=!0)}}ff(t,u),h.start(yp(u,h,f,t.shouldReduceMotion&&a1.has(u)?{type:!1}:m,t,v));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{be.update(()=>{o&&GM(t,o)})}),l}function V1(t,e,n,s=0,r=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*s;return typeof n=="function"?n(i,o):r===1?i*s:a-i*s}function mf(t,e,n={}){var l;const s=ui(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all($1(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=r;return oO(t,e,c,u,h,f,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function oO(t,e,n=0,s=0,r=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(mf(l,e,{...o,delay:n+(typeof s=="function"?0:s)+V1(t.variantChildren,l,s,r,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function aO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>mf(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=mf(t,e,n);else{const r=typeof e=="function"?ui(t,e,n.custom):e;s=Promise.all($1(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function z1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const lO=up.length;function U1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?U1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lO;n++){const s=up[n],r=t.props[s];(ha(r)||r===!1)&&(e[s]=r)}return e}const cO=[...cp].reverse(),uO=cp.length;function dO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>aO(t,n,s)))}function hO(t){let e=dO(t),n=sy(),s=!0;const r=l=>(c,u)=>{var f;const h=ui(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...v}=h;c={...c,...v,...p}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=U1(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let b=0;b<uO;b++){const g=cO[b],y=n[g],x=c[g]!==void 0?c[g]:u[g],w=ha(x),_=g===l?y.isActive:null;_===!1&&(p=b);let j=x===u[g]&&x!==c[g]&&w;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...m},!y.isActive&&_===null||!x&&!y.prevProp||yu(x)||typeof x=="boolean")continue;const C=fO(y.prevProp,x);let T=C||g===l&&y.isActive&&!j&&w||b>p&&w,N=!1;const A=Array.isArray(x)?x:[x];let F=A.reduce(r(g),{});_===!1&&(F={});const{prevResolvedValues:I={}}=y,O={...I,...F},K=Y=>{T=!0,f.has(Y)&&(N=!0,f.delete(Y)),y.needsAnimating[Y]=!0;const D=t.getValue(Y);D&&(D.liveStyle=!1)};for(const Y in O){const D=F[Y],V=I[Y];if(m.hasOwnProperty(Y))continue;let z=!1;hf(D)&&hf(V)?z=!z1(D,V):z=D!==V,z?D!=null?K(Y):f.add(Y):D!==void 0&&f.has(Y)?K(Y):y.protectedKeys[Y]=!0}y.prevProp=x,y.prevResolvedValues=F,y.isActive&&(m={...m,...F}),s&&t.blockInitialAnimation&&(T=!1);const H=j&&C;T&&(!H||N)&&h.push(...A.map(Y=>{const D={type:g};if(typeof Y=="string"&&s&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:V}=t,z=ui(V,Y);if(V.enteringChildren&&z){const{delayChildren:ie}=z.transition||{};D.delay=V1(V.enteringChildren,t,ie)}}return{animation:Y,options:D}}))}if(f.size){const b={};if(typeof c.initial!="boolean"){const g=ui(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const y=t.getBaseTarget(g),x=t.getValue(g);x&&(x.liveStyle=!0),b[g]=y??null}),h.push({animation:b})}let v=!!h.length;return s&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),s=!1,v?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=sy(),s=!0}}}function fO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!z1(e,t):!1}function qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sy(){return{animate:qs(!0),whileInView:qs(),whileHover:qs(),whileTap:qs(),whileDrag:qs(),whileFocus:qs(),exit:qs()}}class zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mO extends zs{constructor(e){super(e),e.animationState||(e.animationState=hO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pO=0;class gO extends zs{constructor(){super(...arguments),this.id=pO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yO={animation:{Feature:mO},exit:{Feature:gO}};function ma(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function La(t){return{point:{x:t.pageX,y:t.pageY}}}const xO=t=>e=>lp(e)&&t(e,La(e));function Do(t,e,n,s){return ma(t,e,xO(n),s)}const W1=1e-4,vO=1-W1,bO=1+W1,H1=.01,wO=0-H1,_O=0+H1;function lt(t){return t.max-t.min}function SO(t,e,n){return Math.abs(t-e)<=n}function ry(t,e,n,s=.5){t.origin=s,t.originPoint=Se(e.min,e.max,t.origin),t.scale=lt(n)/lt(e),t.translate=Se(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vO&&t.scale<=bO||isNaN(t.scale))&&(t.scale=1),(t.translate>=wO&&t.translate<=_O||isNaN(t.translate))&&(t.translate=0)}function Ro(t,e,n,s){ry(t.x,e.x,n.x,s?s.originX:void 0),ry(t.y,e.y,n.y,s?s.originY:void 0)}function iy(t,e,n){t.min=n.min+e.min,t.max=t.min+lt(e)}function kO(t,e,n){iy(t.x,e.x,n.x),iy(t.y,e.y,n.y)}function oy(t,e,n){t.min=e.min-n.min,t.max=t.min+lt(e)}function Lo(t,e,n){oy(t.x,e.x,n.x),oy(t.y,e.y,n.y)}function It(t){return[t("x"),t("y")]}const q1=({current:t})=>t?t.ownerDocument.defaultView:null,ay=(t,e)=>Math.abs(t-e);function jO(t,e){const n=ay(t.x,e.x),s=ay(t.y,e.y);return Math.sqrt(n**2+s**2)}class K1{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_d(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=jO(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:v}=f,{timestamp:b}=Ge;this.history.push({...v,timestamp:b});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wd(m,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=_d(f.type==="pointercancel"?this.lastMoveEventInfo:wd(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),v&&v(f,g)},!lp(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const a=La(e),l=wd(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ge;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,_d(l,this.history)),this.removeListeners=Oa(Do(this.contextWindow,"pointermove",this.handlePointerMove),Do(this.contextWindow,"pointerup",this.handlePointerUp),Do(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function wd(t,e){return e?{point:e(t.point)}:t}function ly(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _d({point:t},e){return{point:t,delta:ly(t,Y1(e)),offset:ly(t,CO(e)),velocity:TO(e,.1)}}function CO(t){return t[0]}function Y1(t){return t[t.length-1]}function TO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=Y1(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>jn(e)));)n--;if(!s)return{x:0,y:0};const i=Cn(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function PO(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Se(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Se(n,t,s.max):Math.min(t,n)),t}function cy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function EO(t,{top:e,left:n,bottom:s,right:r}){return{x:cy(t.x,n,r),y:cy(t.y,e,s)}}function uy(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function NO(t,e){return{x:uy(t.x,e.x),y:uy(t.y,e.y)}}function AO(t,e){let n=.5;const s=lt(t),r=lt(e);return r>s?n=ca(e.min,e.max-s,t.min):s>r&&(n=ca(t.min,t.max-r,e.min)),Qn(0,1,n)}function MO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pf=.35;function OO(t=pf){return t===!1?t=0:t===!0&&(t=pf),{x:dy(t,"left","right"),y:dy(t,"top","bottom")}}function dy(t,e,n){return{min:hy(t,e),max:hy(t,n)}}function hy(t,e){return typeof t=="number"?t:t[e]||0}const DO=new WeakMap;class RO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(La(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qA(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Tn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[g];w&&(y=lt(w)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&be.postRender(()=>v(h,f)),ff(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=LO(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&b(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>It(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new K1(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:q1(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&be.postRender(()=>a(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!hl(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=PO(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&ei(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=EO(s.layoutBox,e):this.constraints=!1,this.elastic=OO(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&It(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ei(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=IM(s,r.root,this.visualElement.getTransformPagePoint());let o=NO(r.layout.layoutBox,i);if(n){const a=n(DM(o));this.hasMutatedConstraints=!!a,a&&(o=A1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=It(u=>{if(!hl(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,p={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ff(this.visualElement,e),s.start(yp(e,s,0,n,this.visualElement,!1))}stopAnimation(){It(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){It(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){It(n=>{const{drag:s}=this.getProps();if(!hl(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-Se(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ei(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};It(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=AO({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),It(o=>{if(!hl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Se(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;DO.set(this.visualElement,this);const e=this.visualElement.current,n=Do(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();ei(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),be.read(s);const o=ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(It(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=pf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function hl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class IO extends zs{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new RO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const fy=t=>(e,n)=>{t&&be.postRender(()=>t(e,n))};class FO extends zs{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new K1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:fy(e),onStart:fy(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&be.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=Do(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function my(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=my(t,e.target.x),s=my(t,e.target.y);return`${n}% ${s}%`}},BO={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Os.parse(t);if(r.length>5)return s;const i=Os.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Se(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),i(r)}};let Sd=!1;class $O extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;lM(VO),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),Sd&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,Sd=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ap.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;Sd=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G1(t){const[e,n]=tM(),s=S.useContext(T_);return d.jsx($O,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(E1),isPresent:e,safeToRemove:n})}const VO={borderRadius:{...Zi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zi,borderTopRightRadius:Zi,borderBottomLeftRadius:Zi,borderBottomRightRadius:Zi,boxShadow:BO};function zO(t,e,n){const s=nt(t)?t:_i(t);return s.start(yp("",s,e,n)),s.animation}const UO=(t,e)=>t.depth-e.depth;class WO{constructor(){this.children=[],this.isDirty=!1}add(e){Um(this.children,e),this.isDirty=!0}remove(e){Wm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UO),this.isDirty=!1,this.children.forEach(e)}}function HO(t,e){const n=bt.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Ms(s),t(i-e))};return be.setup(s,!0),()=>Ms(s)}const X1=["TopLeft","TopRight","BottomLeft","BottomRight"],qO=X1.length,py=t=>typeof t=="string"?parseFloat(t):t,gy=t=>typeof t=="number"||G.test(t);function KO(t,e,n,s,r,i){r?(t.opacity=Se(0,n.opacity??1,YO(s)),t.opacityExit=Se(e.opacity??1,0,GO(s))):i&&(t.opacity=Se(e.opacity??1,n.opacity??1,s));for(let o=0;o<qO;o++){const a=`border${X1[o]}Radius`;let l=yy(e,a),c=yy(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gy(l)===gy(c)?(t[a]=Math.max(Se(py(l),py(c),s),0),(Tn.test(c)||Tn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Se(e.rotate||0,n.rotate||0,s))}function yy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YO=Q1(0,.5,F_),GO=Q1(.5,.95,Wt);function Q1(t,e,n){return s=>s<t?0:s>e?1:n(ca(t,e,s))}function xy(t,e){t.min=e.min,t.max=e.max}function Rt(t,e){xy(t.x,e.x),xy(t.y,e.y)}function vy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function by(t,e,n,s,r){return t-=e,t=Dc(t,1/n,s),r!==void 0&&(t=Dc(t,1/r,s)),t}function XO(t,e=0,n=1,s=.5,r,i=t,o=t){if(Tn.test(e)&&(e=parseFloat(e),e=Se(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Se(i.min,i.max,s);t===i&&(a-=e),t.min=by(t.min,e,n,a,r),t.max=by(t.max,e,n,a,r)}function wy(t,e,[n,s,r],i,o){XO(t,e[n],e[s],e[r],e.scale,i,o)}const QO=["x","scaleX","originX"],JO=["y","scaleY","originY"];function _y(t,e,n,s){wy(t.x,e,QO,n?n.x:void 0,s?s.x:void 0),wy(t.y,e,JO,n?n.y:void 0,s?s.y:void 0)}function Sy(t){return t.translate===0&&t.scale===1}function J1(t){return Sy(t.x)&&Sy(t.y)}function ky(t,e){return t.min===e.min&&t.max===e.max}function ZO(t,e){return ky(t.x,e.x)&&ky(t.y,e.y)}function jy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z1(t,e){return jy(t.x,e.x)&&jy(t.y,e.y)}function Cy(t){return lt(t.x)/lt(t.y)}function Ty(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eD{constructor(){this.members=[]}add(e){Um(this.members,e),e.scheduleRender()}remove(e){if(Wm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tD(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:p}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const kd=["","X","Y","Z"],nD=1e3;let sD=0;function jd(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function eS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=B1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&eS(s)}function tS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oD),this.nodes.forEach(uD),this.nodes.forEach(dD),this.nodes.forEach(aD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=g1(o)&&!JA(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;be.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=HO(f,250),Hl.hasAnimatedSinceResize&&(Hl.hasAnimatedSinceResize=!1,this.nodes.forEach(Ny)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||gD,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=c.getProps(),g=!this.targetLayout||!Z1(this.targetLayout,m),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...ip(p,"layout"),onPlay:v,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(u,y)}else h||Ny(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Py);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ey);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cD),this.nodes.forEach(rD),this.nodes.forEach(iD)):this.nodes.forEach(Ey),this.clearAllSnapshots();const a=bt.now();Ge.delta=Qn(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,fd.update.process(Ge),fd.preRender.process(Ge),fd.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ap.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lD),this.sharedNodes.forEach(fD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lt(this.snapshot.measuredBox.x)&&!lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!J1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Zs(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),yD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Pe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(xD))){const{scroll:u}=this.root;u&&(ti(a.x,u.offset.x),ti(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Pe();if(Rt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Rt(a,o),ti(a.x,h.offset.x),ti(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Pe();Rt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ni(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zs(u.latestValues)&&ni(l,u.latestValues)}return Zs(this.latestValues)&&ni(l,this.latestValues),l}removeTransform(o){const a=Pe();Rt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Zs(c.latestValues))continue;cf(c.latestValues)&&c.updateSnapshot();const u=Pe(),h=c.measurePageBox();Rt(u,h),_y(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Zs(this.latestValues)&&_y(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rt(this.target,this.layout.layoutBox),O1(this.target,this.targetDelta)):Rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Lo(this.relativeTargetOrigin,this.target,m.target),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cf(this.parent.latestValues)||M1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Rt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;LM(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pe());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vy(this.prevProjectionDelta.x,this.projectionDelta.x),vy(this.prevProjectionDelta.y,this.projectionDelta.y)),Ro(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ty(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ty(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Pe(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,b=this.getStack(),g=!b||b.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(pD));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const _=w/1e3;Ay(h.x,o.x,_),Ay(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mD(this.relativeTarget,this.relativeTargetOrigin,f,_),x&&ZO(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Pe()),Rt(x,this.relativeTarget)),v&&(this.animationValues=u,KO(u,c,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{Hl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_i(0)),this.currentAnimation=zO(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&nS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pe();const h=lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Rt(a,l),ni(a,u),Ro(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eD),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&jd("z",o,c,this.animationValues);for(let u=0;u<kd.length;u++)jd(`rotate${kd[u]}`,o,c,this.animationValues),jd(`skew${kd[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wl(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=tD(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in fa){if(u[p]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:g}=fa[p],y=h==="none"?u[p]:v(u[p],c);if(b){const x=b.length;for(let w=0;w<x;w++)o[b[w]]=y}else g?this.options.visualElement.renderState.vars[p]=y:o[p]=y}this.options.layoutId&&(o.pointerEvents=c===this?Wl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Py),this.root.sharedNodes.clear()}}}function rD(t){t.updateLayout()}function iD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?It(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=lt(f);f.min=s[h].min,f.max=f.min+m}):nS(i,e.layoutBox,s)&&It(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=lt(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=si();Ro(a,s,e.layoutBox);const l=si();o?Ro(l,t.applyTransform(r,!0),e.measuredBox):Ro(l,s,e.layoutBox);const c=!J1(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=Pe();Lo(p,e.layoutBox,f.layoutBox);const v=Pe();Lo(v,s,m.layoutBox),Z1(p,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function oD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lD(t){t.clearSnapshot()}function Py(t){t.clearMeasurements()}function Ey(t){t.isLayoutDirty=!1}function cD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ny(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uD(t){t.resolveTargetDelta()}function dD(t){t.calcProjection()}function hD(t){t.resetSkewAndRotation()}function fD(t){t.removeLeadSnapshot()}function Ay(t,e,n){t.translate=Se(e.translate,0,n),t.scale=Se(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function My(t,e,n,s){t.min=Se(e.min,n.min,s),t.max=Se(e.max,n.max,s)}function mD(t,e,n,s){My(t.x,e.x,n.x,s),My(t.y,e.y,n.y,s)}function pD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gD={duration:.45,ease:[.4,0,.1,1]},Oy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dy=Oy("applewebkit/")&&!Oy("chrome/")?Math.round:Wt;function Ry(t){t.min=Dy(t.min),t.max=Dy(t.max)}function yD(t){Ry(t.x),Ry(t.y)}function nS(t,e,n){return t==="position"||t==="preserve-aspect"&&!SO(Cy(e),Cy(n),.2)}function xD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const vD=tS({attachResizeListener:(t,e)=>ma(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cd={current:void 0},sS=tS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cd.current){const t=new vD({});t.mount(window),t.setOptions({layoutScroll:!0}),Cd.current=t}return Cd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bD={pan:{Feature:FO},drag:{Feature:IO,ProjectionNode:sS,MeasureLayout:G1}};function Ly(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&be.postRender(()=>i(e,La(e)))}class wD extends zs{mount(){const{current:e}=this.node;e&&(this.unmount=KA(e,(n,s)=>(Ly(this.node,s,"Start"),r=>Ly(this.node,r,"End"))))}unmount(){}}class _D extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oa(ma(this.node.current,"focus",()=>this.onFocus()),ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Iy(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&be.postRender(()=>i(e,La(e)))}class SD extends zs{mount(){const{current:e}=this.node;e&&(this.unmount=QA(e,(n,s)=>(Iy(this.node,s,"Start"),(r,{success:i})=>Iy(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gf=new WeakMap,Td=new WeakMap,kD=t=>{const e=gf.get(t.target);e&&e(t)},jD=t=>{t.forEach(kD)};function CD({root:t,...e}){const n=t||document;Td.has(n)||Td.set(n,{});const s=Td.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(jD,{root:t,...e})),s[r]}function TD(t,e,n){const s=CD(e);return gf.set(t,n),s.observe(t),()=>{gf.delete(t),s.unobserve(t)}}const PD={some:0,all:1};class ED extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:PD[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return TD(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ND(e,n))&&this.startObserver()}unmount(){}}function ND({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AD={inView:{Feature:ED},tap:{Feature:SD},focus:{Feature:_D},hover:{Feature:wD}},MD={layout:{ProjectionNode:sS,MeasureLayout:G1}},OD={...yO,...AD,...bD,...MD},Q=OM(OD,qM),ql=[{id:"1",name:"Bath",duration:60,price:35,description:"Complete bath with shampoo and conditioner"},{id:"2",name:"Sanitary Trim",duration:30,price:25,description:"Trimming of intimate areas and paws"},{id:"3",name:"Machine Grooming",duration:45,price:40,description:"Complete grooming with clippers"},{id:"4",name:"Scissor Grooming",duration:60,price:55,description:"Artisanal grooming with scissor finishing"},{id:"5",name:"Nail Trimming",duration:15,price:15,description:"Nail cutting and filing"},{id:"6",name:"Conditioning Treatment",duration:30,price:30,description:"Moisturizing treatment for fur"}];function Fy(){const{state:t,dispatch:e}=Li(),n=r=>{const i=t.selectedServices.some(a=>a.id===r.id);let o;i?o=t.selectedServices.filter(a=>a.id!==r.id):o=[...t.selectedServices,r],e({type:"SET_SERVICES",payload:o})},s=()=>{t.selectedServices.length>0&&e({type:"SET_STEP",payload:2})};return d.jsxs("div",{className:"space-y-6 w-full",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Choose Services"}),d.jsx("p",{className:"text-gray-700 text-lg",children:"Select one or more services for your pet"})]}),d.jsx("div",{className:"grid gap-4 w-full",children:ql.map((r,i)=>{const o=t.selectedServices.some(a=>a.id===r.id);return d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.1},onClick:()=>n(r),className:`relative p-4 md:p-6 rounded-2xl border-2 cursor-pointer transition-all duration-300 transform hover:scale-105 w-full ${o?"border-orange-400 bg-gradient-to-br from-orange-50 to-pink-50 shadow-xl shadow-orange-200/50":"border-gray-200 bg-white hover:border-orange-200 hover:shadow-lg hover:shadow-gray-200/50"}`,children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h3",{className:"font-bold text-blue-900 text-base md:text-lg",children:r.name}),o&&d.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-pink-400 text-white p-1 rounded-full shadow-lg",children:d.jsx(hs,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-gray-700 mb-3 text-sm md:text-base",children:r.description}),d.jsxs("div",{className:"flex items-center justify-between md:space-x-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[d.jsx(Wn,{className:"w-4 h-4"}),d.jsxs("span",{children:[r.duration," min"]})]}),d.jsxs("div",{className:"flex flex-col items-end text-orange-600 font-bold",children:[d.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(starting from)"}),d.jsx("div",{className:"flex items-center space-x-1 text-base",children:d.jsxs("span",{children:["$",r.price.toFixed(2)]})})]})]})]})})},r.id)})}),t.selectedServices.length>0&&d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-orange-50 to-pink-50 border-2 border-orange-200 rounded-2xl p-4 md:p-6 shadow-lg w-full",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[d.jsxs("span",{className:"font-bold text-blue-900 text-lg",children:[t.selectedServices.length," service(s) selected"]}),d.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent",children:["$",t.totalPrice.toFixed(2)]})]})}),d.jsx("button",{onClick:s,disabled:t.selectedServices.length===0,className:"w-full bg-gradient-to-r from-orange-400 to-pink-400 text-white py-4 rounded-2xl font-bold text-base md:text-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:from-orange-500 hover:to-pink-500 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Continue"})]})}var Ia=t=>t.type==="checkbox",ur=t=>t instanceof Date,at=t=>t==null;const rS=t=>typeof t=="object";var Ae=t=>!at(t)&&!Array.isArray(t)&&rS(t)&&!ur(t),DD=t=>Ae(t)&&t.target?Ia(t.target)?t.target.checked:t.target.value:t,RD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,LD=(t,e)=>t.has(RD(e)),ID=t=>{const e=t.constructor&&t.constructor.prototype;return Ae(e)&&e.hasOwnProperty("isPrototypeOf")},xp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ze(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(xp&&(t instanceof Blob||s))&&(n||Ae(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!ID(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ze(t[r]));else return t;return e}var vu=t=>/^\w*$/.test(t),De=t=>t===void 0,vp=t=>Array.isArray(t)?t.filter(Boolean):[],bp=t=>vp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(t,e,n)=>{if(!e||!Ae(t))return n;const s=(vu(e)?[e]:bp(e)).reduce((r,i)=>at(r)?r:r[i],t);return De(s)||s===t?De(t[e])?n:t[e]:s},vn=t=>typeof t=="boolean",xe=(t,e,n)=>{let s=-1;const r=vu(e)?[e]:bp(e),i=r.length,o=i-1;for(;++s<i;){const a=r[s];let l=n;if(s!==o){const c=t[a];l=Ae(c)||Array.isArray(c)?c:isNaN(+r[s+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const By={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},An={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},FD=Fe.createContext(null);FD.displayName="HookFormContext";var BD=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const o=i;return e._proxyFormState[o]!==rn.all&&(e._proxyFormState[o]=!s||rn.all),t[o]}});return r};const $D=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;var wn=t=>typeof t=="string",VD=(t,e,n,s,r)=>wn(t)?(s&&e.watch.add(t),U(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),U(n,i))):(s&&(e.watchAll=!0),n),yf=t=>at(t)||!rS(t);function gs(t,e,n=new WeakSet){if(yf(t)||yf(e))return t===e;if(ur(t)&&ur(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(ur(o)&&ur(a)||Ae(o)&&Ae(a)||Array.isArray(o)&&Array.isArray(a)?!gs(o,a,n):o!==a)return!1}}return!0}var zD=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},Io=t=>Array.isArray(t)?t:[t],$y=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},pt=t=>Ae(t)&&!Object.keys(t).length,wp=t=>t.type==="file",on=t=>typeof t=="function",Rc=t=>{if(!xp)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},iS=t=>t.type==="select-multiple",_p=t=>t.type==="radio",UD=t=>_p(t)||Ia(t),Pd=t=>Rc(t)&&t.isConnected;function WD(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=De(t)?s++:t[e[s++]];return t}function HD(t){for(const e in t)if(t.hasOwnProperty(e)&&!De(t[e]))return!1;return!0}function Me(t,e){const n=Array.isArray(e)?e:vu(e)?[e]:bp(e),s=n.length===1?t:WD(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(Ae(s)&&pt(s)||Array.isArray(s)&&HD(s))&&Me(t,n.slice(0,-1)),t}var oS=t=>{for(const e in t)if(on(t[e]))return!0;return!1};function Lc(t,e={}){const n=Array.isArray(t);if(Ae(t)||n)for(const s in t)Array.isArray(t[s])||Ae(t[s])&&!oS(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Lc(t[s],e[s])):at(t[s])||(e[s]=!0);return e}function aS(t,e,n){const s=Array.isArray(t);if(Ae(t)||s)for(const r in t)Array.isArray(t[r])||Ae(t[r])&&!oS(t[r])?De(e)||yf(n[r])?n[r]=Array.isArray(t[r])?Lc(t[r],[]):{...Lc(t[r])}:aS(t[r],at(e)?{}:e[r],n[r]):n[r]=!gs(t[r],e[r]);return n}var eo=(t,e)=>aS(t,e,Lc(e));const Vy={value:!1,isValid:!1},zy={value:!0,isValid:!0};var lS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!De(t[0].attributes.value)?De(t[0].value)||t[0].value===""?zy:{value:t[0].value,isValid:!0}:zy:Vy}return Vy},cS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>De(t)?t:e?t===""?NaN:t&&+t:n&&wn(t)?new Date(t):s?s(t):t;const Uy={isValid:!1,value:null};var uS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Uy):Uy;function Wy(t){const e=t.ref;return wp(e)?e.files:_p(e)?uS(t.refs).value:iS(e)?[...e.selectedOptions].map(({value:n})=>n):Ia(e)?lS(t.refs).value:cS(De(e.value)?t.ref.value:e.value,t)}var qD=(t,e,n,s)=>{const r={};for(const i of t){const o=U(e,i);o&&xe(r,i,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Ic=t=>t instanceof RegExp,to=t=>De(t)?t:Ic(t)?t.source:Ae(t)?Ic(t.value)?t.value.source:t.value:t,Hy=t=>({isOnSubmit:!t||t===rn.onSubmit,isOnBlur:t===rn.onBlur,isOnChange:t===rn.onChange,isOnAll:t===rn.all,isOnTouch:t===rn.onTouched});const qy="AsyncFunction";var KD=t=>!!t&&!!t.validate&&!!(on(t.validate)&&t.validate.constructor.name===qy||Ae(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===qy)),YD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ky=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Fo=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=U(t,r);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Fo(a,e))break}else if(Ae(a)&&Fo(a,e))break}}};function Yy(t,e,n){const s=U(t,n);if(s||vu(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),o=U(e,i),a=U(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};r.pop()}return{name:n}}var GD=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return pt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||rn.all))},XD=(t,e,n)=>!t||!e||t===e||Io(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),QD=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,JD=(t,e)=>!vp(U(t,e)).length&&Me(t,e),ZD=(t,e,n)=>{const s=Io(U(t,n));return xe(s,"root",e[n]),xe(t,n,s),t},Kl=t=>wn(t);function Gy(t,e,n="validate"){if(Kl(t)||Array.isArray(t)&&t.every(Kl)||vn(t)&&!t)return{type:n,message:Kl(t)?t:"",ref:e}}var Lr=t=>Ae(t)&&!Ic(t)?t:{value:t,message:""},Xy=async(t,e,n,s,r,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:h,max:f,pattern:m,validate:p,name:v,valueAsNumber:b,mount:g}=t._f,y=U(n,v);if(!g||e.has(v))return{};const x=a?a[0]:o,w=I=>{r&&x.reportValidity&&(x.setCustomValidity(vn(I)?"":I||""),x.reportValidity())},_={},j=_p(o),C=Ia(o),T=j||C,N=(b||wp(o))&&De(o.value)&&De(y)||Rc(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,A=zD.bind(null,v,s,_),F=(I,O,K,H=An.maxLength,q=An.minLength)=>{const Y=I?O:K;_[v]={type:I?H:q,message:Y,ref:o,...A(I?H:q,Y)}};if(i?!Array.isArray(y)||!y.length:l&&(!T&&(N||at(y))||vn(y)&&!y||C&&!lS(a).isValid||j&&!uS(a).isValid)){const{value:I,message:O}=Kl(l)?{value:!!l,message:l}:Lr(l);if(I&&(_[v]={type:An.required,message:O,ref:x,...A(An.required,O)},!s))return w(O),_}if(!N&&(!at(h)||!at(f))){let I,O;const K=Lr(f),H=Lr(h);if(!at(y)&&!isNaN(y)){const q=o.valueAsNumber||y&&+y;at(K.value)||(I=q>K.value),at(H.value)||(O=q<H.value)}else{const q=o.valueAsDate||new Date(y),Y=z=>new Date(new Date().toDateString()+" "+z),D=o.type=="time",V=o.type=="week";wn(K.value)&&y&&(I=D?Y(y)>Y(K.value):V?y>K.value:q>new Date(K.value)),wn(H.value)&&y&&(O=D?Y(y)<Y(H.value):V?y<H.value:q<new Date(H.value))}if((I||O)&&(F(!!I,K.message,H.message,An.max,An.min),!s))return w(_[v].message),_}if((c||u)&&!N&&(wn(y)||i&&Array.isArray(y))){const I=Lr(c),O=Lr(u),K=!at(I.value)&&y.length>+I.value,H=!at(O.value)&&y.length<+O.value;if((K||H)&&(F(K,I.message,O.message),!s))return w(_[v].message),_}if(m&&!N&&wn(y)){const{value:I,message:O}=Lr(m);if(Ic(I)&&!y.match(I)&&(_[v]={type:An.pattern,message:O,ref:o,...A(An.pattern,O)},!s))return w(O),_}if(p){if(on(p)){const I=await p(y,n),O=Gy(I,x);if(O&&(_[v]={...O,...A(An.validate,O.message)},!s))return w(O.message),_}else if(Ae(p)){let I={};for(const O in p){if(!pt(I)&&!s)break;const K=Gy(await p[O](y,n),x,O);K&&(I={...K,...A(O,K.message)},w(K.message),s&&(_[v]=I))}if(!pt(I)&&(_[v]={ref:x,...I},!s))return _}}return w(!0),_};const eR={mode:rn.onSubmit,reValidateMode:rn.onChange,shouldFocusError:!0};function tR(t={}){let e={...eR,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:on(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=Ae(e.defaultValues)||Ae(e.values)?ze(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ze(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:$y(),state:$y()},m=e.criteriaMode===rn.all,p=k=>P=>{clearTimeout(c),c=setTimeout(k,P)},v=async k=>{if(!e.disabled&&(u.isValid||h.isValid||k)){const P=e.resolver?pt((await C()).errors):await N(s,!0);P!==n.isValid&&f.state.next({isValid:P})}},b=(k,P)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(a.mount)).forEach(E=>{E&&(P?xe(n.validatingFields,E,P):Me(n.validatingFields,E))}),f.state.next({validatingFields:n.validatingFields,isValidating:!pt(n.validatingFields)}))},g=(k,P=[],E,B,L=!0,R=!0)=>{if(B&&E&&!e.disabled){if(o.action=!0,R&&Array.isArray(U(s,k))){const W=E(U(s,k),B.argA,B.argB);L&&xe(s,k,W)}if(R&&Array.isArray(U(n.errors,k))){const W=E(U(n.errors,k),B.argA,B.argB);L&&xe(n.errors,k,W),JD(n.errors,k)}if((u.touchedFields||h.touchedFields)&&R&&Array.isArray(U(n.touchedFields,k))){const W=E(U(n.touchedFields,k),B.argA,B.argB);L&&xe(n.touchedFields,k,W)}(u.dirtyFields||h.dirtyFields)&&(n.dirtyFields=eo(r,i)),f.state.next({name:k,isDirty:F(k,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xe(i,k,P)},y=(k,P)=>{xe(n.errors,k,P),f.state.next({errors:n.errors})},x=k=>{n.errors=k,f.state.next({errors:n.errors,isValid:!1})},w=(k,P,E,B)=>{const L=U(s,k);if(L){const R=U(i,k,De(E)?U(r,k):E);De(R)||B&&B.defaultChecked||P?xe(i,k,P?R:Wy(L._f)):K(k,R),o.mount&&v()}},_=(k,P,E,B,L)=>{let R=!1,W=!1;const ae={name:k};if(!e.disabled){if(!E||B){(u.isDirty||h.isDirty)&&(W=n.isDirty,n.isDirty=ae.isDirty=F(),R=W!==ae.isDirty);const he=gs(U(r,k),P);W=!!U(n.dirtyFields,k),he?Me(n.dirtyFields,k):xe(n.dirtyFields,k,!0),ae.dirtyFields=n.dirtyFields,R=R||(u.dirtyFields||h.dirtyFields)&&W!==!he}if(E){const he=U(n.touchedFields,k);he||(xe(n.touchedFields,k,E),ae.touchedFields=n.touchedFields,R=R||(u.touchedFields||h.touchedFields)&&he!==E)}R&&L&&f.state.next(ae)}return R?ae:{}},j=(k,P,E,B)=>{const L=U(n.errors,k),R=(u.isValid||h.isValid)&&vn(P)&&n.isValid!==P;if(e.delayError&&E?(l=p(()=>y(k,E)),l(e.delayError)):(clearTimeout(c),l=null,E?xe(n.errors,k,E):Me(n.errors,k)),(E?!gs(L,E):L)||!pt(B)||R){const W={...B,...R&&vn(P)?{isValid:P}:{},errors:n.errors,name:k};n={...n,...W},f.state.next(W)}},C=async k=>{b(k,!0);const P=await e.resolver(i,e.context,qD(k||a.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return b(k),P},T=async k=>{const{errors:P}=await C(k);if(k)for(const E of k){const B=U(P,E);B?xe(n.errors,E,B):Me(n.errors,E)}else n.errors=P;return P},N=async(k,P,E={valid:!0})=>{for(const B in k){const L=k[B];if(L){const{_f:R,...W}=L;if(R){const ae=a.array.has(R.name),he=L._f&&KD(L._f);he&&u.validatingFields&&b([B],!0);const Dt=await Xy(L,a.disabled,i,m,e.shouldUseNativeValidation&&!P,ae);if(he&&u.validatingFields&&b([B]),Dt[R.name]&&(E.valid=!1,P))break;!P&&(U(Dt,R.name)?ae?ZD(n.errors,Dt,R.name):xe(n.errors,R.name,Dt[R.name]):Me(n.errors,R.name))}!pt(W)&&await N(W,P,E)}}return E.valid},A=()=>{for(const k of a.unMount){const P=U(s,k);P&&(P._f.refs?P._f.refs.every(E=>!Pd(E)):!Pd(P._f.ref))&&es(k)}a.unMount=new Set},F=(k,P)=>!e.disabled&&(k&&P&&xe(i,k,P),!gs(z(),r)),I=(k,P,E)=>VD(k,a,{...o.mount?i:De(P)?r:wn(k)?{[k]:P}:P},E,P),O=k=>vp(U(o.mount?i:r,k,e.shouldUnregister?U(r,k,[]):[])),K=(k,P,E={})=>{const B=U(s,k);let L=P;if(B){const R=B._f;R&&(!R.disabled&&xe(i,k,cS(P,R)),L=Rc(R.ref)&&at(P)?"":P,iS(R.ref)?[...R.ref.options].forEach(W=>W.selected=L.includes(W.value)):R.refs?Ia(R.ref)?R.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(L)?W.checked=!!L.find(ae=>ae===W.value):W.checked=L===W.value||!!L)}):R.refs.forEach(W=>W.checked=W.value===L):wp(R.ref)?R.ref.value="":(R.ref.value=L,R.ref.type||f.state.next({name:k,values:ze(i)})))}(E.shouldDirty||E.shouldTouch)&&_(k,L,E.shouldTouch,E.shouldDirty,!0),E.shouldValidate&&V(k)},H=(k,P,E)=>{for(const B in P){if(!P.hasOwnProperty(B))return;const L=P[B],R=k+"."+B,W=U(s,R);(a.array.has(k)||Ae(L)||W&&!W._f)&&!ur(L)?H(R,L,E):K(R,L,E)}},q=(k,P,E={})=>{const B=U(s,k),L=a.array.has(k),R=ze(P);xe(i,k,R),L?(f.array.next({name:k,values:ze(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&E.shouldDirty&&f.state.next({name:k,dirtyFields:eo(r,i),isDirty:F(k,R)})):B&&!B._f&&!at(R)?H(k,R,E):K(k,R,E),Ky(k,a)&&f.state.next({...n,name:k}),f.state.next({name:o.mount?k:void 0,values:ze(i)})},Y=async k=>{o.mount=!0;const P=k.target;let E=P.name,B=!0;const L=U(s,E),R=he=>{B=Number.isNaN(he)||ur(he)&&isNaN(he.getTime())||gs(he,U(i,E,he))},W=Hy(e.mode),ae=Hy(e.reValidateMode);if(L){let he,Dt;const $a=P.type?Wy(L._f):DD(k),ts=k.type===By.BLUR||k.type===By.FOCUS_OUT,gk=!YD(L._f)&&!e.resolver&&!U(n.errors,E)&&!L._f.deps||QD(ts,U(n.touchedFields,E),n.isSubmitted,ae,W),Eu=Ky(E,a,ts);xe(i,E,$a),ts?(!P||!P.readOnly)&&(L._f.onBlur&&L._f.onBlur(k),l&&l(0)):L._f.onChange&&L._f.onChange(k);const Nu=_(E,$a,ts),yk=!pt(Nu)||Eu;if(!ts&&f.state.next({name:E,type:k.type,values:ze(i)}),gk)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?ts&&v():ts||v()),yk&&f.state.next({name:E,...Eu?{}:Nu});if(!ts&&Eu&&f.state.next({...n}),e.resolver){const{errors:Wp}=await C([E]);if(R($a),B){const xk=Yy(n.errors,s,E),Hp=Yy(Wp,s,xk.name||E);he=Hp.error,E=Hp.name,Dt=pt(Wp)}}else b([E],!0),he=(await Xy(L,a.disabled,i,m,e.shouldUseNativeValidation))[E],b([E]),R($a),B&&(he?Dt=!1:(u.isValid||h.isValid)&&(Dt=await N(s,!0)));B&&(L._f.deps&&V(L._f.deps),j(E,Dt,he,Nu))}},D=(k,P)=>{if(U(n.errors,P)&&k.focus)return k.focus(),1},V=async(k,P={})=>{let E,B;const L=Io(k);if(e.resolver){const R=await T(De(k)?k:L);E=pt(R),B=k?!L.some(W=>U(R,W)):E}else k?(B=(await Promise.all(L.map(async R=>{const W=U(s,R);return await N(W&&W._f?{[R]:W}:W)}))).every(Boolean),!(!B&&!n.isValid)&&v()):B=E=await N(s);return f.state.next({...!wn(k)||(u.isValid||h.isValid)&&E!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:E}:{},errors:n.errors}),P.shouldFocus&&!B&&Fo(s,D,k?L:a.mount),B},z=k=>{const P={...o.mount?i:r};return De(k)?P:wn(k)?U(P,k):k.map(E=>U(P,E))},ie=(k,P)=>({invalid:!!U((P||n).errors,k),isDirty:!!U((P||n).dirtyFields,k),error:U((P||n).errors,k),isValidating:!!U(n.validatingFields,k),isTouched:!!U((P||n).touchedFields,k)}),de=k=>{k&&Io(k).forEach(P=>Me(n.errors,P)),f.state.next({errors:k?n.errors:{}})},kt=(k,P,E)=>{const B=(U(s,k,{_f:{}})._f||{}).ref,L=U(n.errors,k)||{},{ref:R,message:W,type:ae,...he}=L;xe(n.errors,k,{...he,...P,ref:B}),f.state.next({name:k,errors:n.errors,isValid:!1}),E&&E.shouldFocus&&B&&B.focus&&B.focus()},qe=(k,P)=>on(k)?f.state.subscribe({next:E=>"values"in E&&k(I(void 0,P),E)}):I(k,P,!0),Ot=k=>f.state.subscribe({next:P=>{XD(k.name,P.name,k.exact)&&GD(P,k.formState||u,pk,k.reRenderRoot)&&k.callback({values:{...i},...n,...P,defaultValues:r})}}).unsubscribe,Ke=k=>(o.mount=!0,h={...h,...k.formState},Ot({...k,formState:h})),es=(k,P={})=>{for(const E of k?Io(k):a.mount)a.mount.delete(E),a.array.delete(E),P.keepValue||(Me(s,E),Me(i,E)),!P.keepError&&Me(n.errors,E),!P.keepDirty&&Me(n.dirtyFields,E),!P.keepTouched&&Me(n.touchedFields,E),!P.keepIsValidating&&Me(n.validatingFields,E),!e.shouldUnregister&&!P.keepDefaultValue&&Me(r,E);f.state.next({values:ze(i)}),f.state.next({...n,...P.keepDirty?{isDirty:F()}:{}}),!P.keepIsValid&&v()},Bp=({disabled:k,name:P})=>{(vn(k)&&o.mount||k||a.disabled.has(P))&&(k?a.disabled.add(P):a.disabled.delete(P))},Tu=(k,P={})=>{let E=U(s,k);const B=vn(P.disabled)||vn(e.disabled);return xe(s,k,{...E||{},_f:{...E&&E._f?E._f:{ref:{name:k}},name:k,mount:!0,...P}}),a.mount.add(k),E?Bp({disabled:vn(P.disabled)?P.disabled:e.disabled,name:k}):w(k,!0,P.value),{...B?{disabled:P.disabled||e.disabled}:{},...e.progressive?{required:!!P.required,min:to(P.min),max:to(P.max),minLength:to(P.minLength),maxLength:to(P.maxLength),pattern:to(P.pattern)}:{},name:k,onChange:Y,onBlur:Y,ref:L=>{if(L){Tu(k,P),E=U(s,k);const R=De(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,W=UD(R),ae=E._f.refs||[];if(W?ae.find(he=>he===R):R===E._f.ref)return;xe(s,k,{_f:{...E._f,...W?{refs:[...ae.filter(Pd),R,...Array.isArray(U(r,k))?[{}]:[]],ref:{type:R.type,name:k}}:{ref:R}}}),w(k,!1,void 0,R)}else E=U(s,k,{}),E._f&&(E._f.mount=!1),(e.shouldUnregister||P.shouldUnregister)&&!(LD(a.array,k)&&o.action)&&a.unMount.add(k)}}},Pu=()=>e.shouldFocusError&&Fo(s,D,a.mount),hk=k=>{vn(k)&&(f.state.next({disabled:k}),Fo(s,(P,E)=>{const B=U(s,E);B&&(P.disabled=B._f.disabled||k,Array.isArray(B._f.refs)&&B._f.refs.forEach(L=>{L.disabled=B._f.disabled||k}))},0,!1))},$p=(k,P)=>async E=>{let B;E&&(E.preventDefault&&E.preventDefault(),E.persist&&E.persist());let L=ze(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:R,values:W}=await C();n.errors=R,L=ze(W)}else await N(s);if(a.disabled.size)for(const R of a.disabled)Me(L,R);if(Me(n.errors,"root"),pt(n.errors)){f.state.next({errors:{}});try{await k(L,E)}catch(R){B=R}}else P&&await P({...n.errors},E),Pu(),setTimeout(Pu);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pt(n.errors)&&!B,submitCount:n.submitCount+1,errors:n.errors}),B)throw B},fk=(k,P={})=>{U(s,k)&&(De(P.defaultValue)?q(k,ze(U(r,k))):(q(k,P.defaultValue),xe(r,k,ze(P.defaultValue))),P.keepTouched||Me(n.touchedFields,k),P.keepDirty||(Me(n.dirtyFields,k),n.isDirty=P.defaultValue?F(k,ze(U(r,k))):F()),P.keepError||(Me(n.errors,k),u.isValid&&v()),f.state.next({...n}))},Vp=(k,P={})=>{const E=k?ze(k):r,B=ze(E),L=pt(k),R=L?r:B;if(P.keepDefaultValues||(r=E),!P.keepValues){if(P.keepDirtyValues){const W=new Set([...a.mount,...Object.keys(eo(r,i))]);for(const ae of Array.from(W))U(n.dirtyFields,ae)?xe(R,ae,U(i,ae)):q(ae,U(R,ae))}else{if(xp&&De(k))for(const W of a.mount){const ae=U(s,W);if(ae&&ae._f){const he=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(Rc(he)){const Dt=he.closest("form");if(Dt){Dt.reset();break}}}}if(P.keepFieldsRef)for(const W of a.mount)q(W,U(R,W));else s={}}i=e.shouldUnregister?P.keepDefaultValues?ze(r):{}:ze(R),f.array.next({values:{...R}}),f.state.next({values:{...R}})}a={mount:P.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:L?!1:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!gs(k,r)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:L?{}:P.keepDirtyValues?P.keepDefaultValues&&i?eo(r,i):n.dirtyFields:P.keepDefaultValues&&k?eo(r,k):P.keepDirty?n.dirtyFields:{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},zp=(k,P)=>Vp(on(k)?k(i):k,P),mk=(k,P={})=>{const E=U(s,k),B=E&&E._f;if(B){const L=B.refs?B.refs[0]:B.ref;L.focus&&(L.focus(),P.shouldSelect&&on(L.select)&&L.select())}},pk=k=>{n={...n,...k}},Up={control:{register:Tu,unregister:es,getFieldState:ie,handleSubmit:$p,setError:kt,_subscribe:Ot,_runSchema:C,_focusError:Pu,_getWatch:I,_getDirty:F,_setValid:v,_setFieldArray:g,_setDisabledField:Bp,_setErrors:x,_getFieldArray:O,_reset:Vp,_resetDefaultValues:()=>on(e.defaultValues)&&e.defaultValues().then(k=>{zp(k,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:hk,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return r},get _names(){return a},set _names(k){a=k},get _formState(){return n},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:Ke,trigger:V,register:Tu,handleSubmit:$p,watch:qe,setValue:q,getValues:z,reset:zp,resetField:fk,clearErrors:de,unregister:es,setError:kt,setFocus:mk,getFieldState:ie};return{...Up,formControl:Up}}function bu(t={}){const e=Fe.useRef(void 0),n=Fe.useRef(void 0),[s,r]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:on(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:on(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!on(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=tR(t);e.current={...a,formState:s}}const i=e.current.control;return i._options=t,$D(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),Fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Fe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Fe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Fe.useEffect(()=>{t.values&&!gs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=BD(s,i),e.current}function nR(){const{state:t,dispatch:e}=Li(),{register:n,handleSubmit:s,formState:{errors:r}}=bu(),i=a=>{e({type:"SET_CUSTOMER",payload:{name:a.customerName,phone:a.customerPhone,email:a.customerEmail,cpf:a.customerCpf}}),e({type:"SET_PET",payload:{name:a.petName,breed:a.petBreed,size:a.petSize}}),e({type:"SET_STEP",payload:3})},o=()=>{e({type:"SET_STEP",payload:1})};return d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Your Details"}),d.jsx("p",{className:"text-gray-600",children:"Enter your details and your pet's information"})]}),d.jsxs("form",{onSubmit:s(i),className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(Xn,{className:"w-5 h-5"}),d.jsx("span",{children:"Your Details"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),d.jsx("input",{...n("customerName",{required:"Name is required"}),type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Your full name"}),r.customerName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.customerName.message})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Bm,{className:"w-4 h-4 inline mr-1"}),"Phone/WhatsApp *"]}),d.jsx("input",{...n("customerPhone",{required:"Phone is required"}),type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"(12) 99999-9999"}),r.customerPhone&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.customerPhone.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Fm,{className:"w-4 h-4 inline mr-1"}),"Email"]}),d.jsx("input",{...n("customerEmail"),type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"your@email.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Number *"}),d.jsx("input",{...n("customerCpf",{required:"ID Number is required"}),type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"000.000.000-00"}),r.customerCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.customerCpf.message})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(kr,{className:"w-5 h-5"}),d.jsx("span",{children:"Pet Details"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Name *"}),d.jsx("input",{...n("petName",{required:"Pet name is required"}),type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Your pet's name"}),r.petName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.petName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Breed *"}),d.jsx("input",{...n("petBreed",{required:"Breed is required"}),type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"e.g., Labrador, Mixed breed, etc."}),r.petBreed&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.petBreed.message})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Size *"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:["small","medium","large"].map(a=>d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("petSize",{required:"Size is required"}),type:"radio",value:a,className:"sr-only"}),d.jsx("div",{className:"flex-1 p-3 text-center border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{className:"capitalize font-medium",children:a})})]},a))}),r.petSize&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.petSize.message})]})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{type:"button",onClick:o,className:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Back"}),d.jsx("button",{type:"submit",className:"flex-1 bg-orange-400 text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition-colors",children:"Continue"})]})]})]})}const dS=6048e5,sR=864e5,Qy=Symbol.for("constructDateFrom");function Yt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Qy in t?t[Qy](e):t instanceof Date?new t.constructor(e):new Date(e)}function ft(t,e){return Yt(e||t,t)}function ki(t,e,n){const s=ft(t,n==null?void 0:n.in);return isNaN(e)?Yt(t,NaN):(e&&s.setDate(s.getDate()+e),s)}let rR={};function wu(){return rR}function ji(t,e){var a,l,c,u;const n=wu(),s=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=ft(t,e==null?void 0:e.in),i=r.getDay(),o=(i<s?7:0)+i-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Fc(t,e){return ji(t,{...e,weekStartsOn:1})}function hS(t,e){const n=ft(t,e==null?void 0:e.in),s=n.getFullYear(),r=Yt(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=Fc(r),o=Yt(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=Fc(o);return n.getTime()>=i.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function Jy(t){const e=ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sp(t,...e){const n=Yt.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function pa(t,e){const n=ft(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function iR(t,e,n){const[s,r]=Sp(n==null?void 0:n.in,t,e),i=pa(s),o=pa(r),a=+i-Jy(i),l=+o-Jy(o);return Math.round((a-l)/sR)}function oR(t,e){const n=hS(t,e),s=Yt(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Fc(s)}function fS(t,e,n){return ki(t,e*7,n)}function aR(t){return Yt(t,Date.now())}function Ci(t,e,n){const[s,r]=Sp(n==null?void 0:n.in,t,e);return+pa(s)==+pa(r)}function lR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cR(t){return!(!lR(t)&&typeof t!="number"||isNaN(+ft(t)))}function uR(t,e){const n=ft(t,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function dR(t,e){const[n,s]=Sp(t,e.start,e.end);return{start:n,end:s}}function mS(t,e){const{start:n,end:s}=dR(e==null?void 0:e.in,t);let r=+n>+s;const i=r?+n:+s,o=r?s:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(Yt(n,o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return r?l.reverse():l}function hR(t,e){const n=ft(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function fR(t,e){const n=ft(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mR(t,e){const n=e==null?void 0:e.weekStartsOn,s=ft(t,e==null?void 0:e.in),r=s.getDay(),i=(r<n?-7:0)+6-(r-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}const pR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gR=(t,e,n)=>{let s;const r=pR[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ed(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bR={date:Ed({formats:yR,defaultWidth:"full"}),time:Ed({formats:xR,defaultWidth:"full"}),dateTime:Ed({formats:vR,defaultWidth:"full"})},wR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_R=(t,e,n,s)=>wR[t];function no(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const SR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ER=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NR={ordinalNumber:ER,era:no({values:SR,defaultWidth:"wide"}),quarter:no({values:kR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:no({values:jR,defaultWidth:"wide"}),day:no({values:CR,defaultWidth:"wide"}),dayPeriod:no({values:TR,defaultWidth:"wide",formattingValues:PR,defaultFormattingWidth:"wide"})};function so(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?MR(a,h=>h.test(o)):AR(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function AR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function MR(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function OR(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const DR=/^(\d+)(th|st|nd|rd)?/i,RR=/\d+/i,LR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IR={any:[/^b/i,/^(a|c)/i]},FR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BR={any:[/1/i,/2/i,/3/i,/4/i]},$R={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qR={ordinalNumber:OR({matchPattern:DR,parsePattern:RR,valueCallback:t=>parseInt(t,10)}),era:so({matchPatterns:LR,defaultMatchWidth:"wide",parsePatterns:IR,defaultParseWidth:"any"}),quarter:so({matchPatterns:FR,defaultMatchWidth:"wide",parsePatterns:BR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:so({matchPatterns:$R,defaultMatchWidth:"wide",parsePatterns:VR,defaultParseWidth:"any"}),day:so({matchPatterns:zR,defaultMatchWidth:"wide",parsePatterns:UR,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:WR,defaultMatchWidth:"any",parsePatterns:HR,defaultParseWidth:"any"})},_n={code:"en-US",formatDistance:gR,formatLong:bR,formatRelative:_R,localize:NR,match:qR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KR(t,e){const n=ft(t,e==null?void 0:e.in);return iR(n,fR(n))+1}function YR(t,e){const n=ft(t,e==null?void 0:e.in),s=+Fc(n)-+oR(n);return Math.round(s/dS)+1}function pS(t,e){var u,h,f,m;const n=ft(t,e==null?void 0:e.in),s=n.getFullYear(),r=wu(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Yt((e==null?void 0:e.in)||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const a=ji(o,e),l=Yt((e==null?void 0:e.in)||t,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const c=ji(l,e);return+n>=+a?s+1:+n>=+c?s:s-1}function GR(t,e){var a,l,c,u;const n=wu(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,r=pS(t,e),i=Yt((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),ji(i,e)}function XR(t,e){const n=ft(t,e==null?void 0:e.in),s=+ji(n,e)-+GR(n,e);return Math.round(s/dS)+1}function le(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const rs={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return le(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):le(n+1,2)},d(t,e){return le(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return le(t.getHours()%12||12,e.length)},H(t,e){return le(t.getHours(),e.length)},m(t,e){return le(t.getMinutes(),e.length)},s(t,e){return le(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return le(r,e.length)}},Ir={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zy={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return rs.y(t,e)},Y:function(t,e,n,s){const r=pS(t,s),i=r>0?r:1-r;if(e==="YY"){const o=i%100;return le(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):le(i,e.length)},R:function(t,e){const n=hS(t);return le(n,e.length)},u:function(t,e){const n=t.getFullYear();return le(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return le(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return le(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return rs.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return le(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=XR(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):le(r,e.length)},I:function(t,e,n){const s=YR(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):le(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):rs.d(t,e)},D:function(t,e,n){const s=KR(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):le(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return le(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return le(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return le(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Ir.noon:s===0?r=Ir.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Ir.evening:s>=12?r=Ir.afternoon:s>=4?r=Ir.morning:r=Ir.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return rs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):rs.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):le(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):le(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):rs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):rs.s(t,e)},S:function(t,e){return rs.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return tx(s);case"XXXX":case"XX":return er(s);case"XXXXX":case"XXX":default:return er(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return tx(s);case"xxxx":case"xx":return er(s);case"xxxxx":case"xxx":default:return er(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ex(s,":");case"OOOO":default:return"GMT"+er(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ex(s,":");case"zzzz":default:return"GMT"+er(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return le(s,e.length)},T:function(t,e,n){return le(+t,e.length)}};function ex(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+le(i,2)}function tx(t,e){return t%60===0?(t>0?"-":"+")+le(Math.abs(t)/60,2):er(t,e)}function er(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=le(Math.trunc(s/60),2),i=le(s%60,2);return n+r+e+i}const nx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QR=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return nx(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",nx(s,e)).replace("{{time}}",gS(r,e))},JR={p:gS,P:QR},ZR=/^D+$/,eL=/^Y+$/,tL=["D","DD","YY","YYYY"];function nL(t){return ZR.test(t)}function sL(t){return eL.test(t)}function rL(t,e,n){const s=iL(t,e,n);if(console.warn(s),tL.includes(t))throw new RangeError(s)}function iL(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lL=/^'([^]*?)'?$/,cL=/''/g,uL=/[a-zA-Z]/;function $t(t,e,n){var u,h,f,m,p,v,b,g;const s=wu(),r=(n==null?void 0:n.locale)??s.locale??_n,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((g=(b=s.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,a=ft(t,n==null?void 0:n.in);if(!cR(a))throw new RangeError("Invalid time value");let l=e.match(aL).map(y=>{const x=y[0];if(x==="p"||x==="P"){const w=JR[x];return w(y,r.formatLong)}return y}).join("").match(oL).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:dL(y)};if(Zy[x])return{isToken:!0,value:y};if(x.match(uL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&sL(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nL(x))&&rL(x,e,String(t));const w=Zy[x[0]];return w(a,x,r.localize,c)}).join("")}function dL(t){const e=t.match(lL);return e?e[1].replace(cL,"'"):t}function yS(t,e){return Ci(Yt(t,t),aR(t))}function hL(t,e,n){return ki(t,-e,n)}function fL(t,e,n){return fS(t,-e,n)}function mL(t){return $t(t,"MMMM dd",{locale:_n})}function _u(t,e){return $t(t,"MM/dd/yyyy",{locale:_n})+` at ${e}`}function Su(t,e,n,s,r,i=[],o=[]){const a=[],[l,c]=t.split(":").map(Number),[u,h]=e.split(":").map(Number),[f,m]=s.split(":").map(Number),[p,v]=r.split(":").map(Number);let b=l,g=c;for(;b<u||b===u&&g<h;){const y=`${b.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`,x=b*60+g,w=f*60+m,_=p*60+v,j=x>=w&&x<_;a.push({time:y,available:!i.includes(y)&&!o.includes(y)&&!j}),g+=n,g>=60&&(b+=1,g-=60)}return a}function xS(t,e=30){const n=[],s=pa(new Date);ki(s,1);for(let r=1;r<=e;r++){const i=ki(s,r),o=i.getDay();t.includes(o)&&n.push(i)}return n}function pL(){const t=()=>{const n=`https://wa.me/5512981746615?text=${encodeURIComponent("Olá! Gostaria de verificar a possibilidade de um agendamento para hoje. Vocês têm algum horário disponível para encaixe?")}`;window.open(n,"_blank")};return d.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 rounded-full mb-4",children:d.jsx(ut,{className:"w-8 h-8 text-orange-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"We are fully booked!"}),d.jsx("p",{className:"text-gray-600",children:"To book for today, please contact an attendant to check for availability"})]}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-xl p-4 mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[d.jsx(Wn,{className:"w-5 h-5 text-orange-600"}),d.jsx("span",{className:"font-semibold text-orange-800",children:"Service Hours"})]}),d.jsxs("p",{className:"text-orange-700 text-sm",children:["Monday to Saturday: 8 AM to 6 PM",d.jsx("br",{}),"Break: 12:30 PM to 1:30 PM"]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:t,className:"w-full bg-green-500 text-white py-3 rounded-xl font-semibold hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[d.jsx(KE,{className:"w-5 h-5"}),d.jsx("span",{children:"Contact Attendant"})]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Choose Another Day"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("p",{className:"text-xs text-gray-500",children:["📍 123 Main Street, Pet City, PC 12345",d.jsx("br",{}),"📞 (12) 98174-6615"]})})]})})}function gL(){const{state:t,dispatch:e}=Li(),{settings:n,bookings:s,blockedSlots:r}=Bs(),[i,o]=S.useState(t.selectedDate),[a,l]=S.useState(!1),c=xS(n.workingDays),u=b=>{const g=b.toISOString().split("T")[0],y=s.filter(w=>w.date.toISOString().split("T")[0]===g&&w.status!=="cancelado").map(w=>w.time),x=r.filter(w=>w.startsWith(g));return Su(n.workingHours.start,n.workingHours.end,n.serviceInterval,n.lunchBreak.start,n.lunchBreak.end,y,x.map(w=>w.split(" ")[1]))},h=b=>{if(Ci(b,new Date)){l(!0);return}o(b),e({type:"SET_DATE",payload:b}),e({type:"SET_TIME",payload:""})},f=b=>{e({type:"SET_TIME",payload:b})},m=()=>{e({type:"SET_STEP",payload:2})},p=()=>{i&&t.selectedTime&&e({type:"SET_STEP",payload:4})},v=i?u(i):[];return d.jsxs(d.Fragment,{children:[a&&d.jsx(pL,{}),d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Date and Time"}),d.jsx("p",{className:"text-gray-600",children:"Choose when you want to bring your pet"})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(ut,{className:"w-5 h-5"}),d.jsx("span",{children:"Select Date"})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:c.slice(0,14).map((b,g)=>{const y=i&&b.toDateString()===i.toDateString();return d.jsxs(Q.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:g*.05},onClick:()=>h(b),className:`p-3 rounded-lg text-sm transition-all duration-200 ${y?"bg-orange-400 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-orange-50 hover:text-orange-600"}`,children:[d.jsx("div",{className:"font-medium",children:mL(b)}),d.jsx("div",{className:"text-xs opacity-75",children:b.toLocaleDateString("pt-BR",{weekday:"short"})})]},b.toISOString())})})]}),i&&d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(Wn,{className:"w-5 h-5"}),d.jsx("span",{children:"Select Time"})]}),d.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:v.map((b,g)=>{const y=t.selectedTime===b.time;return d.jsx(Q.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2,delay:g*.03},onClick:()=>b.available&&f(b.time),disabled:!b.available,className:`p-3 rounded-lg text-sm font-medium transition-all duration-200 ${b.available?y?"bg-orange-400 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-orange-50 hover:text-orange-600":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:b.time},b.time)})}),v.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No times available for this date"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{type:"button",onClick:m,className:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Back"}),d.jsx("button",{onClick:p,disabled:!i||!t.selectedTime,className:"flex-1 bg-orange-400 text-white py-4 rounded-xl font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-orange-500 transition-colors",children:"Continue"})]})]})]})}function yL(){const{state:t,dispatch:e}=Li(),{register:n,handleSubmit:s,watch:r,formState:{errors:i}}=bu({defaultValues:{hasFleas:!1,hasTangledFur:!1,isAggressive:!1,tangledCharge:15,termsAccepted:!1}}),o=r("hasFleas"),a=r("hasTangledFur"),l=r("isAggressive");r("termsAccepted");const c=h=>{const f=h.hasFleas===!0?20:0,m=h.hasTangledFur===!0&&Number(h.tangledCharge)||0,p=t.selectedServices.find(y=>y.name.toLowerCase().includes("banho")),v=h.isAggressive===!0&&p?p.price*.5:0,g=t.selectedServices.reduce((y,x)=>y+x.price,0)+f+m+v;e({type:"SET_EXTRA_CHARGES",payload:{fleas:h.hasFleas===!0,tangled:h.hasTangledFur===!0,aggressive:h.isAggressive===!0,fleaCharge:f,tangledCharge:m,aggressiveCharge:v,totalPrice:g}}),e({type:"SET_TERMS_ACCEPTED",payload:h.termsAccepted}),e({type:"SET_STEP",payload:5})},u=()=>{e({type:"SET_STEP",payload:3})};return d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Final Information"}),d.jsx("p",{className:"text-gray-600",children:"Optional extra services and terms of use"})]}),d.jsxs("form",{onSubmit:s(c),className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Optional Extra Services"}),d.jsxs("p",{className:"text-sm text-blue-700",children:["Answer only if your pet needs special care.",d.jsx("strong",{children:' You can leave everything as "No" if not needed.'})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[d.jsx(cl,{className:"w-5 h-5 text-orange-500 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Does the pet have fleas?"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Additional fee of $20.00 if confirmed"})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("hasFleas"),type:"radio",value:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"Yes"})})]}),d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("hasFleas"),type:"radio",value:!1,defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"No"})})]})]}),o===!0&&d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center space-x-2 text-orange-700",children:[d.jsx(Yh,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Additional fee: $20.00"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[d.jsx(cl,{className:"w-5 h-5 text-orange-500 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Is the pet's fur tangled?"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Additional fee from $15.00"})]})]}),d.jsxs("div",{className:"flex space-x-4 mb-4",children:[d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("hasTangledFur"),type:"radio",value:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"Yes"})})]}),d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("hasTangledFur"),type:"radio",value:!1,defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"No"})})]})]}),a===!0&&d.jsxs(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Additional fee amount (minimum $15.00)"}),d.jsx("input",{...n("tangledCharge",{required:a===!0?"Amount is required":!1,min:{value:15,message:"Minimum value is $15.00"}}),type:"number",min:"15",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"15.00"}),i.tangledCharge&&d.jsx("p",{className:"text-red-500 text-sm",children:i.tangledCharge.message})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[d.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[d.jsx(cl,{className:"w-5 h-5 text-red-500 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Is the pet aggressive?"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Additional fee of 50% of bath service price"})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("isAggressive"),type:"radio",value:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"Yes"})})]}),d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{...n("isAggressive"),type:"radio",value:!1,defaultChecked:!0,className:"sr-only peer"}),d.jsx("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg hover:border-orange-400 transition-colors peer-checked:border-orange-400 peer-checked:bg-orange-50",children:d.jsx("span",{children:"No"})})]})]}),l===!0&&d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[d.jsx(Yh,{className:"w-4 h-4"}),d.jsxs("span",{className:"font-medium",children:["Additional fee: 50% of bath service",t.selectedServices.find(h=>h.name.toLowerCase().includes("banho"))&&` ($${(t.selectedServices.find(h=>h.name.toLowerCase().includes("banho")).price*.5).toFixed(2)})`]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-4 rounded-t-xl",children:d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold",children:[d.jsx(WE,{className:"w-5 h-5"}),d.jsx("span",{children:"Terms and Conditions of Use"})]})}),d.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(cl,{className:"w-5 h-5 text-yellow-600 mt-1"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"IMPORTANT NOTICE"}),d.jsxs("p",{className:"text-yellow-700",children:[d.jsx("strong",{children:"The stated booking value is approximate."})," Your pet will undergo evaluation by a professional upon arrival, where the final value will be confirmed."]})]})]})}),d.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:"1. Booking and Attendance"}),d.jsx("p",{children:"• Arrive 10 minutes before your scheduled time"}),d.jsx("p",{children:"• If you are more than 15 minutes late, the booking may be cancelled"}),d.jsx("p",{children:"• Cancellations must be made at least 2 hours in advance"}),d.jsx("h4",{className:"font-semibold text-gray-900 mt-4",children:"2. Pet Evaluation"}),d.jsx("p",{children:"• All pets will undergo preliminary evaluation before services begin"}),d.jsx("p",{children:"• Additional fees may apply depending on the animal's condition"}),d.jsx("p",{children:"• Final value will be informed after evaluation"}),d.jsx("h4",{className:"font-semibold text-gray-900 mt-4",children:"3. Responsibilities"}),d.jsx("p",{children:"• Customer is responsible for informing about pet health issues"}),d.jsx("p",{children:"• Aggressive pets will have additional safety fee"}),d.jsx("p",{children:"• We are not responsible for personal items left at the establishment"}),d.jsx("h4",{className:"font-semibold text-gray-900 mt-4",children:"4. Payment"}),d.jsx("p",{children:"• Payment must be made when picking up your pet"}),d.jsx("p",{children:"• We accept cash, digital payments and debit/credit cards"}),d.jsx("p",{children:"• Values may change according to technical evaluation"}),d.jsx("h4",{className:"font-semibold text-gray-900 mt-4",children:"5. Privacy Policy"}),d.jsx("p",{children:"• Your data will be used only for booking contact purposes"}),d.jsx("p",{children:"• We do not share information with third parties"}),d.jsx("p",{children:"• Pet photos may be taken for service records"})]})]}),d.jsxs("div",{className:"p-6 border-t",children:[d.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[d.jsx("input",{...n("termsAccepted",{required:"You must accept the terms to continue"}),type:"checkbox",className:"mt-1 rounded border-gray-300 text-orange-400 focus:ring-orange-400"}),d.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the terms and conditions of use of PetBooking. I have read and agree to the terms and conditions of use of PetBookin. I am aware that the final value may be changed after technical evaluation of my pet."})]}),i.termsAccepted&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:i.termsAccepted.message})]})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{type:"button",onClick:u,className:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Back"}),d.jsx("button",{type:"submit",className:"flex-1 bg-green-500 text-white py-4 rounded-xl font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-green-600 transition-colors",children:"Finalize Booking"})]})]})]})}function xL(t){const e=t.services.map(r=>r.name).join(", "),n=_u(t.date,t.time);let s="";return t.extraCharges.fleaCharge>0&&(s+=`
• Flea Fee: $${t.extraCharges.fleaCharge.toFixed(2)}`),t.extraCharges.tangledCharge>0&&(s+=`
• Tangled Fur Fee: $${t.extraCharges.tangledCharge.toFixed(2)}`),t.extraCharges.aggressiveCharge>0&&(s+=`
• Aggressive Pet Fee: $${t.extraCharges.aggressiveCharge.toFixed(2)}`),`Hello ${t.customer.name}! Your booking has been confirmed:

📅 Date and Time: ${n}
🐕 Pet: ${t.pet.name} (${t.pet.breed})
✨ Services: ${e}
💰 Total: $${t.totalPrice.toFixed(2)}${s}

⚠️ IMPORTANT: The stated value is approximate. Your pet will undergo evaluation upon arrival and the final value will be confirmed.

📍 Address: 123 Main Street, Pet City, PC 12345
📞 Contact: (12) 98174-6615
🕒 Hours: Monday to Saturday, 8 AM to 6 PM (Lunch: 12:30 PM - 1:30 PM)

Please arrive 10 minutes before your scheduled time.

We look forward to seeing you and your pet!

PetBookin
_Automated message from the booking system_`}function vL(t){const e=t.services.map(r=>r.name).join(", "),n=_u(t.date,t.time);let s="";return t.extraCharges.fleas&&(s+=`
⚠️ Pet com PULGAS`),t.extraCharges.tangled&&(s+=`
⚠️ Pet com PELOS EMBOLADOS`),t.extraCharges.aggressive&&(s+=`
⚠️ Pet BRAVO`),`🔔 NEW BOOKING - PetBooking

📅 Date and Time: ${n}

👤 CUSTOMER:
• Name: ${t.customer.name}
• Phone: ${t.customer.phone}
• CPF: ${t.customer.cpf}
• Email: ${t.customer.email||"Not provided"}

🐕 PET:
• Name: ${t.pet.name}
• Breed: ${t.pet.breed}
• Size: ${t.pet.size}

✨ SERVICES: ${e}

⚠️ NOTES:${s}

💰 TOTAL VALUE: $${t.totalPrice.toFixed(2)}

Status: Pending

Online Booking System`}function bL(t){const e=xL(t),n=t.customer.phone.replace(/\D/g,""),s=n.startsWith("55")?n:`55${n}`,r=encodeURIComponent(e),i=`https://wa.me/${s}?text=${r}`;window.open(i,"_blank")}function wL(t){const e=vL(t),n="5512981746615",s=encodeURIComponent(e),r=`https://wa.me/${n}?text=${s}`;window.open(r,"_blank")}function _L(t){bL(t),setTimeout(()=>{wL(t)},1e3)}function SL(){const{state:t,dispatch:e}=Li(),{addBooking:n}=Bs(),s=()=>{if(!t.customer||!t.pet||!t.selectedDate||!t.selectedTime)return;const i={id:Date.now().toString(),customer:t.customer,pet:t.pet,services:t.selectedServices,date:t.selectedDate,time:t.selectedTime,totalPrice:t.totalPrice,status:"pendente",createdAt:new Date,extraCharges:t.extraCharges,termsAccepted:t.termsAccepted};n(i),_L(i),e({type:"RESET_BOOKING"})},r=()=>{e({type:"SET_STEP",payload:4})};return!t.customer||!t.pet||!t.selectedDate||!t.selectedTime?null:d.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:d.jsx(v_,{className:"w-8 h-8 text-green-500"})}),d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Confirm Booking"}),d.jsx("p",{className:"text-gray-600",children:"Review the details before confirming"})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 text-white p-4",children:d.jsx("h3",{className:"text-lg font-semibold",children:"Booking Summary"})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:d.jsx(ut,{className:"w-5 h-5 text-orange-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-blue-900",children:"Date and Time"}),d.jsx("p",{className:"text-gray-600",children:_u(t.selectedDate,t.selectedTime)})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:d.jsx(Xn,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-blue-900",children:"Customer"}),d.jsx("p",{className:"text-gray-600",children:t.customer.name}),d.jsx("p",{className:"text-gray-500 text-sm",children:t.customer.phone}),d.jsxs("p",{className:"text-gray-500 text-sm",children:["ID: ",t.customer.cpf]})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:d.jsx(kr,{className:"w-5 h-5 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-blue-900",children:"Pet"}),d.jsxs("p",{className:"text-gray-600",children:[t.pet.name," (",t.pet.breed,")"]}),d.jsxs("p",{className:"text-gray-500 text-sm capitalize",children:["Size: ",t.pet.size]})]})]}),d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:d.jsx(C_,{className:"w-5 h-5 text-green-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-blue-900 mb-2",children:"Services"}),d.jsxs("div",{className:"space-y-2",children:[t.selectedServices.map(i=>d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:i.name}),d.jsxs("span",{className:"text-gray-900 font-medium",children:["$",i.price.toFixed(2)]})]},i.id)),t.extraCharges.fleaCharge>0&&d.jsxs("div",{className:"flex justify-between items-center text-orange-600",children:[d.jsx("span",{children:"Fee - Fleas"}),d.jsxs("span",{children:["$",t.extraCharges.fleaCharge.toFixed(2)]})]}),t.extraCharges.tangledCharge>0&&d.jsxs("div",{className:"flex justify-between items-center text-orange-600",children:[d.jsx("span",{children:"Fee - Tangled Fur"}),d.jsxs("span",{children:["$",t.extraCharges.tangledCharge.toFixed(2)]})]}),t.extraCharges.aggressiveCharge>0&&d.jsxs("div",{className:"flex justify-between items-center text-orange-600",children:[d.jsx("span",{children:"Fee - Aggressive Pet (50% bath)"}),d.jsxs("span",{children:["$",t.extraCharges.aggressiveCharge.toFixed(2)]})]}),d.jsxs("div",{className:"border-t pt-2 flex justify-between items-center",children:[d.jsx("span",{className:"font-semibold text-blue-900",children:"Total"}),d.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["$",t.totalPrice.toFixed(2)]})]})]})]})]})]})]}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(Bm,{className:"w-5 h-5 text-green-600 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-green-800",children:"WhatsApp Notifications"}),d.jsx("p",{className:"text-green-700 text-sm",children:"After confirming, you will receive a confirmation on WhatsApp and the pet grooming service will also be notified about your booking."})]})]})}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 text-gray-700 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-colors",children:"Back"}),d.jsx("button",{onClick:s,className:"flex-1 bg-green-500 text-white py-4 rounded-xl font-semibold hover:bg-green-600 transition-colors",children:"Confirm Booking"})]})]})}const kL=["Services","Details","Date/Time","Finalize","Confirm"];function jL(){const{state:t}=Li(),e=()=>{switch(t.currentStep){case 1:return d.jsx(Fy,{});case 2:return d.jsx(nR,{});case 3:return d.jsx(gL,{});case 4:return d.jsx(yL,{});case 5:return d.jsx(SL,{});default:return d.jsx(Fy,{})}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 w-full",children:[d.jsx(nN,{currentStep:t.currentStep,totalSteps:5,stepTitles:kL}),d.jsx("div",{className:"w-full px-4 py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto w-full",children:e()})})]})}function CL(t){const[e,n]=S.useState(!1);return S.useEffect(()=>{const s=window.matchMedia(t);s.matches!==e&&n(s.matches);const r=()=>n(s.matches);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e,t]),e}function TL({selectedDate:t,onDateChange:e,onDayClick:n,onBookingClick:s}){const{bookings:r,settings:i}=Bs(),[o,a]=S.useState(t),l=ji(o,{weekStartsOn:0}),c=mR(o,{weekStartsOn:0}),u=mS({start:l,end:c}),h=g=>r.filter(y=>Ci(y.date,g)),f=g=>{g.toISOString().split("T")[0];const x=h(g).filter(w=>w.status!=="cancelled").map(w=>w.time);return Su(i.workingHours.start,i.workingHours.end,i.serviceInterval,i.lunchBreak.start,i.lunchBreak.end,x,[])},m=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},p=()=>{const g=fL(o,1);a(g),e(g)},v=()=>{const g=fS(o,1);a(g),e(g)},b=()=>{const g=new Date;a(g),e(g)};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(b_,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center",children:[d.jsxs("h2",{className:"text-2xl font-bold text-blue-900",children:[$t(l,"MMM dd",{locale:_n})," - ",$t(c,"MMM dd, yyyy",{locale:_n})]}),d.jsx("p",{className:"text-gray-600",children:"Week View"})]}),d.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(w_,{className:"w-5 h-5"})})]}),d.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Today"})]}),d.jsxs("div",{className:"grid grid-cols-7 gap-1 bg-white rounded-xl shadow-lg overflow-hidden",children:[u.map((g,y)=>d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 text-center",children:[d.jsx("div",{className:"font-semibold text-sm",children:$t(g,"EEE",{locale:_n})}),d.jsx("div",{className:`text-lg font-bold mt-1 ${yS(g)?"bg-white/20 rounded-full w-8 h-8 flex items-center justify-center mx-auto":""}`,children:$t(g,"d")})]},g.toISOString())),u.map((g,y)=>{const x=h(g),w=f(g),_=w.filter(C=>C.available).length,j=w.length;return d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:y*.1},onClick:()=>n(g),className:`min-h-96 p-3 border-r border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Ci(g,t)?"bg-blue-50":"bg-white"}`,children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[d.jsxs("span",{children:[x.length," bookings"]}),d.jsxs("span",{children:[_,"/",j," free"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-purple-400 h-2 rounded-full transition-all duration-300",style:{width:`${j>0?(j-_)/j*100:0}%`}})})]}),d.jsxs("div",{className:"space-y-2",children:[x.slice(0,6).map(C=>d.jsxs("div",{onClick:T=>{T.stopPropagation(),s(C)},className:`text-xs p-2 rounded border cursor-pointer hover:shadow-sm transition-all ${m(C.status)}`,children:[d.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[d.jsx(Wn,{className:"w-3 h-3"}),d.jsx("span",{className:"font-medium",children:C.time})]}),d.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[d.jsx(Xn,{className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:C.customer.name})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(kr,{className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:C.pet.name})]})]},C.id)),x.length>6&&d.jsxs("div",{className:"text-xs text-gray-500 text-center py-1",children:["+",x.length-6," more"]}),x.length===0&&d.jsx("div",{className:"text-xs text-gray-400 text-center py-4",children:"No bookings"})]})]},g.toISOString())})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-6 p-4 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),[{status:"pending",label:"Pending"},{status:"confirmed",label:"Confirmed"},{status:"completed",label:"Completed"},{status:"cancelled",label:"Cancelled"}].map(({status:g,label:y})=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-3 h-3 rounded border ${m(g)}`}),d.jsx("span",{className:"text-sm text-gray-600",children:y})]},g))]})]})}function PL({selectedDate:t,onDateChange:e,onBookingClick:n,onCreateBooking:s}){const{bookings:r,settings:i,blockedSlots:o,blockTimeSlot:a,unblockTimeSlot:l}=Bs(),[c]=S.useState(()=>{const y=[],x=new Date;for(let w=0;w<14;w++)y.push(ki(x,w));return y}),u=y=>r.filter(x=>Ci(x.date,y)),h=y=>{const x=y.toISOString().split("T")[0],_=u(y).filter(C=>C.status!=="cancelado").map(C=>C.time),j=o.filter(C=>C.startsWith(x)).map(C=>C.split(" ")[1]);return Su(i.workingHours.start,i.workingHours.end,i.serviceInterval,i.lunchBreak.start,i.lunchBreak.end,_,j)},f=y=>u(t).find(w=>w.time===y),m=y=>{switch(y){case"pendente":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmado":return"bg-green-100 text-green-800 border-green-200";case"concluido":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelado":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},p=y=>{const x=f(y);if(x)n(x);else if(s){const _=h(t).find(j=>j.time===y);if(_&&_.available)s(t,y);else{const C=`${t.toISOString().split("T")[0]} ${y}`;o.includes(C)?l(C):a(C)}}else{const _=`${t.toISOString().split("T")[0]} ${y}`;o.includes(_)?l(_):a(_)}},v=y=>{const w=`${t.toISOString().split("T")[0]} ${y}`;return o.includes(w)},b=h(t),g=u(t);return d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6 overflow-x-auto",children:d.jsx("div",{className:"flex space-x-3 pb-2",style:{minWidth:"max-content"},children:c.map(y=>d.jsxs("button",{onClick:()=>e(y),className:`flex-shrink-0 px-4 py-3 rounded-xl text-center transition-all duration-200 ${Ci(y,t)?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":yS(y)?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:[d.jsx("div",{className:"text-xs font-medium",children:$t(y,"EEE",{locale:_n})}),d.jsx("div",{className:"text-lg font-bold",children:$t(y,"d")}),d.jsx("div",{className:"text-xs opacity-75",children:$t(y,"MMM",{locale:_n})})]},y.toISOString()))})}),d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e(hL(t,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(b_,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:$t(t,"MMMM dd",{locale:_n})}),d.jsx("p",{className:"text-gray-600",children:$t(t,"EEEE",{locale:_n})})]}),d.jsx("button",{onClick:()=>e(ki(t,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(w_,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>e(new Date),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Today"}),d.jsx("input",{type:"date",value:t.toISOString().split("T")[0],onChange:y=>e(new Date(y.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-blue-500 p-2 rounded-lg",children:d.jsx(ut,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-bold text-blue-900",children:g.length}),d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Bookings"})]})]})}),d.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-yellow-500 p-2 rounded-lg",children:d.jsx(Wn,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-bold text-yellow-900",children:g.filter(y=>y.status==="pending").length}),d.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Pending"})]})]})}),d.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-green-500 p-2 rounded-lg",children:d.jsx(Xn,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-bold text-green-900",children:g.filter(y=>y.status==="confirmed").length}),d.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Confirmed"})]})]})}),d.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-gray-500 p-2 rounded-lg",children:d.jsx(kr,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-bold text-gray-900",children:g.filter(y=>y.status==="completed").length}),d.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Completed"})]})]})})]}),d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-lg",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 text-white p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold",children:"Daily Schedule"}),d.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Click on time slots to edit bookings or block times"})]}),d.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:d.jsx(ut,{className:"w-6 h-6"})})]})}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"grid gap-3",children:b.map((y,x)=>{const w=f(y.time),_=v(y.time),j=!y.available&&!w&&!_;return d.jsx(Q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:x*.02},onClick:()=>!j&&p(y.time),className:`p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer ${w?`${m(w.status)} hover:shadow-lg transform hover:scale-[1.02]`:_?"bg-gradient-to-r from-red-50 to-red-100 border-red-300 text-red-700 hover:from-red-100 hover:to-red-200 shadow-sm":j?"bg-gradient-to-r from-gray-100 to-gray-200 border-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200 text-gray-600 hover:from-blue-50 hover:to-blue-100 hover:border-blue-300 hover:shadow-md transform hover:scale-[1.02]"}`,children:d.jsxs("div",{className:"flex items-center justify-between min-h-[60px]",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`p-2 rounded-lg ${w?"bg-white/20":_?"bg-red-200":j?"bg-gray-300":"bg-blue-100"}`,children:d.jsx(Wn,{className:"w-4 h-4"})}),d.jsx("span",{className:"font-bold text-lg",children:y.time})]}),w&&d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-1 md:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-white/30 p-1 rounded",children:d.jsx(Xn,{className:"w-3 h-3"})}),d.jsx("span",{className:"font-semibold text-sm",children:w.customer.name})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-white/30 p-1 rounded",children:d.jsx(kr,{className:"w-3 h-3"})}),d.jsx("span",{className:"font-medium text-sm",children:w.pet.name})]})]}),_&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(x_,{className:"w-5 h-5"}),d.jsx("span",{className:"font-semibold",children:"Blocked Time"})]}),j&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"bg-gray-400 p-1 rounded",children:d.jsx(Wn,{className:"w-3 h-3 text-white"})}),d.jsx("span",{className:"font-semibold",children:"Lunch Time"})]}),!w&&!_&&!j&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[d.jsx(YE,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Available - Click to book or block"})]})]}),w&&d.jsxs("div",{className:"text-right bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[d.jsx("div",{className:"text-xs font-medium mb-1 opacity-80",children:w.services.map(C=>C.name).join(", ")}),d.jsxs("div",{className:"font-bold text-lg",children:["$",w.totalPrice.toFixed(2)]})]})]})},y.time)})})})]}),d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200",children:[d.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[d.jsx("div",{className:"bg-gray-500 p-2 rounded-lg",children:d.jsx(ut,{className:"w-4 h-4 text-white"})}),d.jsx("span",{children:"Status Legend"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-yellow-100 to-yellow-200 border-2 border-yellow-300 rounded-lg shadow-sm"}),d.jsx("span",{className:"font-medium text-gray-700",children:"Pending"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-green-100 to-green-200 border-2 border-green-300 rounded-lg shadow-sm"}),d.jsx("span",{className:"font-medium text-gray-700",children:"Confirmed"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-gray-100 to-gray-200 border-2 border-gray-300 rounded-lg shadow-sm"}),d.jsx("span",{className:"font-medium text-gray-700",children:"Completed"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-red-100 to-red-200 border-2 border-red-300 rounded-lg shadow-sm"}),d.jsx("span",{className:"font-medium text-gray-700",children:"Cancelled/Blocked"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg shadow-sm"}),d.jsx("span",{className:"font-medium text-gray-700",children:"Available"})]})]}),d.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"How to use:"}),d.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[d.jsx("li",{children:"• Click on available slots (blue) to create new bookings"}),d.jsx("li",{children:"• Click on existing bookings to edit them"}),d.jsx("li",{children:"• Click on blocked slots (red) to unblock them"}),d.jsx("li",{children:"• Use the date strip above to quickly navigate between days"})]})]})]})]})}function xf({booking:t,mode:e,initialData:n,isOpen:s,onClose:r}){const{updateBooking:i,deleteBooking:o,addBooking:a,settings:l,bookings:c}=Bs(),[u,h]=S.useState(null),[f,m]=S.useState([]),{register:p,handleSubmit:v,watch:b,setValue:g,reset:y,formState:{errors:x}}=bu(),w=b("date"),_=b("services")||[],j=b("hasFleas"),C=b("hasTangledFur"),T=b("isAggressive");S.useEffect(()=>{s&&(e==="edit"&&t?(y({customerName:t.customer.name,customerPhone:t.customer.phone,customerEmail:t.customer.email||"",customerCpf:t.customer.cpf,petName:t.pet.name,petBreed:t.pet.breed,petSize:t.pet.size,date:t.date.toISOString().split("T")[0],time:t.time,services:t.services.map(O=>O.id),hasFleas:t.extraCharges.fleas,hasTangledFur:t.extraCharges.tangled,isAggressive:t.extraCharges.aggressive,tangledCharge:t.extraCharges.tangledCharge,status:t.status}),h(t.date)):e==="create"&&n?(y({customerName:"",customerPhone:"",customerEmail:"",customerCpf:"",petName:"",petBreed:"",petSize:"medium",date:n.date.toISOString().split("T")[0],time:n.time,services:[],hasFleas:!1,hasTangledFur:!1,isAggressive:!1,tangledCharge:15,status:"pending"}),h(n.date)):y({customerName:"",customerPhone:"",customerEmail:"",customerCpf:"",petName:"",petBreed:"",petSize:"medium",date:new Date().toISOString().split("T")[0],time:"",services:[],hasFleas:!1,hasTangledFur:!1,isAggressive:!1,tangledCharge:15,status:"pending"}))},[e,t,n,s,y]),S.useEffect(()=>{if(w){const O=new Date(w);h(O);const K=c.filter(q=>q.id!==(t==null?void 0:t.id)&&q.date.toISOString().split("T")[0]===w&&q.status!=="cancelado").map(q=>q.time),H=Su(l.workingHours.start,l.workingHours.end,l.serviceInterval,l.lunchBreak.start,l.lunchBreak.end,K,[]);m(H)}},[w,c,t==null?void 0:t.id,l]);const N=()=>{const O=ql.filter(H=>_.includes(H.id));let K=O.reduce((H,q)=>H+q.price,0);if(j&&(K+=20),C&&(K+=Number(b("tangledCharge"))||15),T){const H=O.find(q=>q.name.toLowerCase().includes("banho"));H&&(K+=H.price*.5)}return K},A=O=>{const K=ql.filter(z=>O.services.includes(z.id)),H=O.hasFleas?20:0,q=O.hasTangledFur?Number(O.tangledCharge)||15:0,Y=K.find(z=>z.name.toLowerCase().includes("banho")),D=O.isAggressive&&Y?Y.price*.5:0,V={customer:{name:O.customerName,phone:O.customerPhone,email:O.customerEmail,cpf:O.customerCpf},pet:{name:O.petName,breed:O.petBreed,size:O.petSize},date:new Date(O.date),time:O.time,services:K,totalPrice:N(),status:O.status,extraCharges:{fleas:O.hasFleas,tangled:O.hasTangledFur,aggressive:O.isAggressive,fleaCharge:H,tangledCharge:q,aggressiveCharge:D},termsAccepted:!0};if(e==="edit"&&t)i(t.id,V);else if(e==="create"){const z={...V,id:Date.now().toString(),createdAt:new Date};a(z)}r()},F=()=>{t&&window.confirm("Are you sure you want to delete this booking?")&&(o(t.id),r())},I=()=>{t&&(i(t.id,{status:"cancelled"}),r())};return s?(xS(l.workingDays,60),d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold",children:e==="edit"?"Edit Booking":"Create New Booking"}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:d.jsx(k0,{className:"w-6 h-6"})})]})}),d.jsxs("form",{onSubmit:v(A),className:"p-6 space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsxs("select",{...p("status",{required:"Status is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"confirmed",children:"Confirmed"}),d.jsx("option",{value:"completed",children:"Completed"}),d.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(Xn,{className:"w-5 h-5"}),d.jsx("span",{children:"Customer Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),d.jsx("input",{...p("customerName",{required:"Name is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.customerName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.customerName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),d.jsx("input",{...p("customerPhone",{required:"Phone is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.customerPhone&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.customerPhone.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{...p("customerEmail"),type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Number"}),d.jsx("input",{...p("customerCpf",{required:"ID Number is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.customerCpf&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.customerCpf.message})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(kr,{className:"w-5 h-5"}),d.jsx("span",{children:"Pet Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Name"}),d.jsx("input",{...p("petName",{required:"Pet name is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.petName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.petName.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Breed"}),d.jsx("input",{...p("petBreed",{required:"Breed is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.petBreed&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.petBreed.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),d.jsxs("select",{...p("petSize",{required:"Size is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent",children:[d.jsx("option",{value:"small",children:"Small"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"large",children:"Large"})]}),x.petSize&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.petSize.message})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(ut,{className:"w-5 h-5"}),d.jsx("span",{children:"Date and Time"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),d.jsx("input",{...p("date",{required:"Date is required"}),type:"date",min:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),x.date&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.date.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),d.jsxs("select",{...p("time",{required:"Time is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Select a time"}),f.map(O=>d.jsxs("option",{value:O.time,disabled:!O.available&&O.time!==t.time,children:[O.time," ",!O.available&&O.time!==t.time?"(Occupied)":""]},O.time))]}),x.time&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.time.message})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(C_,{className:"w-5 h-5"}),d.jsx("span",{children:"Services"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ql.map(O=>d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[d.jsx("input",{...p("services"),type:"checkbox",value:O.id,className:"rounded border-gray-300 text-blue-400 focus:ring-blue-400"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium",children:O.name}),d.jsxs("span",{className:"text-gray-500 ml-2",children:["$",O.price.toFixed(2)]})]})]},O.id))})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Extra Charges"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[d.jsx("input",{...p("hasFleas"),type:"checkbox",className:"rounded border-gray-300 text-blue-400 focus:ring-blue-400"}),d.jsx("span",{children:"Fleas (+$20.00)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-2",children:[d.jsx("input",{...p("hasTangledFur"),type:"checkbox",className:"rounded border-gray-300 text-blue-400 focus:ring-blue-400"}),d.jsx("span",{children:"Tangled Fur"})]}),C&&d.jsx("input",{...p("tangledCharge",{min:15}),type:"number",min:"15",step:"0.01",placeholder:"15.00",className:"ml-6 w-32 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]}),d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[d.jsx("input",{...p("isAggressive"),type:"checkbox",className:"rounded border-gray-300 text-blue-400 focus:ring-blue-400"}),d.jsx("span",{children:"Aggressive Pet (+50% of bath)"})]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 border border-orange-200 rounded-xl p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-lg font-semibold text-blue-900",children:"Total:"}),d.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",N().toFixed(2)]})]})}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs("button",{type:"submit",className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:[d.jsx(j_,{className:"w-5 h-5"}),d.jsx("span",{children:e==="edit"?"Save Changes":"Create Booking"})]}),e==="edit"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{type:"button",onClick:I,className:"flex items-center space-x-2 bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors",children:[d.jsx(x_,{className:"w-5 h-5"}),d.jsx("span",{children:"Cancel Booking"})]}),d.jsxs("button",{type:"button",onClick:F,className:"flex items-center space-x-2 bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors",children:[d.jsx(QE,{className:"w-5 h-5"}),d.jsx("span",{children:"Delete"})]})]}),d.jsxs("button",{type:"button",onClick:r,className:"flex items-center space-x-2 bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors",children:[d.jsx(k0,{className:"w-5 h-5"}),d.jsx("span",{children:"Close"})]})]})]})]})})):null}function EL(){const t=CL("(min-width: 1024px)"),[e,n]=S.useState("week"),[s,r]=S.useState(new Date),[i,o]=S.useState(null),[a,l]=S.useState("edit"),[c,u]=S.useState(null),[h,f]=S.useState(!1),m=g=>{r(g),n("day")},p=g=>{o(g),l("edit"),u(null),f(!0)},v=(g,y)=>{o(null),l("create"),u({date:g,time:y}),f(!0)},b=()=>{t&&n("week")};return Fe.useEffect(()=>{t?e==="day"&&n("week"):n("day")},[t]),e==="day"||!t?d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[d.jsx(ut,{className:"w-4 h-4"}),d.jsx("span",{children:"Back to Week View"})]}),d.jsx("h2",{className:"text-xl font-semibold text-blue-900",children:"Daily View"})]})}),d.jsx(PL,{selectedDate:s,onDateChange:r,onBookingClick:p,onCreateBooking:v}),d.jsx(xf,{booking:i,mode:a,initialData:c,isOpen:h,onClose:()=>{f(!1),o(null),u(null)}})]}):d.jsxs(d.Fragment,{children:[d.jsx(TL,{selectedDate:s,onDateChange:r,onDayClick:m,onBookingClick:p}),d.jsx(xf,{booking:i,mode:a,initialData:c,isOpen:h,onClose:()=>{f(!1),o(null),u(null)}}),d.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(la,{className:"w-5 h-5 text-blue-600 mt-1"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"How to use:"}),d.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[d.jsx("li",{children:"• Click on any day in the week view to see detailed schedule"}),d.jsx("li",{children:"• Click on a booking to edit it"}),d.jsx("li",{children:"• In the daily view, click on empty slots to create bookings or block them"})]})]})]})})]})}function NL({bookings:t,statusFilter:e,onStatusFilterChange:n}){const[s,r]=Fe.useState(null),[i,o]=Fe.useState(!1),{updateBooking:a}=Bs(),l=h=>{switch(h){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},c=(h,f)=>{a(h,{status:f})},u=h=>{r(h),o(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-blue-900 mb-4 sm:mb-0",children:["Booking List (",t.length,")"]}),d.jsxs("select",{value:e,onChange:h=>n(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",children:[d.jsx("option",{value:"all",children:"All Statuses"}),d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"confirmed",children:"Confirmed"}),d.jsx("option",{value:"completed",children:"Completed"}),d.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-4",children:[t.map((h,f)=>d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:f*.1},className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-6 space-y-2 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ut,{className:"w-4 h-4 text-gray-500"}),d.jsx("span",{className:"font-medium",children:_u(h.date,h.time)})]}),d.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${l(h.status)}`,children:h.status==="pending"?"Pending":h.status==="confirmed"?"Confirmed":h.status==="completed"?"Completed":h.status==="cancelled"?"Cancelled":h.status})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(Xn,{className:"w-5 h-5 text-blue-600 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:h.customer.name}),d.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[d.jsx(Bm,{className:"w-3 h-3"}),d.jsx("span",{children:h.customer.phone})]})]})]}),d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(kr,{className:"w-5 h-5 text-purple-600 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:h.pet.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[h.pet.breed," - ",h.pet.size==="pequeno"?"Small":h.pet.size==="médio"?"Medium":h.pet.size==="grande"?"Large":h.pet.size]})]})]})]}),d.jsx("div",{className:"border-t pt-4",children:d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Services:"}),d.jsx("p",{className:"font-medium",children:h.services.map(m=>m.name).join(", ")})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total:"}),d.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["$",h.totalPrice.toFixed(2)]})]})]})})]}),d.jsxs("div",{className:"flex flex-col space-y-2 mt-4 lg:mt-0 lg:ml-6",children:[d.jsxs("select",{value:h.status,onChange:m=>c(h.id,m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent text-sm",children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"confirmed",children:"Confirmed"}),d.jsx("option",{value:"completed",children:"Completed"}),d.jsx("option",{value:"cancelled",children:"Cancelled"})]}),d.jsx("div",{className:"flex space-x-2",children:d.jsxs("button",{onClick:()=>u(h),className:"flex items-center space-x-1 px-3 py-1 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg transition-colors",children:[d.jsx(XE,{className:"w-3 h-3"}),d.jsx("span",{children:"Edit"})]})})]})]})},h.id)),t.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),d.jsx("p",{className:"text-gray-500",children:e==="all"?"No bookings registered yet.":`No bookings with status "${e==="pending"?"Pending":e==="confirmed"?"Confirmed":e==="completed"?"Completed":e==="cancelled"?"Cancelled":e}".`})]})]})]}),d.jsx(xf,{booking:s,isOpen:i,onClose:()=>{o(!1),r(null)}})]})}function AL(){const{settings:t,updateSettings:e}=Bs(),{register:n,handleSubmit:s,formState:{errors:r}}=bu({defaultValues:{startTime:t.workingHours.start,endTime:t.workingHours.end,serviceInterval:t.serviceInterval,workingDays:t.workingDays.map(String)}}),i=a=>{e({workingHours:{start:a.startTime,end:a.endTime},serviceInterval:a.serviceInterval,workingDays:a.workingDays.map(Number)})},o=[{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}];return d.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-2",children:"Settings"}),d.jsx("p",{className:"text-gray-600",children:"Define working hours and general settings"})]}),d.jsxs("form",{onSubmit:s(i),className:"space-y-6",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(Wn,{className:"w-5 h-5"}),d.jsx("span",{children:"Working Hours"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),d.jsx("input",{...n("startTime",{required:"Opening time is required"}),type:"time",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent"}),r.startTime&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.startTime.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),d.jsx("input",{...n("endTime",{required:"Closing time is required"}),type:"time",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent"}),r.endTime&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.endTime.message})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Interval (minutes)"}),d.jsxs("select",{...n("serviceInterval",{required:"Interval is required"}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",children:[d.jsx("option",{value:"15",children:"15 minutes"}),d.jsx("option",{value:"30",children:"30 minutes"}),d.jsx("option",{value:"45",children:"45 minutes"}),d.jsx("option",{value:"60",children:"60 minutes"})]}),r.serviceInterval&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.serviceInterval.message})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lunch Start"}),d.jsx("input",{value:t.lunchBreak.start,onChange:a=>e({lunchBreak:{...t.lunchBreak,start:a.target.value}}),type:"time",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lunch End"}),d.jsx("input",{value:t.lunchBreak.end,onChange:a=>e({lunchBreak:{...t.lunchBreak,end:a.target.value}}),type:"time",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent"})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[d.jsxs("h3",{className:"flex items-center space-x-2 text-lg font-semibold text-blue-900 mb-4",children:[d.jsx(ut,{className:"w-5 h-5"}),d.jsx("span",{children:"Working Days"})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:o.map(a=>d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{...n("workingDays"),type:"checkbox",value:a.value,className:"rounded border-gray-300 text-orange-400 focus:ring-orange-400"}),d.jsx("span",{className:"text-sm text-gray-700",children:a.label})]},a.value))})]}),d.jsxs("button",{type:"submit",className:"flex items-center space-x-2 bg-orange-400 text-white px-6 py-3 rounded-lg hover:bg-orange-500 transition-colors",children:[d.jsx(j_,{className:"w-5 h-5"}),d.jsx("span",{children:"Save Settings"})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fa(t){return t+.5|0}const vs=(t,e,n)=>Math.max(Math.min(t,n),e);function go(t){return vs(Fa(t*2.55),0,255)}function Es(t){return vs(Fa(t*255),0,255)}function Bn(t){return vs(Fa(t/2.55)/100,0,1)}function sx(t){return vs(Fa(t*100),0,100)}const Lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vf=[..."0123456789ABCDEF"],ML=t=>vf[t&15],OL=t=>vf[(t&240)>>4]+vf[t&15],fl=t=>(t&240)>>4===(t&15),DL=t=>fl(t.r)&&fl(t.g)&&fl(t.b)&&fl(t.a);function RL(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Lt[t[1]]*17,g:255&Lt[t[2]]*17,b:255&Lt[t[3]]*17,a:e===5?Lt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Lt[t[1]]<<4|Lt[t[2]],g:Lt[t[3]]<<4|Lt[t[4]],b:Lt[t[5]]<<4|Lt[t[6]],a:e===9?Lt[t[7]]<<4|Lt[t[8]]:255})),n}const LL=(t,e)=>t<255?e(t):"";function IL(t){var e=DL(t)?ML:OL;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LL(t.a,e):void 0}const FL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vS(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function BL(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function $L(t,e,n){const s=vS(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function VL(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function kp(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=VL(n,s,r,u,i),l=l*60+.5),[l|0,c||0,a]}function jp(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Es)}function Cp(t,e,n){return jp(vS,t,e,n)}function zL(t,e,n){return jp($L,t,e,n)}function UL(t,e,n){return jp(BL,t,e,n)}function bS(t){return(t%360+360)%360}function WL(t){const e=FL.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?go(+e[5]):Es(+e[5]));const r=bS(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=zL(r,i,o):e[1]==="hsv"?s=UL(r,i,o):s=Cp(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function HL(t,e){var n=kp(t);n[0]=bS(n[0]+e),n=Cp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function qL(t){if(!t)return;const e=kp(t),n=e[0],s=sx(e[1]),r=sx(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Bn(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const rx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ix={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KL(){const t={},e=Object.keys(ix),n=Object.keys(rx);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,rx[i]);i=parseInt(ix[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let ml;function YL(t){ml||(ml=KL(),ml.transparent=[0,0,0,0]);const e=ml[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const GL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XL(t){const e=GL.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?go(o):vs(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?go(s):vs(s,0,255)),r=255&(e[4]?go(r):vs(r,0,255)),i=255&(e[6]?go(i):vs(i,0,255)),{r:s,g:r,b:i,a:n}}}function QL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Nd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JL(t,e,n){const s=Fr(Bn(t.r)),r=Fr(Bn(t.g)),i=Fr(Bn(t.b));return{r:Es(Nd(s+n*(Fr(Bn(e.r))-s))),g:Es(Nd(r+n*(Fr(Bn(e.g))-r))),b:Es(Nd(i+n*(Fr(Bn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function pl(t,e,n){if(t){let s=kp(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Cp(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function wS(t,e){return t&&Object.assign(e||{},t)}function ox(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Es(t[3]))):(e=wS(t,{r:0,g:0,b:0,a:1}),e.a=Es(e.a)),e}function ZL(t){return t.charAt(0)==="r"?XL(t):WL(t)}class ga{constructor(e){if(e instanceof ga)return e;const n=typeof e;let s;n==="object"?s=ox(e):n==="string"&&(s=RL(e)||YL(e)||ZL(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=wS(this._rgb);return e&&(e.a=Bn(e.a)),e}set rgb(e){this._rgb=ox(e)}rgbString(){return this._valid?QL(this._rgb):void 0}hexString(){return this._valid?IL(this._rgb):void 0}hslString(){return this._valid?qL(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,s.r=255&c*s.r+i*r.r+.5,s.g=255&c*s.g+i*r.g+.5,s.b=255&c*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=JL(this._rgb,e._rgb,n)),this}clone(){return new ga(this.rgb)}alpha(e){return this._rgb.a=Es(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Fa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pl(this._rgb,2,e),this}darken(e){return pl(this._rgb,2,-e),this}saturate(e){return pl(this._rgb,1,e),this}desaturate(e){return pl(this._rgb,1,-e),this}rotate(e){return HL(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Mn(){}const eI=(()=>{let t=0;return()=>t++})();function oe(t){return t==null}function $e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function mn(t,e){return Gt(t)?t:e}function te(t,e){return typeof t>"u"?e:t}const tI=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ge(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ce(t,e,n,s){let r,i,o;if($e(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(re(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function Bc(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function $c(t){if($e(t))return t.map($c);if(re(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=$c(t[n[r]]);return e}return t}function _S(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nI(t,e,n,s){if(!_S(t))return;const r=e[t],i=n[t];re(r)&&re(i)?ya(r,i,s):e[t]=$c(i)}function ya(t,e,n){const s=$e(e)?e:[e],r=s.length;if(!re(t))return t;n=n||{};const i=n.merger||nI;let o;for(let a=0;a<r;++a){if(o=s[a],!re(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function Bo(t,e){return ya(t,e,{merger:sI})}function sI(t,e,n){if(!_S(t))return;const s=e[t],r=n[t];re(s)&&re(r)?Bo(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=$c(r))}const ax={"":t=>t,x:t=>t.x,y:t=>t.y};function rI(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function iI(t){const e=rI(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ti(t,e){return(ax[e]||(ax[e]=iI(e)))(t)}function Tp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xa=t=>typeof t<"u",Ds=t=>typeof t=="function",lx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function oI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const He=Math.PI,Pn=2*He,aI=Pn+He,Vc=Number.POSITIVE_INFINITY,lI=He/180,an=He/2,Ks=He/4,cx=He*2/3,bf=Math.log10,En=Math.sign;function $o(t,e,n){return Math.abs(t-e)<n}function ux(t){const e=Math.round(t);t=$o(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(bf(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function cI(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function uI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function va(t){return!uI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function dI(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function hI(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function dr(t){return t*(He/180)}function fI(t){return t*(180/He)}function dx(t){if(!Gt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function mI(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*He&&(i+=Pn),{angle:i,distance:r}}function wf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pI(t,e){return(t-e+aI)%Pn-He}function cs(t){return(t%Pn+Pn)%Pn}function SS(t,e,n,s){const r=cs(t),i=cs(e),o=cs(n),a=cs(i-r),l=cs(o-r),c=cs(r-i),u=cs(r-o);return r===i||r===o||s&&i===o||a>l&&c<u}function Pt(t,e,n){return Math.max(e,Math.min(n,t))}function gI(t){return Pt(t,-32768,32767)}function hr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Pp(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const fr=(t,e,n,s)=>Pp(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),yI=(t,e,n)=>Pp(t,n,s=>t[s][e]>=n);function xI(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const kS=["push","pop","shift","splice","unshift"];function vI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kS.forEach(n=>{const s="_onData"+Tp(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function hx(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(kS.forEach(i=>{delete t[i]}),delete t._chartjs)}function jS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const CS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function TS(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,CS.call(window,()=>{s=!1,t.apply(e,n)}))}}function bI(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Ep=t=>t==="start"?"left":t==="end"?"right":"center",et=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,wI=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function _I(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:m,maxDefined:p}=o.getUserBounds();if(m){if(r=Math.min(fr(l,u,h).lo,n?s:fr(e,u,o.getPixelForValue(h)).lo),c){const v=l.slice(0,r+1).reverse().findIndex(b=>!oe(b[a.axis]));r-=Math.max(0,v)}r=Pt(r,0,s-1)}if(p){let v=Math.max(fr(l,o.axis,f,!0).hi+1,n?0:fr(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(v-1).findIndex(g=>!oe(g[a.axis]));v+=Math.max(0,b)}i=Pt(v,r,s)-r}else i=s-r}return{start:r,count:i}}function SI(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const gl=t=>t===0||t===1,fx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pn/n)),mx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pn/n)+1,Vo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*an)+1,easeOutSine:t=>Math.sin(t*an),easeInOutSine:t=>-.5*(Math.cos(He*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>gl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>gl(t)?t:fx(t,.075,.3),easeOutElastic:t=>gl(t)?t:mx(t,.075,.3),easeInOutElastic(t){return gl(t)?t:t<.5?.5*fx(t*2,.1125,.45):.5+.5*mx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vo.easeInBounce(t*2)*.5:Vo.easeOutBounce(t*2-1)*.5+.5};function Np(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function px(t){return Np(t)?t:new ga(t)}function Ad(t){return Np(t)?t:new ga(t).saturate(.5).darken(.1).hexString()}const kI=["x","y","borderWidth","radius","tension"],jI=["color","borderColor","backgroundColor"];function CI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:jI},numbers:{type:"number",properties:kI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gx=new Map;function PI(t,e){e=e||{};const n=t+JSON.stringify(e);let s=gx.get(n);return s||(s=new Intl.NumberFormat(t,e),gx.set(n,s)),s}function PS(t,e,n){return PI(e,n).format(t)}const ES={values(t){return $e(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=EI(t,n)}const o=bf(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),PS(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(bf(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?ES.numeric.call(this,t,e,n):""}};function EI(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var NS={formatters:ES};function NI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:NS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jr=Object.create(null),_f=Object.create(null);function zo(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Md(t,e,n){return typeof e=="string"?ya(zo(t,e),n):ya(zo(t,""),e)}class AI{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Ad(r.backgroundColor),this.hoverBorderColor=(s,r)=>Ad(r.borderColor),this.hoverColor=(s,r)=>Ad(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Md(this,e,n)}get(e){return zo(this,e)}describe(e,n){return Md(_f,e,n)}override(e,n){return Md(jr,e,n)}route(e,n,s,r){const i=zo(this,e),o=zo(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return re(l)?Object.assign({},c,l):te(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ne=new AI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[CI,TI,NI]);function MI(t){return!t||oe(t.size)||oe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function yx(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Ys(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function xx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sf(t,e,n,s){AS(t,e,n,s,null)}function AS(t,e,n,s,r){let i,o,a,l,c,u,h,f;const m=e.pointStyle,p=e.rotation,v=e.radius;let b=(p||0)*lI;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,v,0,0,Pn):t.arc(n,s,v,0,Pn),t.closePath();break;case"triangle":u=r?r/2:v,t.moveTo(n+Math.sin(b)*u,s-Math.cos(b)*v),b+=cx,t.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*v),b+=cx,t.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(b+Ks)*l,h=Math.cos(b+Ks)*(r?r/2-c:l),a=Math.sin(b+Ks)*l,f=Math.sin(b+Ks)*(r?r/2-c:l),t.arc(n-h,s-a,c,b-He,b-an),t.arc(n+f,s-o,c,b-an,b),t.arc(n+h,s+a,c,b,b+an),t.arc(n-f,s+o,c,b+an,b+He),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,u=r?r/2:l,t.rect(n-u,s-l,2*u,2*l);break}b+=Ks;case"rectRot":h=Math.cos(b)*(r?r/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":b+=Ks;case"cross":h=Math.cos(b)*(r?r/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(b)*(r?r/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),b+=Ks,h=Math.cos(b)*(r?r/2:v),o=Math.cos(b)*v,a=Math.sin(b)*v,f=Math.sin(b)*(r?r/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(b)*v,a=Math.sin(b)*v,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(b)*(r?r/2:v),s+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ba(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ap(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Mp(t){t.restore()}function OI(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function DI(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function RI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),oe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LI(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function II(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wa(t,e,n,s,r,i={}){const o=$e(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,RI(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&II(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),oe(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,s,i.maxWidth)),t.fillText(c,n,s,i.maxWidth),LI(t,n,s,c,i),s+=Number(r.lineHeight);t.restore()}function zc(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*He,He,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,He,an,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,an,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-an,!0),t.lineTo(n+o.topLeft,s)}const FI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function $I(t,e){const n=(""+t).match(FI);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const VI=t=>+t||0;function MS(t,e){const n={},s=re(e),r=s?Object.keys(e):e,i=re(t)?s?o=>te(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=VI(i(o));return n}function OS(t){return MS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function di(t){return MS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Xt(t){const e=OS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function st(t,e){t=t||{},e=e||Ne.font;let n=te(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=te(t.style,e.style);s&&!(""+s).match(BI)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:te(t.family,e.family),lineHeight:$I(te(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:te(t.weight,e.weight),string:""};return r.string=MI(r),r}function yl(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function zI(t,e,n){const{min:s,max:r}=t,i=tI(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Er(t,e){return Object.assign(Object.create(t),e)}function Op(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=IS("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>Op([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return RS(a,l,()=>XI(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return bx(a).includes(l)},ownKeys(a){return bx(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Pi(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:DS(t,s),setContext:i=>Pi(t,i,n,s),override:i=>Pi(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return RS(i,o,()=>WI(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function DS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Ds(n)?n:()=>n,isIndexable:Ds(s)?s:()=>s}}const UI=(t,e)=>t?t+Tp(e):e,Dp=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function WI(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return Ds(a)&&o.isScriptable(e)&&(a=HI(e,a,t,n)),$e(a)&&a.length&&(a=qI(e,a,t,o.isIndexable)),Dp(e,a)&&(a=Pi(a,r,i&&i[e],o)),a}function HI(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),Dp(t,l)&&(l=Rp(r._scopes,r,t,l)),l}function qI(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(re(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Rp(c,r,t,u);e.push(Pi(h,i,o&&o[t],a))}}return e}function LS(t,e,n){return Ds(t)?t(e,n):t}const KI=(t,e)=>t===!0?e:typeof t=="string"?Ti(e,t):void 0;function YI(t,e,n,s,r){for(const i of e){const o=KI(n,i);if(o){t.add(o);const a=LS(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Rp(t,e,n,s){const r=e._rootScopes,i=LS(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=vx(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=vx(a,o,i,l,s),l===null)?!1:Op(Array.from(a),[""],r,i,()=>GI(e,n,s))}function vx(t,e,n,s,r){for(;n;)n=YI(t,e,n,s,r);return n}function GI(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return $e(r)&&re(n)?n:r||{}}function XI(t,e,n,s){let r;for(const i of e)if(r=IS(UI(i,t),n),typeof r<"u")return Dp(t,r)?Rp(n,s,t,r):r}function IS(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function bx(t){let e=t._keys;return e||(e=t._keys=QI(t._scopes)),e}function QI(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const JI=Number.EPSILON||1e-14,Ei=(t,e)=>e<t.length&&!t[e].skip&&t[e],FS=t=>t==="x"?"y":"x";function ZI(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=wf(i,r),l=wf(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,f=s*u;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function e5(t,e,n){const s=t.length;let r,i,o,a,l,c=Ei(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Ei(t,u+1),!(!l||!c)){if($o(e[u],0,JI)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function t5(t,e,n="x"){const s=FS(n),r=t.length;let i,o,a,l=Ei(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ei(t,c+1),!a)continue;const u=a[n],h=a[s];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${s}`]=h-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${s}`]=h+i*e[c])}}function n5(t,e="x"){const n=FS(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,l,c=Ei(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Ei(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?En(r[o-1])!==En(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}e5(t,r,i),t5(t,i,e)}function xl(t,e,n){return Math.max(Math.min(t,n),e)}function s5(t,e){let n,s,r,i,o,a=ba(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&ba(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=xl(r.cp1x,e.left,e.right),r.cp1y=xl(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=xl(r.cp2x,e.left,e.right),r.cp2y=xl(r.cp2y,e.top,e.bottom)))}function r5(t,e,n,s,r){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")n5(t,r);else{let c=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=ZI(c,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&s5(t,n)}function Lp(){return typeof window<"u"&&typeof document<"u"}function Ip(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Uc(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ku=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function i5(t,e){return ku(t).getPropertyValue(e)}const o5=["top","right","bottom","left"];function xr(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=o5[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const a5=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function l5(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(a5(r,i,t.target))a=r,l=i;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function tr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=ku(n),i=r.boxSizing==="border-box",o=xr(r,"padding"),a=xr(r,"border","width"),{x:l,y:c,box:u}=l5(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:p}=e;return i&&(m-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/m*n.width/s),y:Math.round((c-f)/p*n.height/s)}}function c5(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Ip(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=ku(i),l=xr(a,"border","width"),c=xr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Uc(a.maxWidth,i,"clientWidth"),r=Uc(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Vc,maxHeight:r||Vc}}const vl=t=>Math.round(t*10)/10;function u5(t,e,n,s){const r=ku(t),i=xr(r,"margin"),o=Uc(r.maxWidth,t,"clientWidth")||Vc,a=Uc(r.maxHeight,t,"clientHeight")||Vc,l=c5(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=xr(r,"border","width"),m=xr(r,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,s?c/s:u-i.height),c=vl(Math.min(c,o,l.maxWidth)),u=vl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vl(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=vl(Math.floor(u*s))),{width:c,height:u}}function wx(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const d5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Lp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _x(t,e){const n=i5(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function nr(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function h5(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function f5(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=nr(t,r,n),a=nr(r,i,n),l=nr(i,e,n),c=nr(o,a,n),u=nr(a,l,n);return nr(c,u,n)}const m5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},p5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function hi(t,e,n){return t?m5(e,n):p5()}function BS(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function $S(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function VS(t){return t==="angle"?{between:SS,compare:pI,normalize:cs}:{between:hr,compare:(e,n)=>e-n,normalize:e=>e}}function Sx({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function g5(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=VS(s),l=e.length;let{start:c,end:u,loop:h}=t,f,m;if(h){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][s]),r,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function y5(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=VS(s),{start:u,end:h,loop:f,style:m}=g5(t,e,n),p=[];let v=!1,b=null,g,y,x;const w=()=>l(r,x,g)&&a(r,x)!==0,_=()=>a(i,g)===0||l(i,x,g),j=()=>v||w(),C=()=>!v||_();for(let T=u,N=u;T<=h;++T)y=e[T%o],!y.skip&&(g=c(y[s]),g!==x&&(v=l(g,r,i),b===null&&j()&&(b=a(g,r)===0?T:N),b!==null&&C()&&(p.push(Sx({start:b,end:T,loop:f,count:o,style:m})),b=null),N=T,x=g));return b!==null&&p.push(Sx({start:b,end:h,loop:f,count:o,style:m})),p}function x5(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=y5(s[r],t.points,e);i.length&&n.push(...i)}return n}function v5(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function b5(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function w5(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=v5(n,r,i,s);if(s===!0)return kx(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return kx(t,b5(n,o,l,c),n,e)}function kx(t,e,n,s){return!s||!s.setContext||!n?e:_5(t,e,n,s)}function _5(t,e,n,s){const r=t._chart.getContext(),i=jx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,h=e[0].start,f=h;function m(p,v,b,g){const y=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=y;for(;n[v%l].skip;)v+=y;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:b,style:g}),u=g,h=v%l)}}for(const p of e){h=a?h:p.start;let v=n[h%l],b;for(f=h+1;f<=p.end;f++){const g=n[f%l];b=jx(s.setContext(Er(r,{type:"segment",p0:v,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),S5(b,u)&&m(h,f-1,p.loop,u),v=g,u=b}h<f-1&&m(h,f-1,p.loop,u)}return c}function jx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function S5(t,e){if(!e)return!1;const n=[],s=function(r,i){return Np(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function bl(t,e,n){return t.options.clip?t[n]:e[n]}function k5(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:bl(n,e,"left"),right:bl(n,e,"right"),top:bl(s,e,"top"),bottom:bl(s,e,"bottom")}:e}function j5(t,e){const n=e._clip;if(n.disabled)return!1;const s=k5(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class C5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=CS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dn=new C5;const Cx="transparent",T5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=px(t||Cx),r=s.valid&&px(e||Cx);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class P5{constructor(e,n,s,r){const i=n[s];r=yl([e.to,r,i,e.from]);const o=yl([e.from,i,r]);this._active=!0,this._fn=e.fn||T5[e.type||typeof o],this._easing=Vo[e.easing]||Vo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=yl([e.to,n,r,e.from]),this._from=yl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class zS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!re(e))return;const n=Object.keys(Ne.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!re(i))return;const o={};for(const a of n)o[a]=i[a];($e(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=N5(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&E5(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=i[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=h=new P5(f,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Dn.add(this._chart,s),!0}}function E5(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function N5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Tx(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function A5(t,e,n){if(n===!1)return!1;const s=Tx(t,n),r=Tx(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function M5(t){let e,n,s,r;return re(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function US(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Px(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Gt(c)&&(i||e===0||En(e)===En(c))&&(e+=c)}return!u&&!s.all?0:e}function O5(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[i]:t[u]};return a}function Od(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function D5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function R5(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function L5(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Ex(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Nx(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,c=o.axis,u=D5(i,o,s),h=e.length;let f;for(let m=0;m<h;++m){const p=e[m],{[l]:v,[c]:b}=p,g=p._stacks||(p._stacks={});f=g[c]=L5(r,u,v),f[a]=b,f._top=Ex(f,o,!0,s.type),f._bottom=Ex(f,o,!1,s.type);const y=f._visualValues||(f._visualValues={});y[a]=b}}function Dd(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function I5(t,e){return Er(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function F5(t,e,n){return Er(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ro(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Rd=t=>t==="reset"||t==="none",Ax=(t,e)=>e?t:Object.assign({},t),B5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:US(n,!0),values:null};class fi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Od(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ro(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,i=n.xAxisID=te(s.xAxisID,Dd(e,"x")),o=n.yAxisID=te(s.yAxisID,Dd(e,"y")),a=n.rAxisID=te(s.rAxisID,Dd(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,i,o,a),u=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hx(this._data,this),e._stacked&&ro(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(re(n)){const r=this._cachedMeta;this._data=O5(n,r)}else if(s!==n){if(s){hx(s,this);const r=this._cachedMeta;ro(r),r._parsed=[]}n&&Object.isExtensible(n)&&vI(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Od(n.vScale,n),n.stack!==s.stack&&(r=!0,ro(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Nx(this,n._parsed),n._stacked=Od(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{$e(r[e])?f=this.parseArrayData(s,r,e,n):re(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const m=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],l&&(m()&&(l=!1),c=h);s._sorted=l}o&&Nx(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,h=new Array(r);let f,m,p;for(f=0,m=r;f<m;++f)p=f+s,h[f]={[a]:u||i.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+s,h=n[u],a[l]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+s,m=n[f],c[u]={x:i.parse(Ti(m,a),f),y:o.parse(Ti(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:US(r,!0),values:n._stacks[e.axis]._visualValues};return Px(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=Px(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=B5(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=R5(a);let f,m;function p(){m=r[f];const v=m[a.axis];return!Gt(m[e.axis])||u>v||h<v}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,e,m,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],Gt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=M5(te(this.options.clip,A5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=F5(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=I5(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&xa(s);if(a)return Ax(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ne.elements[e]),p=()=>this.getContext(s,r,n),v=c.resolveNamedOptions(f,m,p,h);return v.$shared&&(v.$shared=l,i[o]=Object.freeze(Ax(v,l))),v}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,s,n))}const c=new zS(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Rd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){Rd(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Rd(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&ro(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(fi,"defaults",{}),X(fi,"datasetElementType",null),X(fi,"dataElementType",null);function $5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=jS(s.sort((r,i)=>r-i))}return t._cache.$bar}function V5(t){const e=t.iScale,n=$5(e,t.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(xa(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function z5(t,e,n,s){const r=n.barThickness;let i,o;return oe(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function U5(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function W5(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:i,min:o,max:a}}function WS(t,e,n,s){return $e(t)?W5(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Mx(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let c,u,h,f;for(c=n,u=n+s;c<u;++c)f=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(WS(f,h,i,c));return l}function Ld(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function H5(t,e,n){return t!==0?En(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function q5(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function K5(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=q5(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=c:(n._bottom||0)===s?r=u:(i[Ox(u,o,a,l)]=!0,r=c)),i[Ox(r,o,a,l)]=!0,t.borderSkipped=i}function Ox(t,e,n,s){return s?(t=Y5(t,e,n),t=Dx(t,n,e)):t=Dx(t,e,n),t}function Y5(t,e,n){return t===e?n:t===n?e:t}function Dx(t,e,n){return t==="start"?e:t==="end"?n:t}function G5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Yl extends fi{parsePrimitiveData(e,n,s,r){return Mx(e,n,s,r)}parseArrayData(e,n,s,r){return Mx(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,m,p,v;for(f=s,m=s+r;f<m;++f)v=n[f],p={},p[i.axis]=i.parse(Ti(v,c),f),h.push(WS(Ti(v,u),p,o,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=Ld(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const p=this.getParsed(m),v=i||oe(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),g=(p._stacks||{})[a.axis],y={horizontal:c,base:v.base,enableBorderRadius:!g||Ld(p._custom)||o===g._top||o===g._bottom,x:c?v.head:b.center,y:c?b.center:v.head,height:c?b.size:Math.abs(v.size),width:c?Math.abs(v.size):b.size};f&&(y.options=h||this.resolveDataElementOptions(m,e[m].active?"active":r));const x=y.options||e[m].options;K5(y,x,g,o),G5(y,x,u.ratio),this.updateElement(e[m],m,y,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(m=>m[s.axis]===l),f=h&&h[u.vScale.axis];if(oe(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[te(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||V5(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=Ld(c);let h=l[n.axis],f=0,m=s?this.applyStack(n,l,s):h,p,v;m!==h&&(f=m-h,m=h),u&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&En(h)!==En(c.barEnd)&&(f=0),f+=h);const b=!oe(i)&&!u?i:f;let g=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+m):p=g,v=p-g,Math.abs(v)<o){v=H5(v,n,a)*o,h===a&&(g-=v/2);const y=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),w=Math.min(y,x),_=Math.max(y,x);g=Math.max(Math.min(g,_),w),p=g+v,s&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const y=En(v)*n.getLineWidthForValue(a)/2;g+=y,v-=y}return{size:v,base:g,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=te(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?U5(e,n,r,u*c):z5(e,n,r,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(te(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;a=h.start+h.chunk*p+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}X(Yl,"id","bar"),X(Yl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(Yl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Gl extends fi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=_I(n,r,o);this._drawStart=a,this._drawCount=l,SI(n)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,m=a.axis,{spanGaps:p,segment:v}=this.options,b=va(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||r==="none",y=n+s,x=e.length;let w=n>0&&this.getParsed(n-1);for(let _=0;_<x;++_){const j=e[_],C=g?j:{};if(_<n||_>=y){C.skip=!0;continue}const T=this.getParsed(_),N=oe(T[m]),A=C[f]=o.getPixelForValue(T[f],_),F=C[m]=i||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],_);C.skip=isNaN(A)||isNaN(F)||N,C.stop=_>0&&Math.abs(T[f]-w[f])>b,v&&(C.parsed=T,C.raw=c.data[_]),h&&(C.options=u||this.resolveDataElementOptions(_,j.active?"active":r)),g||this.updateElement(j,_,C,r),w=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}X(Gl,"id","line"),X(Gl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(Gl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fp{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(Fp.prototype,e)}init(){}formats(){return Gs()}parse(){return Gs()}format(){return Gs()}add(){return Gs()}diff(){return Gs()}startOf(){return Gs()}endOf(){return Gs()}}var X5={_date:Fp};function Q5(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?yI:fr;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(i,e,n-h),m=c(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(v=>!oe(v[h.axis]));u.lo-=Math.max(0,m);const p=f.slice(u.hi).findIndex(v=>!oe(v[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:i.length-1}}function Ba(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:h,hi:f}=Q5(i[a],e,o,r);for(let m=h;m<=f;++m){const p=u[m];p.skip||s(p,c,m)}}}function J5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Id(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Ba(t,n,e,function(a,l,c){!r&&!ba(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function Z5(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=mI(o,{x:e.x,y:e.y});SS(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Ba(t,n,e,i),r}function eF(t,e,n,s,r,i){let o=[];const a=J5(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const m=u.inRange(e.x,e.y,r);if(s&&!m)return;const p=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(p))&&!m)return;const b=a(e,p);b<l?(o=[{element:u,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:h,index:f})}return Ba(t,n,e,c),o}function Fd(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?Z5(t,e,n,r):eF(t,e,n,s,r,i)}function Rx(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ba(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var tF={evaluateInteractionItems:Ba,modes:{index(t,e,n,s){const r=tr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Id(t,r,i,s,o):Fd(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const r=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Id(t,r,i,s,o):Fd(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const r=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Id(t,r,i,s,o)},nearest(t,e,n,s){const r=tr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Fd(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=tr(e,t);return Rx(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=tr(e,t);return Rx(t,r,"y",n.intersect,s)}}};const HS=["left","top","right","bottom"];function io(t,e){return t.filter(n=>n.pos===e)}function Lx(t,e){return t.filter(n=>HS.indexOf(n.pos)===-1&&n.box.axis===e)}function oo(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function nF(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function sF(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!HS.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function rF(t,e){const n=sF(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:l&&e.availableHeight)}return n}function iF(t){const e=nF(t),n=oo(e.filter(c=>c.box.fullSize),!0),s=oo(io(e,"left"),!0),r=oo(io(e,"right")),i=oo(io(e,"top"),!0),o=oo(io(e,"bottom")),a=Lx(e,"x"),l=Lx(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:io(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function Ix(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function qS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function oF(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!re(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&qS(o,i.getPadding());const a=Math.max(0,e.outerWidth-Ix(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ix(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function aF(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function lF(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function yo(t,e,n,s){const r=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,lF(a.horizontal,e));const{same:h,other:f}=oF(e,n,a,s);c|=h&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&yo(r,e,n,s)||u}function wl(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Fx(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;xa(c.start)&&(o=c.start),l.fullSize?wl(l,r.left,o,n.outerWidth-r.right-r.left,f):wl(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;xa(c.start)&&(i=c.start),l.fullSize?wl(l,i,r.top,f,n.outerHeight-r.bottom-r.top):wl(l,i,e.top+c.placed,f,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=o}var zt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Xt(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=iF(t.boxes),l=a.vertical,c=a.horizontal;ce(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);qS(f,Xt(s));const m=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),p=rF(l.concat(c),h);yo(a.fullSize,m,h,p),yo(l,m,h,p),yo(c,m,h,p)&&yo(l,m,h,p),aF(m),Fx(a.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,Fx(a.rightAndBottom,m,h,p),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ce(a.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class KS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class cF extends KS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xl="$chartjs",uF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bx=t=>t===null||t==="";function dF(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Xl]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bx(r)){const i=_x(t,"width");i!==void 0&&(t.width=i)}if(Bx(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=_x(t,"height");i!==void 0&&(t.height=i)}return t}const YS=d5?{passive:!0}:!1;function hF(t,e,n){t&&t.addEventListener(e,n,YS)}function fF(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,YS)}function mF(t,e){const n=uF[t.type]||t.type,{x:s,y:r}=tr(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Wc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function pF(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Wc(a.addedNodes,s),o=o&&!Wc(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function gF(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Wc(a.removedNodes,s),o=o&&!Wc(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const _a=new Map;let $x=0;function GS(){const t=window.devicePixelRatio;t!==$x&&($x=t,_a.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yF(t,e){_a.size||window.addEventListener("resize",GS),_a.set(t,e)}function xF(t){_a.delete(t),_a.size||window.removeEventListener("resize",GS)}function vF(t,e,n){const s=t.canvas,r=s&&Ip(s);if(!r)return;const i=TS((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(r),yF(t,i),o}function Bd(t,e,n){n&&n.disconnect(),e==="resize"&&xF(t)}function bF(t,e,n){const s=t.canvas,r=TS(i=>{t.ctx!==null&&n(mF(i,t))},t);return hF(s,e,r),r}class wF extends KS{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(dF(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Xl])return!1;const s=n[Xl].initial;["height","width"].forEach(i=>{const o=s[i];oe(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Xl],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:pF,detach:gF,resize:vF}[n]||bF;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:Bd,detach:Bd,resize:Bd}[n]||fF)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return u5(e,n,s,r)}isAttached(e){const n=e&&Ip(e);return!!(n&&n.isConnected)}}function _F(t){return!Lp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?cF:wF}var Tl;let Us=(Tl=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return va(this.x)&&va(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},X(Tl,"defaults",{}),X(Tl,"defaultRoutes"),Tl);function SF(t,e){const n=t.options.ticks,s=kF(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?CF(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>r)return TF(e,c,i,o/r),c;const u=jF(i,e,r);if(o>0){let h,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(_l(e,c,u,oe(m)?0:a-m,a),h=0,f=o-1;h<f;h++)_l(e,c,u,i[h],i[h+1]);return _l(e,c,u,l,oe(m)?e.length:l+m),c}return _l(e,c,u),c}function kF(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function jF(t,e,n){const s=PF(t),r=e.length/n;if(!s)return Math.max(r,1);const i=cI(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function CF(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function TF(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function _l(t,e,n,s,r){const i=te(s,0),o=Math.min(te(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function PF(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const EF=t=>t==="left"?"right":t==="right"?"left":t,Vx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,zx=(t,e)=>Math.min(e||t,t);function Ux(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function NF(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(s===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<i-a||l>o+a)))return l}function AF(t,e){ce(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function ao(t){return t.drawTicks?t.tickLength:0}function Wx(t,e){if(!t.display)return 0;const n=st(t.font,e),s=Xt(t.padding);return($e(t.text)?t.text.length:1)*n.lineHeight+s.height}function MF(t,e){return Er(t,{scale:e,type:"scale"})}function OF(t,e,n){return Er(t,{tick:n,index:e,type:"tick"})}function DF(t,e,n){let s=Ep(t);return(n&&e!=="right"||!n&&e==="right")&&(s=EF(s)),s}function RF(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,m,p;const v=o-r,b=a-i;if(t.isHorizontal()){if(m=et(s,i,a),re(n)){const g=Object.keys(n)[0],y=n[g];p=u[g].getPixelForValue(y)+v-e}else n==="center"?p=(c.bottom+c.top)/2+v-e:p=Vx(t,n,e);f=a-i}else{if(re(n)){const g=Object.keys(n)[0],y=n[g];m=u[g].getPixelForValue(y)-b+e}else n==="center"?m=(c.left+c.right)/2-b+e:m=Vx(t,n,e);p=et(s,o,r),h=n==="left"?-an:an}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class zi extends Us{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=mn(e,Number.POSITIVE_INFINITY),n=mn(n,Number.NEGATIVE_INFINITY),s=mn(s,Number.POSITIVE_INFINITY),r=mn(r,Number.NEGATIVE_INFINITY),{min:mn(e,s),max:mn(n,r),minDefined:Gt(e),maxDefined:Gt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:mn(n,mn(s,n)),max:mn(s,mn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zI(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ux(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ge(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=ge(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=zx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Pt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:m/(s-1),h+6>a&&(a=m/(s-(e.offset?.5:1)),l=this.maxHeight-ao(e.grid)-n.padding-Wx(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=fI(Math.min(Math.asin(Pt((u.highest.height+6)/a,-1,1)),Math.asin(Pt(l/c,-1,1))-Math.asin(Pt(f/c,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Wx(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=ao(i)+l):(e.height=this.maxHeight,e.width=ao(i)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,p=dr(this.labelRotation),v=Math.cos(p),b=Math.sin(p);if(a){const g=s.mirror?0:b*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+g+m)}else{const g=s.mirror?0:v*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+g+m)}this._calculatePadding(c,u,b,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=r*e.width,m=s*n.height):(f=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)oe(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Ux(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/zx(n,s));let c=0,u=0,h,f,m,p,v,b,g,y,x,w,_;for(h=0;h<n;h+=l){if(p=e[h].label,v=this._resolveTickFontOptions(h),r.font=b=v.string,g=i[b]=i[b]||{data:{},gc:[]},y=v.lineHeight,x=w=0,!oe(p)&&!$e(p))x=yx(r,g.data,g.gc,x,p),w=y;else if($e(p))for(f=0,m=p.length;f<m;++f)_=p[f],!oe(_)&&!$e(_)&&(x=yx(r,g.data,g.gc,x,_),w+=y);o.push(x),a.push(w),c=Math.max(x,c),u=Math.max(w,u)}AF(i,n);const j=o.indexOf(c),C=a.indexOf(u),T=N=>({width:o[N]||0,height:a[N]||0});return{first:T(0),last:T(n-1),widest:T(j),highest:T(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return gI(this._alignToPixels?Ys(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=OF(this.getContext(),e,s))}return this.$context||(this.$context=MF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=dr(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=ao(i),m=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,b=v/2,g=function(q){return Ys(s,q,v)};let y,x,w,_,j,C,T,N,A,F,I,O;if(o==="top")y=g(this.bottom),C=this.bottom-f,N=y-b,F=g(e.top)+b,O=e.bottom;else if(o==="bottom")y=g(this.top),F=e.top,O=g(e.bottom)-b,C=y+b,N=this.top+f;else if(o==="left")y=g(this.right),j=this.right-f,T=y-b,A=g(e.left)+b,I=e.right;else if(o==="right")y=g(this.left),A=e.left,I=g(e.right)-b,j=y+b,T=this.left+f;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(re(o)){const q=Object.keys(o)[0],Y=o[q];y=g(this.chart.scales[q].getPixelForValue(Y))}F=e.top,O=e.bottom,C=y+b,N=C+f}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(re(o)){const q=Object.keys(o)[0],Y=o[q];y=g(this.chart.scales[q].getPixelForValue(Y))}j=y-b,T=j-f,A=e.left,I=e.right}const K=te(r.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/K));for(x=0;x<h;x+=H){const q=this.getContext(x),Y=i.setContext(q),D=a.setContext(q),V=Y.lineWidth,z=Y.color,ie=D.dash||[],de=D.dashOffset,kt=Y.tickWidth,qe=Y.tickColor,Ot=Y.tickBorderDash||[],Ke=Y.tickBorderDashOffset;w=NF(this,x,l),w!==void 0&&(_=Ys(s,w,V),c?j=T=A=I=_:C=N=F=O=_,m.push({tx1:j,ty1:C,tx2:T,ty2:N,x1:A,y1:F,x2:I,y2:O,width:V,color:z,borderDash:ie,borderDashOffset:de,tickWidth:kt,tickColor:qe,tickBorderDash:Ot,tickBorderDashOffset:Ke}))}return this._ticksLength=h,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=i,f=ao(s.grid),m=f+u,p=h?-u:m,v=-dr(this.labelRotation),b=[];let g,y,x,w,_,j,C,T,N,A,F,I,O="middle";if(r==="top")j=this.bottom-p,C=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+p,C=this._getXAxisLabelAlignment();else if(r==="left"){const H=this._getYAxisLabelAlignment(f);C=H.textAlign,_=H.x}else if(r==="right"){const H=this._getYAxisLabelAlignment(f);C=H.textAlign,_=H.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+m;else if(re(r)){const H=Object.keys(r)[0],q=r[H];j=this.chart.scales[H].getPixelForValue(q)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")_=(e.left+e.right)/2-m;else if(re(r)){const H=Object.keys(r)[0],q=r[H];_=this.chart.scales[H].getPixelForValue(q)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?O="top":l==="end"&&(O="bottom"));const K=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){x=a[g],w=x.label;const H=i.setContext(this.getContext(g));T=this.getPixelForTick(g)+i.labelOffset,N=this._resolveTickFontOptions(g),A=N.lineHeight,F=$e(w)?w.length:1;const q=F/2,Y=H.color,D=H.textStrokeColor,V=H.textStrokeWidth;let z=C;o?(_=T,C==="inner"&&(g===y-1?z=this.options.reverse?"left":"right":g===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?c==="near"||v!==0?I=-F*A+A/2:c==="center"?I=-K.highest.height/2-q*A+A:I=-K.highest.height+A/2:c==="near"||v!==0?I=A/2:c==="center"?I=K.highest.height/2-q*A:I=K.highest.height-F*A,h&&(I*=-1),v!==0&&!H.showLabelBackdrop&&(_+=A/2*Math.sin(v))):(j=T,I=(1-F)*A/2);let ie;if(H.showLabelBackdrop){const de=Xt(H.backdropPadding),kt=K.heights[g],qe=K.widths[g];let Ot=I-de.top,Ke=0-de.left;switch(O){case"middle":Ot-=kt/2;break;case"bottom":Ot-=kt;break}switch(C){case"center":Ke-=qe/2;break;case"right":Ke-=qe;break;case"inner":g===y-1?Ke-=qe:g>0&&(Ke-=qe/2);break}ie={left:Ke,top:Ot,width:qe+de.width,height:kt+de.height,color:H.backdropColor}}b.push({label:w,font:N,textOffset:I,options:{rotation:v,color:Y,strokeColor:D,strokeWidth:V,textAlign:z,textBaseline:O,translation:[_,j],backdrop:ie}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-dr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+i,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Ys(e,this.left,o)-o/2,u=Ys(e,this.right,a)+a/2,h=f=l):(h=Ys(e,this.top,o)-o/2,f=Ys(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Ap(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;wa(s,c,0,u,l,a)}r&&Mp(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=st(s.font),o=Xt(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||re(n)?(l+=o.bottom,$e(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=RF(this,l,n,a);wa(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:DF(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=te(e.grid&&e.grid.z,-1),r=te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==zi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return st(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Sl{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;FF(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,LF(e,o,s),this.override&&Ne.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Ne[r]&&(delete Ne[r][s],this.override&&delete jr[s])}}function LF(t,e,n){const s=ya(Object.create(null),[n?Ne.get(n):{},Ne.get(e),t.defaults]);Ne.set(e,s),t.defaultRoutes&&IF(e,t.defaultRoutes),t.descriptors&&Ne.describe(e,t.descriptors)}function IF(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ne.route(i,r,l,a)})}function FF(t){return"id"in t&&"defaults"in t}class BF{constructor(){this.controllers=new Sl(fi,"datasets",!0),this.elements=new Sl(Us,"elements"),this.plugins=new Sl(Object,"plugins"),this.scales=new Sl(zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):ce(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Tp(e);ge(s["before"+r],[],s),n[e](s),ge(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var xn=new BF;class $F{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if(ge(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=te(s.options&&s.options.plugins,{}),i=VF(s);return r===!1&&!n?[]:UF(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function VF(t){const e={},n=[],s=Object.keys(xn.plugins.items);for(let i=0;i<s.length;i++)n.push(xn.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function zF(t,e){return!e&&t===!1?null:t===!0?{}:t}function UF(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=zF(s[l],r);c!==null&&i.push({plugin:a,options:WF(t.config,{plugin:a,local:n[l]},c,o)})}return i}function WF(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kf(t,e){const n=Ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function HF(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function qF(t,e){return t===e?"_index_":"_value_"}function Hx(t){if(t==="x"||t==="y"||t==="r")return t}function KF(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function jf(t,...e){if(Hx(t))return t;for(const n of e){const s=n.axis||KF(n.position)||t.length>1&&Hx(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function qx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function YF(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return qx(t,"x",n[0])||qx(t,"y",n[0])}return{}}function GF(t,e){const n=jr[t.type]||{scales:{}},s=e.scales||{},r=kf(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=jf(o,a,YF(o,t),Ne.scales[a.type]),c=qF(l,r),u=n.scales||{};i[o]=Bo(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||kf(a,e),u=(jr[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=HF(h,l),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),Bo(i[m],[{axis:f},s[m],u[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Bo(a,[Ne.scales[a.type],Ne.scale])}),i}function XS(t){const e=t.options||(t.options={});e.plugins=te(e.plugins,{}),e.scales=GF(t,e)}function QS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function XF(t){return t=t||{},t.data=QS(t.data),XS(t),t}const Kx=new Map,JS=new Set;function kl(t,e){let n=Kx.get(t);return n||(n=e(),Kx.set(t,n),JS.add(n)),n}const lo=(t,e,n)=>{const s=Ti(e,n);s!==void 0&&t.add(s)};class QF{constructor(e){this._config=XF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),XS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return kl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return kl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return kl(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>lo(l,e,h))),u.forEach(h=>lo(l,r,h)),u.forEach(h=>lo(l,jr[i]||{},h)),u.forEach(h=>lo(l,Ne,h)),u.forEach(h=>lo(l,_f,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),JS.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,jr[n]||{},Ne.datasets[n]||{},{type:n},Ne,_f]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Yx(this._resolverCache,e,r);let l=o;if(ZF(o,n)){i.$shared=!1,s=Ds(s)?s():s;const c=this.createResolver(e,s,a);l=Pi(o,s,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,s=[""],r){const{resolver:i}=Yx(this._resolverCache,e,s);return re(n)?Pi(i,n,void 0,r):i}}function Yx(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Op(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const JF=t=>re(t)&&Object.getOwnPropertyNames(t).some(e=>Ds(t[e]));function ZF(t,e){const{isScriptable:n,isIndexable:s}=DS(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(Ds(a)||JF(a))||o&&$e(a))return!0}return!1}var e4="4.5.0";const t4=["top","bottom","left","right","chartArea"];function Gx(t,e){return t==="top"||t==="bottom"||t4.indexOf(t)===-1&&e==="x"}function Xx(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Qx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ge(n&&n.onComplete,[t],e)}function n4(t){const e=t.chart,n=e.options.animation;ge(n&&n.onProgress,[t],e)}function ZS(t){return Lp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ql={},Jx=t=>{const e=ZS(t);return Object.values(Ql).filter(n=>n.canvas===e).pop()};function s4(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function r4(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var is;let ju=(is=class{static register(...e){xn.add(...e),Zx()}static unregister(...e){xn.remove(...e),Zx()}constructor(e,n){const s=this.config=new QF(n),r=ZS(e),i=Jx(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||_F(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=eI(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $F,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bI(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ql[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Dn.listen(this,"complete",Qx),Dn.listen(this,"progress",n4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return oe(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xx(this.canvas,this.ctx),this}stop(){return Dn.stop(this),this}resize(e,n){Dn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,wx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ge(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ce(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=jf(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ce(i,o=>{const a=o.options,l=a.id,c=jf(l,a),u=te(a.type,o.dtype);(a.position===void 0||Gx(a.position,c)!==Gx(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const f=xn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ce(r,(o,a)=>{o||delete s[a]}),ce(s,o=>{zt.configure(this,o,o.options),zt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Xx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||kf(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=xn.getController(a),{datasetElementType:c,dataElementType:u}=Ne.datasets[a];Object.assign(l,{dataElementType:xn.getElement(u),datasetElementType:c&&xn.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ce(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||ce(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ce(this.scales,e=>{zt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!lx(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;s4(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!lx(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ce(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ds(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dn.has(this)?this.attached&&!Dn.running(this)&&Dn.start(this):(this.draw(),Qx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=j5(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Ap(n,r),e.controller.draw(),r&&Mp(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ba(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=tF.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);xa(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Dn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ql[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ce(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ce(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ce(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Bc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=oI(e),c=r4(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ge(i.onHover,[e,a,this],this),l&&ge(i.onClick,[e,a,this],this));const u=!Bc(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},X(is,"defaults",Ne),X(is,"instances",Ql),X(is,"overrides",jr),X(is,"registry",xn),X(is,"version",e4),X(is,"getChart",Jx),is);function Zx(){return ce(ju.instances,t=>t._plugins.invalidate())}function ek(t,e,n=e){t.lineCap=te(n.borderCapStyle,e.borderCapStyle),t.setLineDash(te(n.borderDash,e.borderDash)),t.lineDashOffset=te(n.borderDashOffset,e.borderDashOffset),t.lineJoin=te(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=te(n.borderWidth,e.borderWidth),t.strokeStyle=te(n.borderColor,e.borderColor)}function i4(t,e,n){t.lineTo(n.x,n.y)}function o4(t){return t.stepped?OI:t.tension||t.cubicInterpolationMode==="monotone"?DI:i4}function tk(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(i,a),u=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function a4(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:c}=tk(r,n,s),u=o4(i);let{move:h=!0,reverse:f}=s||{},m,p,v;for(m=0;m<=c;++m)p=r[(a+(f?c-m:m))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,v,p,f,i.stepped),v=p);return l&&(p=r[(a+(f?c:0))%o],u(t,v,p,f,i.stepped)),!!l}function l4(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=tk(r,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,f,m,p,v,b,g;const y=w=>(o+(c?a-w:w))%i,x=()=>{v!==b&&(t.lineTo(u,b),t.lineTo(u,v),t.lineTo(u,g))};for(l&&(m=r[y(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=r[y(f)],m.skip)continue;const w=m.x,_=m.y,j=w|0;j===p?(_<v?v=_:_>b&&(b=_),u=(h*u+w)/++h):(x(),t.lineTo(w,_),p=j,h=0,v=b=_),g=_}x()}function Cf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?l4:a4}function c4(t){return t.stepped?h5:t.tension||t.cubicInterpolationMode==="monotone"?f5:nr}function u4(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),ek(t,e.options),t.stroke(r)}function d4(t,e,n,s){const{segments:r,options:i}=e,o=Cf(e);for(const a of r)ek(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const h4=typeof Path2D=="function";function f4(t,e,n,s){h4&&!e.options.segment?u4(t,e,n,s):d4(t,e,n,s)}class xo extends Us{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;r5(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=w5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=x5(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=c4(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],m=i[h],p=i[f];if(m===p){a.push(m);continue}const v=Math.abs((r-m[n])/(p[n]-m[n])),b=l(m,p,v,s.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Cf(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Cf(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),f4(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(xo,"id","line"),X(xo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(xo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(xo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ev(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Jl extends Us{constructor(n){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return ev(this,n,"x",s)}inYRange(n,s){return ev(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!ba(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Sf(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}X(Jl,"id","point"),X(Jl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(Jl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nk(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=s-h,u=s+h):(h=i/2,a=n-h,l=n+h,c=Math.min(s,r),u=Math.max(s,r)),{left:a,top:c,right:l,bottom:u}}function bs(t,e,n,s){return t?0:Pt(e,n,s)}function m4(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=OS(s);return{t:bs(r.top,i.top,0,n),r:bs(r.right,i.right,0,e),b:bs(r.bottom,i.bottom,0,n),l:bs(r.left,i.left,0,e)}}function p4(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=di(r),o=Math.min(e,n),a=t.borderSkipped,l=s||re(r);return{topLeft:bs(!l||a.top||a.left,i.topLeft,0,o),topRight:bs(!l||a.top||a.right,i.topRight,0,o),bottomLeft:bs(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:bs(!l||a.bottom||a.right,i.bottomRight,0,o)}}function g4(t){const e=nk(t),n=e.right-e.left,s=e.bottom-e.top,r=m4(t,n/2,s/2),i=p4(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function $d(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&nk(t,s);return a&&(r||hr(e,a.left,a.right))&&(i||hr(n,a.top,a.bottom))}function y4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function x4(t,e){t.rect(e.x,e.y,e.w,e.h)}function Vd(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Zl extends Us{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=g4(this),a=y4(o.radius)?zc:x4;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,Vd(o,n,i)),e.clip(),a(e,Vd(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Vd(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return $d(this,e,n,s)}inXRange(e,n){return $d(this,e,null,n)}inYRange(e,n){return $d(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X(Zl,"id","bar"),X(Zl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(Zl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const tv=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},v4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class nv extends Us{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ge(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=st(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=tv(s,i);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((p,v)=>{const b=s+n/2+i.measureText(p.text).width;(v===0||c[c.length-1]+b+2*a>o)&&(h+=u,c[c.length-(v>0?0:1)]=0,m+=u,f++),l[v]={left:0,top:m,row:f,width:b,height:r},c[c.length-1]+=b+a}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,m=0,p=0,v=0;return this.legendItems.forEach((b,g)=>{const{itemWidth:y,itemHeight:x}=b4(s,n,i,b,r);g>0&&m+x+2*a>u&&(h+=f+a,c.push({width:f,height:m}),p+=f+a,v++,f=m=0),l[g]={left:p,top:m,col:v,width:y,height:x},f=Math.max(f,y),m+=x+a}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=hi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=et(s,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=et(s,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=et(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=et(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ap(e,this),this._draw(),Mp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Ne.color,l=hi(e.rtl,this.left,this.width),c=st(o.font),{padding:u}=o,h=c.size,f=h/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:b}=tv(o,h),g=function(j,C,T){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;r.save();const N=te(T.lineWidth,1);if(r.fillStyle=te(T.fillStyle,a),r.lineCap=te(T.lineCap,"butt"),r.lineDashOffset=te(T.lineDashOffset,0),r.lineJoin=te(T.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=te(T.strokeStyle,a),r.setLineDash(te(T.lineDash,[])),o.usePointStyle){const A={radius:v*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:N},F=l.xPlus(j,p/2),I=C+f;AS(r,A,F,I,o.pointStyleWidth&&p)}else{const A=C+Math.max((h-v)/2,0),F=l.leftForLtr(j,p),I=di(T.borderRadius);r.beginPath(),Object.values(I).some(O=>O!==0)?zc(r,{x:F,y:A,w:p,h:v,radius:I}):r.rect(F,A,p,v),r.fill(),N!==0&&r.stroke()}r.restore()},y=function(j,C,T){wa(r,T.text,j,C+b/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},x=this.isHorizontal(),w=this._computeTitleHeight();x?m={x:et(i,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:m={x:this.left+u,y:et(i,this.top+w+u,this.bottom-n[0].height),line:0},BS(this.ctx,e.textDirection);const _=b+u;this.legendItems.forEach((j,C)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const T=r.measureText(j.text).width,N=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),A=p+f+T;let F=m.x,I=m.y;l.setWidth(this.width),x?C>0&&F+A+u>this.right&&(I=m.y+=_,m.line++,F=m.x=et(i,this.left+u,this.right-s[m.line])):C>0&&I+_>this.bottom&&(F=m.x=F+n[m.line].width+u,m.line++,I=m.y=et(i,this.top+w+u,this.bottom-n[m.line].height));const O=l.x(F);if(g(O,I,j),F=wI(N,F+p+f,x?F+A:this.right,e.rtl),y(l.x(F),I,j),x)m.x+=A+u;else if(typeof j.text!="string"){const K=c.lineHeight;m.y+=sk(j,K)+u}else m.y+=_}),$S(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=st(n.font),r=Xt(n.padding);if(!n.display)return;const i=hi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=r.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=et(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);u=c+et(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const m=et(a,h,h+f);o.textAlign=i.textAlign(Ep(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,wa(o,n.text,m,u,s)}_computeTitleHeight(){const e=this.options.title,n=st(e.font),s=Xt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(hr(e,this.left,this.right)&&hr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],hr(e,r.left,r.left+r.width)&&hr(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!S4(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=v4(r,s);r&&!i&&ge(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&ge(n.onHover,[e,s,this],this)}else s&&ge(n.onClick,[e,s,this],this)}}function b4(t,e,n,s,r){const i=w4(s,t,e,n),o=_4(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function w4(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function _4(t,e,n){let s=t;return typeof e.text!="string"&&(s=sk(e,n)),s}function sk(t,e){const n=t.text?t.text.length:0;return e*n}function S4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var k4={id:"legend",_element:nv,start(t,e,n){const s=t.legend=new nv({ctx:t.ctx,options:n,chart:t});zt.configure(t,s,n),zt.addBox(t,s)},stop(t){zt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;zt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Xt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rk extends Us{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=$e(s.text)?s.text.length:1;this._padding=Xt(s.padding);const i=r*st(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=et(a,s,i),h=n+e,c=i-s):(o.position==="left"?(u=s+e,h=et(a,r,n),l=He*-.5):(u=i-e,h=et(a,n,r),l=He*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=st(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);wa(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Ep(n.align),textBaseline:"middle",translation:[o,a]})}}function j4(t,e){const n=new rk({ctx:t.ctx,options:e,chart:t});zt.configure(t,n,e),zt.addBox(t,n),t.titleBlock=n}var C4={id:"title",_element:rk,start(t,e,n){j4(t,n)},stop(t){const e=t.titleBlock;zt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;zt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vo={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=wf(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function pn(t,e){return e&&($e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function T4(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function sv(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=st(e.bodyFont),c=st(e.titleFont),u=st(e.footerFont),h=i.length,f=r.length,m=s.length,p=Xt(e.padding);let v=p.height,b=0,g=s.reduce((w,_)=>w+_.before.length+_.lines.length+_.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=m*w+(g-m)*l.lineHeight+(g-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const x=function(w){b=Math.max(b,n.measureText(w).width+y)};return n.save(),n.font=c.string,ce(t.title,x),n.font=l.string,ce(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?o+2+e.boxPadding:0,ce(s,w=>{ce(w.before,x),ce(w.lines,x),ce(w.after,x)}),y=0,n.font=u.string,ce(t.footer,x),n.restore(),b+=p.width,{width:b,height:v}}function P4(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function E4(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function N4(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=o-i/2&&(c="right"),E4(c,t,e,n)&&(c="center"),c}function rv(t,e,n){const s=n.yAlign||e.yAlign||P4(t,n);return{xAlign:n.xAlign||e.xAlign||N4(t,e,n,s),yAlign:s}}function A4(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function M4(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function iv(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=di(o);let p=A4(e,a);const v=M4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+r:a==="right"&&(p+=Math.max(h,m)+r),{x:Pt(p,0,s.width-e.width),y:Pt(v,0,s.height-e.height)}}function jl(t,e,n){const s=Xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function ov(t){return pn([],Rn(t))}function O4(t,e,n){return Er(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function av(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ik={beforeTitle:Mn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Mn,beforeBody:Mn,beforeLabel:Mn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return oe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Mn,afterBody:Mn,beforeFooter:Mn,footer:Mn,afterFooter:Mn};function mt(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?ik[e].call(n,s):r}class Tf extends Us{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new zS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=O4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=mt(s,"beforeTitle",this,e),i=mt(s,"title",this,e),o=mt(s,"afterTitle",this,e);let a=[];return a=pn(a,Rn(r)),a=pn(a,Rn(i)),a=pn(a,Rn(o)),a}getBeforeBody(e,n){return ov(mt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return ce(e,i=>{const o={before:[],lines:[],after:[]},a=av(s,i);pn(o.before,Rn(mt(a,"beforeLabel",this,i))),pn(o.lines,mt(a,"label",this,i)),pn(o.after,Rn(mt(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return ov(mt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=mt(s,"beforeFooter",this,e),i=mt(s,"footer",this,e),o=mt(s,"afterFooter",this,e);let a=[];return a=pn(a,Rn(r)),a=pn(a,Rn(i)),a=pn(a,Rn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(T4(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),ce(a,u=>{const h=av(e.callbacks,u);r.push(mt(h,"labelColor",this,u)),i.push(mt(h,"labelPointStyle",this,u)),o.push(mt(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=vo[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=sv(this,s),c=Object.assign({},a,l),u=rv(this.chart,s,c),h=iv(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=di(a),{x:f,y:m}=e,{width:p,height:v}=n;let b,g,y,x,w,_;return i==="center"?(w=m+v/2,r==="left"?(b=f,g=b-o,x=w+o,_=w-o):(b=f+p,g=b+o,x=w-o,_=w+o),y=b):(r==="left"?g=f+Math.max(l,u)+o:r==="right"?g=f+p-Math.max(c,h)-o:g=this.caretX,i==="top"?(x=m,w=x-o,b=g-o,y=g+o):(x=m+v,w=x+o,b=g+o,y=g-o),_=x),{x1:b,x2:g,x3:y,y1:x,y2:w,y3:_}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const c=hi(s.rtl,this.x,this.width);for(e.x=jl(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=st(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=i,u=st(i.bodyFont),h=jl(this,"left",i),f=r.x(h),m=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+m;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=r.leftForLtr(f,c)+c/2,g=p+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Sf(e,v,b,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sf(e,v,b,g)}else{e.lineWidth=re(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c),b=r.leftForLtr(r.xPlus(f,1),c-2),g=di(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,zc(e,{x:v,y:p,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),zc(e,{x:b,y:p+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,p,c,l),e.strokeRect(v,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=st(s.bodyFont);let f=h.lineHeight,m=0;const p=hi(s.rtl,this.x,this.width),v=function(T){n.fillText(T,p.x(e.x+m),e.y+f/2),e.y+=f+i},b=p.textAlign(o);let g,y,x,w,_,j,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=jl(this,b,s),n.fillStyle=s.bodyColor,ce(this.beforeBody,v),m=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,j=r.length;w<j;++w){for(g=r[w],y=this.labelTextColors[w],n.fillStyle=y,ce(g.before,v),x=g.lines,a&&x.length&&(this._drawColorBox(n,e,w,p,s),f=Math.max(h.lineHeight,l)),_=0,C=x.length;_<C;++_)v(x[_]),f=h.lineHeight;ce(g.after,v)}m=0,f=h.lineHeight,ce(this.afterBody,v),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=hi(s.rtl,this.x,this.width);for(e.x=jl(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=st(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=di(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=vo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=sv(this,e),l=Object.assign({},o,this._size),c=rv(n,e,l),u=iv(e,l,c,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Xt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),BS(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),$S(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!Bc(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!Bc(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=vo[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}X(Tf,"positioners",vo);var D4={id:"tooltip",_element:Tf,positioners:vo,afterInit(t,e,n){n&&(t.tooltip=new Tf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ik},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const R4=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function L4(t,e,n,s){const r=t.indexOf(e);if(r===-1)return R4(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const I4=(t,e)=>t===null?null:Pt(Math.round(t),0,e);function lv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pf extends zi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(oe(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:L4(s,e,te(n,e),this._addedLabels),I4(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return lv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(Pf,"id","category"),X(Pf,"defaults",{ticks:{callback:lv}});function F4(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,p=u-1,{min:v,max:b}=e,g=!oe(o),y=!oe(a),x=!oe(c),w=(b-v)/(h+1);let _=ux((b-v)/p/m)*m,j,C,T,N;if(_<1e-14&&!g&&!y)return[{value:v},{value:b}];N=Math.ceil(b/_)-Math.floor(v/_),N>p&&(_=ux(N*_/p/m)*m),oe(l)||(j=Math.pow(10,l),_=Math.ceil(_*j)/j),r==="ticks"?(C=Math.floor(v/_)*_,T=Math.ceil(b/_)*_):(C=v,T=b),g&&y&&i&&dI((a-o)/i,_/1e3)?(N=Math.round(Math.min((a-o)/_,u)),_=(a-o)/N,C=o,T=a):x?(C=g?o:C,T=y?a:T,N=c-1,_=(T-C)/N):(N=(T-C)/_,$o(N,Math.round(N),_/1e3)?N=Math.round(N):N=Math.ceil(N));const A=Math.max(dx(_),dx(C));j=Math.pow(10,oe(l)?A:l),C=Math.round(C*j)/j,T=Math.round(T*j)/j;let F=0;for(g&&(f&&C!==o?(n.push({value:o}),C<o&&F++,$o(Math.round((C+F*_)*j)/j,o,cv(o,w,t))&&F++):C<o&&F++);F<N;++F){const I=Math.round((C+F*_)*j)/j;if(y&&I>a)break;n.push({value:I})}return y&&f&&T!==a?n.length&&$o(n[n.length-1].value,a,cv(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||T===a)&&n.push({value:T}),n}function cv(t,e,{horizontal:n,minRotation:s}){const r=dr(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class B4 extends zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return oe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=En(r),c=En(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=F4(r,i);return e.bounds==="ticks"&&hI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return PS(e,this.chart.options.locale,this.options.ticks.format)}}class Ef extends B4{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=dr(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(Ef,"id","linear"),X(Ef,"defaults",{ticks:{callback:NS.formatters.numeric}});const Cu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xt=Object.keys(Cu);function uv(t,e){return t-e}function dv(t,e){if(oe(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Gt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(va(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function hv(t,e,n,s){const r=xt.length;for(let i=xt.indexOf(t);i<r-1;++i){const o=Cu[xt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return xt[i]}return xt[r-1]}function $4(t,e,n,s,r){for(let i=xt.length-1;i>=xt.indexOf(n);i--){const o=xt[i];if(Cu[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return xt[n?xt.indexOf(n):0]}function V4(t){for(let e=xt.indexOf(t)+1,n=xt.length;e<n;++e)if(Cu[xt[e]].common)return xt[e]}function fv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Pp(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function z4(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function mv(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:z4(t,s,r,n)}class Hc extends zi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new X5._date(e.adapters.date);r.init(n),Bo(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:dv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Gt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Gt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=xI(r,i,o);return this._unit=n.unit||(s.autoSkip?hv(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):$4(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:V4(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),mv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Pt(n,0,o),s=Pt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||hv(i.minUnit,n,s,this._getLabelCapacity(n)),a=te(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=va(l)||l===!0,u={};let h=n,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,a,o),m++)fv(u,f,p);return(f===s||r.bounds==="ticks"||m===1)&&fv(u,f,p),Object.keys(u).sort(uv).map(v=>+v)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return ge(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=s[n],m=c&&h&&f&&f.major;return this._adapter.format(e,r||(m?h:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=dr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,mv(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(dv(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jS(e.sort(uv))}}X(Hc,"id","time"),X(Hc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cl(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=fr(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=fr(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class pv extends Hc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cl(n,this.min),this._tableRange=Cl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Cl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Cl(this._table,s*this._tableRange+this._minPos,!0)}}X(pv,"id","timeseries"),X(pv,"defaults",Hc.defaults);const ok="label";function gv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function U4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ak(t,e){t.labels=e}function lk(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ok;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function W4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ok;const n={labels:[],datasets:[]};return ak(n,t.labels),lk(n,t.datasets,e),n}function H4(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,m=S.useRef(null),p=S.useRef(null),v=()=>{m.current&&(p.current=new ju(m.current,{type:o,data:W4(a,i),options:l&&{...l},plugins:c}),gv(e,p.current))},b=()=>{gv(e,null),p.current&&(p.current.destroy(),p.current=null)};return S.useEffect(()=>{!r&&p.current&&l&&U4(p.current,l)},[r,l]),S.useEffect(()=>{!r&&p.current&&ak(p.current.config.data,a.labels)},[r,a.labels]),S.useEffect(()=>{!r&&p.current&&a.datasets&&lk(p.current.config.data,a.datasets,i)},[r,a.datasets]),S.useEffect(()=>{p.current&&(r?(b(),setTimeout(v)):p.current.update(h))},[r,l,a.labels,a.datasets,h]),S.useEffect(()=>{p.current&&(b(),setTimeout(v))},[o]),S.useEffect(()=>(v(),()=>b()),[]),Fe.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},u)}const q4=S.forwardRef(H4);function ck(t,e){return ju.register(e),S.forwardRef((n,s)=>Fe.createElement(q4,{...n,ref:s,type:t}))}const K4=ck("line",Gl),Y4=ck("bar",Yl);function Nf(){const t=Array.from({length:24},(n,s)=>`${s.toString().padStart(2,"0")}:00`),e=t.map((n,s)=>{const r=s>=8&&s<=18,i=s>=10&&s<=16;let o=0;r?o=i?150:80:o=10;const a=.3+Math.random()*.7;return Math.round(o*a)});return{labels:t,data:e}}function uk(){const t=new Date,e=hR(t),n=uR(t),s=mS({start:e,end:n}),r=s.map(o=>$t(o,"dd")),i=s.map((o,a)=>{if(o>t)return 0;const c=o.getDay()===0||o.getDay()===6?800:1200,u=1+a/s.length*.2,h=.7+Math.random()*.6;return Math.round(c*u*h)});return{labels:r,data:i}}function G4(){const t=Nf(),e=uk(),n=t.data.reduce((o,a)=>o+a,0),s=e.data.reduce((o,a)=>o+a,0),r=Math.floor(n/45)+Math.floor(Math.random()*5),i=Math.floor(s/120)+Math.floor(Math.random()*20);return{dailyRevenue:n,monthlyRevenue:s,todaysOrders:r,activeCustomers:i}}function X4(t){return{dailyRevenue:Math.max(0,t.dailyRevenue+Math.floor((Math.random()-.5)*100)),monthlyRevenue:Math.max(0,t.monthlyRevenue+Math.floor((Math.random()-.5)*200)),todaysOrders:Math.max(0,t.todaysOrders+Math.floor((Math.random()-.5)*3)),activeCustomers:Math.max(0,t.activeCustomers+Math.floor((Math.random()-.5)*5))}}ju.register(Pf,Ef,Jl,xo,Zl,C4,D4,k4);function Q4(){const[t,e]=S.useState(G4()),[n,s]=S.useState(Nf()),[r,i]=S.useState(uk()),[o,a]=S.useState(new Date);S.useEffect(()=>{const m=setInterval(()=>{e(p=>X4(p)),s(Nf()),a(new Date)},5e3);return()=>clearInterval(m)},[]);const l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Today's Revenue by Hour",font:{size:16,weight:"bold"},color:"#1e3a8a"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(m){return"$"+m}}}},animation:{duration:1e3,easing:"easeInOutQuart"}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Monthly Revenue by Day",font:{size:16,weight:"bold"},color:"#1e3a8a"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(m){return"$"+m}}}},animation:{duration:1e3,easing:"easeInOutQuart"}},u={labels:n.labels,datasets:[{data:n.data,borderColor:"rgb(251, 146, 60)",backgroundColor:"rgba(251, 146, 60, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgb(251, 146, 60)",pointBorderColor:"white",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},h={labels:r.labels,datasets:[{data:r.data,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1,borderRadius:4,borderSkipped:!1}]},f=[{title:"Daily Revenue",value:`$${t.dailyRevenue.toFixed(2)}`,icon:Yh,color:"from-green-400 to-green-500",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"Monthly Revenue",value:`$${t.monthlyRevenue.toLocaleString()}`,icon:JE,color:"from-blue-400 to-blue-500",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{title:"Today's Orders",value:t.todaysOrders.toString(),icon:GE,color:"from-orange-400 to-orange-500",bgColor:"bg-orange-50",iconColor:"text-orange-600"},{title:"Active Customers",value:t.activeCustomers.toString(),icon:eN,color:"from-purple-400 to-purple-500",bgColor:"bg-purple-50",iconColor:"text-purple-600"}];return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Business Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Real-time revenue and performance metrics"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mt-4 sm:mt-0",children:[d.jsx(Wn,{className:"w-4 h-4"}),d.jsxs("span",{children:["Last updated: ",o.toLocaleTimeString()]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((m,p)=>d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.1},className:`${m.bgColor} rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:m.title}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value})]}),d.jsx("div",{className:`p-3 rounded-lg ${m.bgColor}`,children:d.jsx(m.icon,{className:`w-6 h-6 ${m.iconColor}`})})]})},m.title))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:d.jsx("div",{className:"h-80",children:d.jsx(K4,{data:u,options:l})})}),d.jsx(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:d.jsx("div",{className:"h-80",children:d.jsx(Y4,{data:h,options:c})})})]}),d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(ut,{className:"w-6 h-6 text-blue-600 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Business Insights"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium mb-1",children:"Peak Hours:"}),d.jsx("p",{children:"10:00 AM - 4:00 PM (highest revenue)"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium mb-1",children:"Average Order Value:"}),d.jsxs("p",{children:["$",t.dailyRevenue>0?(t.dailyRevenue/Math.max(t.todaysOrders,1)).toFixed(2):"0.00"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium mb-1",children:"Customer Lifetime Value:"}),d.jsxs("p",{children:["$",t.activeCustomers>0?(t.monthlyRevenue/t.activeCustomers).toFixed(2):"0.00"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium mb-1",children:"Revenue Growth:"}),d.jsx("p",{className:"text-green-600 font-medium",children:"+12.5% vs last month"})]})]})]})]})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"📊 Dashboard updates automatically every 5 seconds with real-time data"})})]})}function dk(){const[t,e]=S.useState("calendar"),[n,s]=S.useState("all"),{bookings:r}=Bs(),i=n==="all"?r:r.filter(a=>a.status===n),o={total:r.length,pending:r.filter(a=>a.status==="pending").length,confirmed:r.filter(a=>a.status==="confirmed").length,completed:r.filter(a=>a.status==="completed").length,cancelled:r.filter(a=>a.status==="cancelled").length};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b",children:d.jsx("div",{className:"w-full px-4 py-4",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 max-w-6xl mx-auto",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:"Admin Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Manage bookings and settings"})]}),d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[d.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${t==="dashboard"?"bg-white text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-900"}`,children:[d.jsx(UE,{className:"w-4 h-4"}),d.jsx("span",{children:"Dashboard"})]}),d.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${t==="calendar"?"bg-white text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-900"}`,children:[d.jsx(ut,{className:"w-4 h-4"}),d.jsx("span",{children:"Calendar"})]}),d.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${t==="list"?"bg-white text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-900"}`,children:[d.jsx(HE,{className:"w-4 h-4"}),d.jsx("span",{children:"List"})]}),d.jsxs("button",{onClick:()=>e("settings"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${t==="settings"?"bg-white text-blue-900 shadow-sm":"text-gray-600 hover:text-blue-900"}`,children:[d.jsx($m,{className:"w-4 h-4"}),d.jsx("span",{children:"Settings"})]})]})})]})})}),d.jsx("div",{className:"w-full px-4 py-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[t!=="dashboard"&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[{label:"Total",value:o.total,color:"bg-blue-500"},{label:"Pending",value:o.pending,color:"bg-yellow-500"},{label:"Confirmed",value:o.confirmed,color:"bg-green-500"},{label:"Completed",value:o.completed,color:"bg-gray-500"},{label:"Cancelled",value:o.cancelled,color:"bg-red-500"}].map((a,l)=>d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:l*.1},className:"bg-white rounded-lg p-4 shadow-sm",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${a.color}`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),d.jsx("p",{className:"text-sm text-gray-500",children:a.label})]})]})},a.label))}),d.jsxs("div",{className:t==="dashboard"?"":"bg-white rounded-lg shadow-sm",children:[t==="dashboard"&&d.jsx(Q4,{}),t==="calendar"&&d.jsx(EL,{}),t==="list"&&d.jsx(NL,{bookings:i,statusFilter:n,onStatusFilterChange:s}),t==="settings"&&d.jsx(AL,{})]})]})})]})}function J4(){const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(!1),{login:u}=Vs(),h=async f=>{f.preventDefault(),a(""),c(!0),await new Promise(p=>setTimeout(p,500)),u(t,n)||a("Usuário ou senha incorretos"),c(!1)};return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:d.jsx(Pc,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Admin Access"}),d.jsx("p",{className:"text-gray-600",children:"PetBookin"})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your username",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",value:n,onChange:f=>s(f.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your password",required:!0}),d.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(Tc,{className:"w-5 h-5"}):d.jsx(la,{className:"w-5 h-5"})})]})]}),o&&d.jsx(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-orange-400 text-white py-3 rounded-lg font-semibold hover:bg-orange-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:l?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Login"})]})]})})}function Z4(){const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(!1),[o,a]=S.useState(""),[l,c]=S.useState(!1),{signIn:u}=Vs(),h=cu(),f=async m=>{m.preventDefault(),a(""),c(!0);const{error:p}=await u(t,n);p?a(p.message):h("/dashboard"),c(!1)};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:d.jsx(Pc,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600",children:"Sign in to your PetBookin account"})]}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",value:n,onChange:m=>s(m.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your password",required:!0}),d.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(Tc,{className:"w-5 h-5"}):d.jsx(la,{className:"w-5 h-5"})})]})]}),o&&d.jsx(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),d.jsx("button",{type:"submit",disabled:l,className:"w-full bg-orange-400 text-white py-3 rounded-lg font-semibold hover:bg-orange-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:l?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",d.jsx(Tt,{to:"/signup",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Sign up"})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs(Tt,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[d.jsx(Im,{className:"w-4 h-4"}),d.jsx("span",{children:"Back to Booking"})]})})]})})}function e3(){const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(""),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(""),[f,m]=S.useState(!1),{signUp:p}=Vs(),v=cu(),b=async g=>{if(g.preventDefault(),h(""),n!==r){h("Passwords do not match");return}if(n.length<6){h("Password must be at least 6 characters long");return}m(!0);const{error:y}=await p(t,n);y?h(y.message):v("/dashboard"),m(!1)};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:d.jsx(ZE,{className:"w-8 h-8 text-green-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Create Account"}),d.jsx("p",{className:"text-gray-600",children:"Join PetBookin today"})]}),d.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",value:t,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:o?"text":"password",value:n,onChange:g=>s(g.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Create a password",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?d.jsx(Tc,{className:"w-5 h-5"}):d.jsx(la,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:l?"text":"password",value:r,onChange:g=>i(g.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Confirm your password",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?d.jsx(Tc,{className:"w-5 h-5"}):d.jsx(la,{className:"w-5 h-5"})})]})]}),u&&d.jsx(Q.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),d.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:f?d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Account"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",d.jsx(Tt,{to:"/login",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Sign in"})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs(Tt,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[d.jsx(Im,{className:"w-4 h-4"}),d.jsx("span",{children:"Back to Booking"})]})})]})})}function t3(){const{user:t,signOut:e}=Vs(),[n,s]=S.useState(null),[r,i]=S.useState(!0);S.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{const{data:u,error:h}=await rr.from("stripe_user_subscriptions").select("subscription_status, price_id, current_period_end, cancel_at_period_end").maybeSingle();h?console.error("Error fetching subscription:",h):s(u)}catch(u){console.error("Error fetching subscription:",u)}finally{i(!1)}},a=()=>{if(!n)return"No subscription";switch(n.subscription_status){case"active":return"PetBookin Pro - Active";case"trialing":return"PetBookin Pro - Trial";case"past_due":return"PetBookin Pro - Past Due";case"canceled":return"PetBookin Pro - Canceled";case"incomplete":return"PetBookin Pro - Incomplete";default:return"No active subscription"}},l=()=>(n==null?void 0:n.subscription_status)==="active"||(n==null?void 0:n.subscription_status)==="trialing",c=async()=>{await e()};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12 px-4",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 text-white p-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:d.jsx(Xn,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back!"}),d.jsx("p",{className:"text-blue-100",children:t==null?void 0:t.email})]})]}),d.jsxs("button",{onClick:c,className:"flex items-center space-x-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[d.jsx(k_,{className:"w-4 h-4"}),d.jsx("span",{children:"Sign Out"})]})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Subscription Status"}),r?d.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:d.jsxs("div",{className:"animate-pulse flex space-x-4",children:[d.jsx("div",{className:"rounded-full bg-gray-300 h-10 w-10"}),d.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})}):d.jsx("div",{className:`rounded-lg p-4 border-2 ${l()?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(S_,{className:`w-6 h-6 ${l()?"text-green-600":"text-gray-400"}`}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-gray-900",children:a()}),(n==null?void 0:n.current_period_end)&&d.jsxs("p",{className:"text-sm text-gray-600",children:[n.cancel_at_period_end?"Expires":"Renews"," on:"," ",new Date(n.current_period_end*1e3).toLocaleDateString()]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(Tt,{to:"/",className:"bg-gradient-to-r from-orange-400 to-pink-400 text-white p-6 rounded-xl hover:from-orange-500 hover:to-pink-500 transition-all duration-200 transform hover:scale-105",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(ut,{className:"w-6 h-6"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Book Appointment"}),d.jsx("p",{className:"text-sm text-orange-100",children:"Schedule a new booking"})]})]})}),d.jsx(Tt,{to:"/subscription",className:"bg-gradient-to-r from-blue-400 to-purple-400 text-white p-6 rounded-xl hover:from-blue-500 hover:to-purple-500 transition-all duration-200 transform hover:scale-105",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(__,{className:"w-6 h-6"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Manage Subscription"}),d.jsx("p",{className:"text-sm text-blue-100",children:"View and update your plan"})]})]})}),l()&&d.jsx(Tt,{to:"/admin",className:"bg-gradient-to-r from-green-400 to-teal-400 text-white p-6 rounded-xl hover:from-green-500 hover:to-teal-500 transition-all duration-200 transform hover:scale-105",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx($m,{className:"w-6 h-6"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Admin Panel"}),d.jsx("p",{className:"text-sm text-green-100",children:"Manage your business"})]})]})})]}),!l()&&d.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 bg-gradient-to-r from-orange-50 to-pink-50 border border-orange-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upgrade to PetBookin Pro"}),d.jsx("p",{className:"text-orange-700",children:"Get access to the admin dashboard and premium features"})]}),d.jsx(Tt,{to:"/subscription",className:"bg-orange-400 text-white px-6 py-2 rounded-lg hover:bg-orange-500 transition-colors font-medium",children:"Upgrade Now"})]})})]})]})})})}const yv=[{id:"prod_T1yyZCbpELzsNH",priceId:"price_1S5v0nGoyplEIAuk7WShueyO",name:"PetBookin",description:"Fast and easy online booking with PetBookin. No calls, available 24/7",mode:"subscription"}];function n3(){var m;const{user:t,session:e}=Vs(),[n,s]=S.useState(null),[r,i]=S.useState(!0),[o,a]=S.useState(null);S.useEffect(()=>{t&&l()},[t]);const l=async()=>{try{const{data:p,error:v}=await rr.from("stripe_user_subscriptions").select("subscription_status, price_id, current_period_end, cancel_at_period_end").maybeSingle();v?console.error("Error fetching subscription:",v):s(p)}catch(p){console.error("Error fetching subscription:",p)}finally{i(!1)}},c=async(p,v)=>{if(e!=null&&e.access_token){a(p);try{const g=await(await fetch("https://yqyxzvdeyxvynemkffjy.supabase.co/functions/v1/stripe-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({price_id:p,success_url:`${window.location.origin}/success`,cancel_url:`${window.location.origin}/subscription`,mode:v})})).json();if(g.error)throw new Error(g.error);g.url&&(window.location.href=g.url)}catch(b){console.error("Checkout error:",b),alert("Failed to start checkout process. Please try again.")}finally{a(null)}}},u=()=>{if(!n)return"No subscription";switch(n.subscription_status){case"active":return"Active";case"trialing":return"Trial";case"past_due":return"Past Due";case"canceled":return"Canceled";case"incomplete":return"Incomplete";default:return"No subscription"}},h=()=>(n==null?void 0:n.subscription_status)==="active"||(n==null?void 0:n.subscription_status)==="trialing",f=()=>n!=null&&n.price_id?yv.find(p=>p.priceId===n.price_id):null;return r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(S0,{className:"w-6 h-6 animate-spin text-blue-600"}),d.jsx("span",{className:"text-blue-900 font-medium",children:"Loading subscription..."})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-12 px-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs(Tt,{to:"/dashboard",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors mb-6",children:[d.jsx(Im,{className:"w-4 h-4"}),d.jsx("span",{children:"Back to Dashboard"})]}),d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-orange-400 to-pink-400 rounded-full mb-4",children:d.jsx(S_,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Subscription Plans"}),d.jsx("p",{className:"text-gray-600",children:"Choose the perfect plan for your pet grooming business"})]}),n&&d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Current Subscription"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-lg font-medium text-gray-900",children:["Status: ",d.jsx("span",{className:`${h()?"text-green-600":"text-gray-600"}`,children:u()})]}),f()&&d.jsxs("p",{className:"text-gray-600",children:["Plan: ",(m=f())==null?void 0:m.name]}),n.current_period_end&&d.jsxs("p",{className:"text-gray-600",children:[n.cancel_at_period_end?"Expires":"Renews"," on:"," ",new Date(n.current_period_end*1e3).toLocaleDateString()]})]}),h()&&d.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[d.jsx(hs,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Active"})]})]})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-1 lg:grid-cols-1",children:yv.map((p,v)=>{const b=(n==null?void 0:n.price_id)===p.priceId,g=h()&&b;return d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:`bg-white rounded-2xl shadow-xl overflow-hidden ${b?"ring-2 ring-orange-400":""}`,children:[d.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-pink-400 text-white p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold",children:p.name}),d.jsx("p",{className:"text-orange-100 mt-1",children:p.description})]}),b&&d.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:d.jsx("span",{className:"text-sm font-medium",children:"Current Plan"})})]})}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"text-4xl font-bold text-blue-900 mb-2",children:["$247",d.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})}),d.jsxs("div",{className:"space-y-3 mb-8",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(hs,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:"24/7 online booking system"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(hs,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:"Automated WhatsApp notifications"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(hs,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:"Customer management system"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(hs,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:"Admin dashboard with analytics"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(hs,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"text-gray-700",children:"Unlimited bookings"})]})]}),!g&&d.jsx("button",{onClick:()=>c(p.priceId,p.mode),disabled:o===p.priceId,className:"w-full bg-gradient-to-r from-orange-400 to-pink-400 text-white py-3 rounded-lg font-semibold hover:from-orange-500 hover:to-pink-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:o===p.priceId?d.jsx(S0,{className:"w-5 h-5 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(__,{className:"w-5 h-5"}),d.jsx("span",{children:p.mode==="subscription"?"Subscribe Now":"Buy Now"})]})}),g&&d.jsx("div",{className:"w-full bg-green-100 text-green-800 py-3 rounded-lg font-semibold text-center",children:"✓ Currently Active"})]})]},p.id)})}),d.jsx("div",{className:"text-center mt-8",children:d.jsx("p",{className:"text-gray-600 text-sm",children:"All plans include customer support and regular updates. Cancel anytime."})})]})})}function s3(){return S.useEffect(()=>{localStorage.removeItem("checkoutSessionId")},[]),d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:d.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[d.jsx(Q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:d.jsx(v_,{className:"w-10 h-10 text-green-500"})}),d.jsx(Q.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-blue-900 mb-4",children:"Payment Successful!"}),d.jsx(Q.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 mb-8",children:"Thank you for your purchase! Your subscription has been activated and you now have full access to PetBookin."}),d.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[d.jsxs(Tt,{to:"/dashboard",className:"w-full bg-gradient-to-r from-orange-400 to-pink-400 text-white py-3 rounded-lg font-semibold hover:from-orange-500 hover:to-pink-500 transition-all duration-200 flex items-center justify-center space-x-2",children:[d.jsx("span",{children:"Go to Dashboard"}),d.jsx(zE,{className:"w-5 h-5"})]}),d.jsxs(Tt,{to:"/",className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[d.jsx(qE,{className:"w-5 h-5"}),d.jsx("span",{children:"Back to Home"})]})]}),d.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-8 p-4 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"What's next?"}),d.jsx("br",{}),"You can now access all premium features including the admin dashboard, analytics, and unlimited bookings."]})})]})})}function r3(){const[t,e]=S.useState("booking"),{isAuthenticated:n,user:s,loading:r}=Vs();if(r)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-400"})});const i=()=>{e(t==="booking"?"admin":"booking")};return t==="admin"&&!n?d.jsx(J4,{}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(tN,{title:t==="booking"?"Online Scheduling":"Admin Panel",showAdminButton:!0,onAdminClick:i,isAdminView:t==="admin"}),t==="booking"?d.jsx(jL,{}):d.jsx(dk,{})]})}function zd({children:t}){const{user:e,loading:n}=Vs();return n?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-400"})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(IC,{to:"/login",replace:!0})}function i3(){return d.jsx(BE,{children:d.jsx(wT,{children:d.jsx(vT,{children:d.jsx(lT,{children:d.jsxs(BC,{children:[d.jsx(os,{path:"/",element:d.jsx(r3,{})}),d.jsx(os,{path:"/login",element:d.jsx(Z4,{})}),d.jsx(os,{path:"/signup",element:d.jsx(e3,{})}),d.jsx(os,{path:"/success",element:d.jsx(s3,{})}),d.jsx(os,{path:"/dashboard",element:d.jsx(zd,{children:d.jsx(t3,{})})}),d.jsx(os,{path:"/subscription",element:d.jsx(zd,{children:d.jsx(n3,{})})}),d.jsx(os,{path:"/admin",element:d.jsx(zd,{children:d.jsx(dk,{})})})]})})})})})}Nw(document.getElementById("root")).render(d.jsx(S.StrictMode,{children:d.jsx(i3,{})}));
